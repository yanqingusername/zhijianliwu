(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesub/CinemaTicket/CinemaTicketHome"],{"05c9":function(t,i,e){"use strict";e.r(i);var s=e("4562"),n=e("1d44");for(var a in n)"default"!==a&&function(t){e.d(i,t,(function(){return n[t]}))}(a);e("b6cc");var r,l=e("f0c5"),u=Object(l["a"])(n["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],r);i["default"]=u.exports},"1d44":function(t,i,e){"use strict";e.r(i);var s=e("b422"),n=e.n(s);for(var a in s)"default"!==a&&function(t){e.d(i,t,(function(){return s[t]}))}(a);i["default"]=n.a},4562:function(t,i,e){"use strict";var s;e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return a})),e.d(i,"a",(function(){return s}));var n=function(){var t=this,i=t.$createElement,e=(t._self._c,(0==t.tabNumber||1==t.tabNumber)&&t.swiper.length>0?t.__map(t.swiper,(function(i,e){var s=t.__get_orig(i),n=t.$utils.imageUrl(i.banner);return{$orig:s,g0:n}})):null);t.$mp.data=Object.assign({},{$root:{l0:e}})},a=[]},b422:function(t,i,e){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e={data:function(){return{FilmCitiesList:[],cityCode:"440300",regionCode:"",date:"",keywords:"",longitude:"",latitude:"",FilmCinemaList:[],pageSize:10,pageIndex:1,tabNumber:0,currTag:!1,cityname:"北京",swiper:[],swiperCurrentIndex:0,autoplay:!0,interval:2e3,duration:500,isSearch:!1,cthList:[],itemsList:[{title:"IMAX厅"},{title:"IMAX厅"},{title:"IMAX厅"},{title:"IMAX厅"}]}},onLoad:function(i){var e=this,s=this,n=JSON.stringify({a:0}),a="get_banner";this.$utils.post(a,n).then((function(t){console.log("轮播图：",t),e.swiper=t.rs})),t.getLocation({type:"wgs84",success:function(t){s.getCityAddress(t.latitude,t.longitude)}}),this.getFilmmovielist(1),this.getFilmCitiesList()},methods:{clickTabs:function(t){this.tabNumber=t.currentTarget.dataset.tabnumber,this.currTag=!1,0==this.tabNumber||1==this.tabNumber?this.getFilmmovielist(1):this.getFilmCinemaList(1)},changeswiper:function(t){var i=t.detail,e=(i.current,i.source);"autoplay"!==e&&"touch"!==e||(this.swiperCurrentIndex=t.detail.current)},onkeyword:function(t){this.keywords=t.detail.value},search:function(){var i=this.keywords.replace(/[ ]/g,"");i?(this.keywords=i,this.getFilmCinemaList(1)):t.showToast({icon:"none",title:"请输入搜索内容"})},clickSearch:function(){this.isSearch=!this.isSearch,this.currTag=!1},clickSelect:function(){this.currTag=!this.currTag},getCityAddress:function(t,i){var e=this,s="get_city_info",n="filmset",a=JSON.stringify({latitude:t,longitude:i});this.$utils.postNew(s,a,n).then((function(s){1==s.sta&&(e.cityname=s.rs.addressComponent.city,e.longitude=i,e.latitude=t)}))},getFilmmovielist:function(t){1==t&&(this.pageIndex=1);var i=this,e="get_film_movie_list",s="films",n=JSON.stringify({type:this.tabNumber,size:this.pageSize,page:this.pageIndex});this.$utils.postNew(e,n,s).then((function(e){1==t?(i.pageIndex++,i.cthList=e.rs.list,i.isAll=!1):e.rs.list.length>0?(i.cthList=i.cthList.concat(e.rs.list),i.pageIndex++):i.isAll=!0}))},getFilmCinemaList:function(t){1==t&&(this.pageIndex=1);var i=this,e="get_film_cinema_list",s="films",n=JSON.stringify({cityCode:this.cityCode,regionCode:this.regionCode,date:this.date,keywords:this.keywords,longitude:this.longitude,latitude:this.latitude,size:this.pageSize,page:this.pageIndex});this.$utils.postNew(e,n,s).then((function(e){1==t?(i.pageIndex++,i.FilmCinemaList=e.rs.list,i.isAll=!1):e.rs.list.length>0?(i.FilmCinemaList=i.FilmCinemaList.concat(e.rs.list),i.pageIndex++):i.isAll=!0}))},getFilmCitiesList:function(){var t=this,i="get_film_cities_list",e="films",s=JSON.stringify({});this.$utils.postNew(i,s,e).then((function(i){t.FilmCitiesList=i.rs}))},clickDetail:function(i){var e=i.currentTarget.dataset.url;t.navigateTo({url:e})}},onPullDownRefresh:function(){0==this.tabNumber||1==this.tabNumber?this.getFilmmovielist(1):this.getFilmCinemaList(1),setTimeout((function(){t.stopPullDownRefresh()}),500)},onReachBottom:function(){0==this.tabNumber||1==this.tabNumber?this.getFilmmovielist(2):this.getFilmCinemaList(2)}};i.default=e}).call(this,e("543d")["default"])},b6cc:function(t,i,e){"use strict";var s=e("c9ca"),n=e.n(s);n.a},c28f:function(t,i,e){"use strict";(function(t){e("334b");s(e("66fd"));var i=s(e("05c9"));function s(t){return t&&t.__esModule?t:{default:t}}t(i.default)}).call(this,e("543d")["createPage"])},c9ca:function(t,i,e){}},[["c28f","common/runtime","common/vendor"]]]);