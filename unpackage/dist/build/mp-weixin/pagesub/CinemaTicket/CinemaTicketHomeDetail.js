(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesub/CinemaTicket/CinemaTicketHomeDetail"],{"0450":function(t,e,i){},"9b0d":function(t,e,i){"use strict";i.r(e);var o=i("ef7c"),n=i.n(o);for(var c in o)"default"!==c&&function(t){i.d(e,t,(function(){return o[t]}))}(c);e["default"]=n.a},abd4:function(t,e,i){"use strict";var o;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return c})),i.d(e,"a",(function(){return o}));var n=function(){var t=this,e=t.$createElement;t._self._c},c=[]},b662:function(t,e,i){"use strict";i.r(e);var o=i("abd4"),n=i("9b0d");for(var c in n)"default"!==c&&function(t){i.d(e,t,(function(){return n[t]}))}(c);i("f0fc");var a,s=i("f0c5"),r=Object(s["a"])(n["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],a);e["default"]=r.exports},cdcf:function(t,e,i){"use strict";(function(t){i("334b");o(i("66fd"));var e=o(i("b662"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("543d")["createPage"])},ef7c:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{cityCode:"",movieId:"",movieInfo:"",swiper:[],swiperCurrentIndex:0,swiperIndex:1,autoplay:!0,interval:2e3,duration:500,cthList:[{id:1,title:"失控玩家",score:"9.2",name:"肖恩·维利",name1:"瑞安·雷诺兹 朱迪·科默",time:"2021-09-30上映",status:"1",itemList:[{title:"影城卡特惠¥19.9",color:"#39B498"},{title:"特惠票",color:"#FF5B40"},{title:"可改签",color:"#427DE5"},{title:"杜比影院",color:"#DDDDDD"}]},{id:1,title:"失控玩家",score:"9.2",name:"肖恩·维利",name1:"瑞安·雷诺兹 朱迪·科默",time:"2021-09-30上映",status:"2",itemList:[{title:"影城卡特惠¥19.9",color:"#39B498"},{title:"特惠票",color:"#FF5B40"},{title:"可改签",color:"#427DE5"},{title:"杜比影院",color:"#DDDDDD"}]},{id:1,title:"失控玩家",score:"9.2",name:"肖恩·维利",name1:"瑞安·雷诺兹 朱迪·科默",time:"2021-09-30上映",status:"1",itemList:[{title:"影城卡特惠¥19.9",color:"#39B498"},{title:"特惠票",color:"#FF5B40"},{title:"可改签",color:"#427DE5"},{title:"杜比影院",color:"#DDDDDD"}]},{id:1,title:"失控玩家",score:"9.2",name:"肖恩·维利",name1:"瑞安·雷诺兹 朱迪·科默",time:"2021-09-30上映",status:"3",itemList:[{title:"影城卡特惠¥19.9",color:"#39B498"},{title:"特惠票",color:"#FF5B40"},{title:"可改签",color:"#427DE5"},{title:"杜比影院",color:"#DDDDDD"}]},{id:1,title:"失控玩家",score:"9.2",name:"肖恩·维利",name1:"瑞安·雷诺兹 朱迪·科默",time:"2021-09-30上映",status:"1"}],imgList:[]}},onLoad:function(t){this.movieId=t.movieId,t&&t.cityCode?(this.cityCode=t.cityCode,this.getListData()):this.getArea()},methods:{getArea:function(){var e=this;t.getLocation({type:"gcj02",success:function(t){e.getCityAddress(t.latitude,t.longitude)},fail:function(i){t.showModal({title:"位置授权",content:"获取您的地理位置用于获取当前城市影片列表，建议允许",cancelText:"不允许",confirmText:"允许",success:function(i){i.confirm?t.openSetting({success:function(i){1==i["authSetting"]["scope.userLocation"]?e.getArea():(t.showToast({title:"未能获得当前位置信息",icon:"none"}),t.navigateBack({delta:1}))}}):i.cancel&&(t.showToast({title:"未能获得当前位置信息",icon:"none"}),t.navigateBack({delta:1}))}})}})},getCityAddress:function(e,i){var o=this,n="get_city_info",c="filmset",a=JSON.stringify({latitude:e,longitude:i});this.$utils.postNew(n,a,c).then((function(e){if(1==e.sta){var i=e.rs.address_component.city;o.cityCode=e.rs.cityCode,t.setStorageSync("cityname",i),t.setStorageSync("cityCode",o.cityCode),o.getListData()}}))},getListData:function(){var t=this,e=JSON.stringify({cityCode:this.cityCode,movieId:this.movieId}),i="get_film_movie_dates_info",o="films";this.$utils.postNew(i,e,o).then((function(e){if(console.log("轮播图：",e),t.movieInfo=e.rs.movieInfo,t.swiper.push(e.rs.movieInfo.picHd),"0"==t.movieInfo.grade);else{var i=parseInt(t.movieInfo.grade/2);t.imgList=[];for(var o=0;o<5;o++)o<i?t.imgList.push({imgurl:"https://zhijianlw.com/static/web/img/icon_star_10_20.png"}):t.imgList.push({imgurl:"https://zhijianlw.com/static/web/img/icon_star_default_10_20.png"})}}))},changeswiper:function(t){var e=t.detail,i=(e.current,e.source);"autoplay"!==i&&"touch"!==i||(this.swiperCurrentIndex=t.detail.current,this.swiperIndex=t.detail.current+1)},clickBuy:function(){t.navigateTo({url:"/pagesub/CinemaTicket/CinemaTicketHomeItem?movieId="+this.movieInfo.movieId})}}};e.default=i}).call(this,i("543d")["default"])},f0fc:function(t,e,i){"use strict";var o=i("0450"),n=i.n(o);n.a}},[["cdcf","common/runtime","common/vendor"]]]);