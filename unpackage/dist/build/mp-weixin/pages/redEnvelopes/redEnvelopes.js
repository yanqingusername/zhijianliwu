(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/redEnvelopes/redEnvelopes"],{5117:function(e,t,a){"use strict";a.r(t);var o=a("fa1b"),i=a.n(o);for(var n in o)"default"!==n&&function(e){a.d(t,e,(function(){return o[e]}))}(n);t["default"]=i.a},a22e:function(e,t,a){"use strict";var o=a("d18b"),i=a.n(o);i.a},ab56:function(e,t,a){"use strict";(function(e){a("334b");o(a("66fd"));var t=o(a("cba8"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,a("543d")["createPage"])},c25d:function(e,t,a){"use strict";var o;a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return o}));var i=function(){var e=this,t=e.$createElement,a=(e._self._c,1==e.com?e.__map(e.goodslist,(function(t,a){var o=e.__get_orig(t),i=e.$utils.imageUrl(t.head_img),n=e.$utils.cut_str(t.goodsname,6);return{$orig:o,g0:i,g1:n}})):null),o=2==e.com?e.__map(e.goodslist,(function(t,a){var o=e.__get_orig(t),i=e.$utils.imageUrl(t.head_img),n=e.$utils.cut_str(t.goodsname,9);return{$orig:o,g2:i,g3:n}})):null,i=e.__map(e.cardbag_in_people,(function(t,a){var o=e.__get_orig(t),i=e.$utils.cut_str(t.goods_name,11);return{$orig:o,g4:i}})),n="1"===e.gift?e.$utils.osspath_url("/xcx-static/wishes/cd.png"):null,s="1"===e.gift&&e.radio?e.$utils.osspath_url("/xcx-static/wishes/piay_icon1.png"):null,r="1"!==e.gift||e.radio?null:e.$utils.osspath_url("/xcx-static/wishes/piay_icon.png"),c="1"===e.gift?e.$utils.osspath_url("/xcx-static/wishes/on.png"):null;e.$mp.data=Object.assign({},{$root:{l0:a,l1:o,l2:i,g5:n,g6:s,g7:r,g8:c}})},n=[]},cba8:function(e,t,a){"use strict";a.r(t);var o=a("c25d"),i=a("5117");for(var n in i)"default"!==n&&function(e){a.d(t,e,(function(){return i[e]}))}(n);a("a22e");var s,r=a("f0c5"),c=Object(r["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],s);t["default"]=c.exports},d18b:function(e,t,a){},fa1b:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;o(a("e2fe"));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}e.getRecorderManager();var n=e.createInnerAudioContext();e.createAudioContext("");n.autoplay=!0;var s={data:function(){var e;return e={liwu:[],zhufu_msg:"",send_talk_msg:"",cardbag_number:"",cardbag:"",level_name:"",sign:"",type:"",goodslist:[],com:1,cardbag_in_people:[]},i(e,"cardbag",[]),i(e,"cardbag_theme",[]),i(e,"gift","0"),i(e,"w",""),i(e,"schedule","0"),i(e,"movable_x","0"),i(e,"distance","0"),i(e,"duration",""),i(e,"stop","0"),i(e,"width",""),i(e,"zhufu_mp4",""),i(e,"zhufu_mp3",""),i(e,"radio",!0),i(e,"receive_info",""),e},onLoad:function(t){var a=this,o=t.cardbag_number;this.cardbag_number=o;var i=e.getStorageSync("id");this.memberid=i;var n='{"memberid":"'+i+'","cardbag_number":"'+o+'"}',s="get_cardbag_fenshu";this.$utils.post(s,n).then((function(e){1==e.rs[0].goodsinfo.length?(a.goodslist=e.rs[0].goodsinfo,a.com=1):(a.goodslist=e.rs[0].goodsinfo,a.com=2),console.log(e.rs[0])}));var r=t.old_cardbag_number;n='{"cardbag_number":"'+r+'","cardbag_detail_id":"0"}',s="get_cardbag_detail";this.$utils.post(s,n).then((function(e){1==e.sta&&(console.log("礼包信息"),console.log(e),a.cardbag_in_people=e.cardbag_in_people,a.cardbag=e.cardbag,a.cardbag_theme=e.cardbag_theme,a.zhufu_mp3=e.cardbag_theme.zhufu_mp3,a.price=e.cardbag.price,a.receive_info=e.receive_info,"1"==e.cardbag_theme.zhufu_type?a.gift="1":"0"==e.cardbag_theme.zhufu_type?a.gift="0":a.gift="2")}));n='{"cardbag_number":"'+o+'","cardbag_detail_id":"0"}',s="get_cardbag_detail";this.$utils.post(s,n).then((function(e){console.log("礼包信息"),console.log(e),a.cardbag_in_people=e.cardbag_in_people,a.cardbag=e.cardbag,a.cardbag_theme=e.cardbag_theme,a.zhufu_mp3=e.cardbag_theme.zhufu_mp3,a.price=e.cardbag.price,a.receive_info=e.receive_info,"1"==e.cardbag_theme.zhufu_type?a.gift="1":"0"==e.cardbag_theme.zhufu_type?a.gift="0":a.gift="2"}));var c=this;e.getSystemInfo({success:function(e){c.width=e.screenWidth,c.w=.57*e.screenWidth}})},methods:{address:function(t){var a=this.cardbag_number;e.navigateTo({url:"../ordeDetails/ordeDetails?cardbag_number="+a})},givee:function(t){var a=this,o=this.cardbag_number,i=this.price;this.status;e.setStorageSync("cardbag_theme",this.cardbag_theme);var n='{"cardbag_number":"'+this.cardbag_number+'","zhufu_theme_id":"'+this.cardbag_theme.id+'","memberid":"'+this.cardbag.present_memberid+'"}';console.log(n);var s="save_shoudao_zhufu_theme";this.$utils.post(s,n).then((function(t){if(console.log(t),1==t.sta)if(3==a.cardbag.type){var n='{"cardbag_number":"'+o+'"}',s="save_cardbag_wanfa";a.$utils.post(s,n).then((function(t){if(console.log("定时转成直接",t),1==t.sta){var n='{"cardbag_number":"'+o+'"}',s="share_cardbag";console.log(n),a.$utils.post(s,n).then((function(t){console.log("赠送好友",t),1==t.sta&&e.showToast({title:t.msg,icon:"success",mask:!0,success:function(t){setTimeout((function(t){e.navigateTo({url:"../success/success?cardbag_number="+o+"&price="+i})}),1500)}})}))}}))}else{var r=a.cardbag_number,c=a.price;a.status,n='{"cardbag_number":"'+a.cardbag_number+'"}',s="share_cardbag";console.log(n),a.$utils.post(s,n).then((function(t){console.log("赠送好友",t),1==t.sta&&e.showToast({title:t.msg,icon:"success",mask:!0,success:function(t){setTimeout((function(t){e.navigateTo({url:"../success/success?cardbag_number="+r+"&price="+c})}),1500)}})}))}}))},audioPlay:function(){var e=this;this.schedule=0,this.stop=1,this.radio=!1;var t=this;console.log("播放");var a=this.zhufu_mp3;n.src=a,n.play(),setTimeout((function(){n.onTimeUpdate((function(a){console.log("总时长",n.duration),console.log("当前播放进度",n.currentTime);var o=n.currentTime/n.duration*100,i=(.57*t.width-.57*t.width*.07)*o/100;0==e.stop||(e.movable_x=i,e.schedule=o,e.duration=n.duration,console.log(n.duration/n.currentTime)),n.onEnded((function(e){console.log("结束",e),t.radio=!0,t.movable_x=.5*t.width,t.schedule=0,t.stop=0,n.stop()}))}))}),500)},scroll:function(e){console.log(e),this.distance=e.detail.x},star:function(e){this.stop=0,this.click=0,console.log("暂停"),n.pause(),n.offTimeUpdate((function(e){console.log("取消监听进度条",e)}))},to:function(e){var t=this,a=this.distance,o=a/(.57*t.width-.57*t.width*.07)*100;console.log("跳转位置",this.duration*o/100),n.seek(this.duration*o/100),this.schedule=o,this.movable_x=a,this.stop=0}}};t.default=s}).call(this,a("543d")["default"])}},[["ab56","common/runtime","common/vendor"]]]);