(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/redEnvelopes/redEnvelopes"],{5117:function(t,e,a){"use strict";a.r(e);var o=a("fa1b"),n=a.n(o);for(var i in o)"default"!==i&&function(t){a.d(e,t,(function(){return o[t]}))}(i);e["default"]=n.a},a22e:function(t,e,a){"use strict";var o=a("d18b"),n=a.n(o);n.a},ab56:function(t,e,a){"use strict";(function(t){a("334b");o(a("66fd"));var e=o(a("cba8"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("543d")["createPage"])},c352:function(t,e,a){"use strict";var o;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return o}));var n=function(){var t=this,e=t.$createElement,a=(t._self._c,1==t.com?t.__map(t.goodslist,(function(e,a){var o=t.__get_orig(e),n=t.$utils.imageUrl(e.head_img),i=t.$utils.cut_str(e.goodsname,6);return{$orig:o,g0:n,g1:i}})):null),o=1!=t.com?t.__map(t.goodslist,(function(e,a){var o=t.__get_orig(e),n=t.$utils.imageUrl(e.head_img),i=t.$utils.cut_str(e.goodsname,6);return{$orig:o,g2:n,g3:i}})):null,n=t.__map(t.cardbag_in_people,(function(e,a){var o=t.__get_orig(e),n=t.$utils.cut_str(e.goods_name,6);return{$orig:o,g4:n}})),i="1"===t.gift?t.$utils.osspath_url("/xcx-static/wishes/cd.png"):null,s="1"===t.gift&&t.radio?t.$utils.osspath_url("/xcx-static/wishes/piay_icon1.png"):null,r="1"!==t.gift||t.radio?null:t.$utils.osspath_url("/xcx-static/wishes/piay_icon.png"),c="1"===t.gift?t.$utils.osspath_url("/xcx-static/wishes/on.png"):null,u="2"===t.gift?t.$utils.osspath_url("/xcx-static/wishes/mb_movie.png"):null;t.$mp.data=Object.assign({},{$root:{l0:a,l1:o,l2:n,g5:i,g6:s,g7:r,g8:c,g9:u}})},i=[]},cba8:function(t,e,a){"use strict";a.r(e);var o=a("c352"),n=a("5117");for(var i in n)"default"!==i&&function(t){a.d(e,t,(function(){return n[t]}))}(i);a("a22e");var s,r=a("f0c5"),c=Object(r["a"])(n["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],s);e["default"]=c.exports},d18b:function(t,e,a){},fa1b:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;o(a("e2fe"));function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}t.getRecorderManager();var i=t.createInnerAudioContext();t.createAudioContext("");i.autoplay=!0;var s={data:function(){var t;return t={liwu:[],zhufu_msg:"",send_talk_msg:"",cardbag_number:"",cardbag:"",level_name:"",sign:"",type:"",goodslist:[],com:1,cardbag_in_people:[]},n(t,"cardbag",[]),n(t,"cardbag_theme",[]),n(t,"gift","0"),n(t,"w",""),n(t,"schedule","0"),n(t,"movable_x","0"),n(t,"distance","0"),n(t,"duration",""),n(t,"stop","0"),n(t,"width",""),n(t,"zhufu_mp4",""),n(t,"zhufu_mp3",""),n(t,"radio",!0),t},onLoad:function(e){var a=this,o=e.cardbag_number;this.cardbag_number=o;var n=t.getStorageSync("id");this.memberid=n;var i='{"memberid":"'+n+'","cardbag_number":"'+o+'"}',s="get_cardbag_fenshu";this.$utils.post(s,i).then((function(t){1==t.rs[0].goodsinfo.length?(a.goodslist=t.rs[0].goodsinfo,a.com=1):(a.goodslist=t.rs[0].goodsinfo,a.com=2),console.log(t.rs[0])}));var r=e.old_cardbag_number;i='{"cardbag_number":"'+r+'","cardbag_detail_id":"0"}',s="get_cardbag_detail";this.$utils.post(s,i).then((function(t){console.log("礼包信息"),console.log(t),a.cardbag_in_people=t.cardbag_in_people,a.cardbag=t.cardbag,a.cardbag_theme=t.cardbag_theme,a.zhufu_mp3=t.cardbag_theme.zhufu_mp3,a.price=t.cardbag.price,"1"==t.cardbag_theme.zhufu_type?a.gift="1":"0"==t.cardbag_theme.zhufu_type?a.gift="0":a.gift="2"}));i='{"cardbag_number":"'+o+'","cardbag_detail_id":"0"}',s="get_cardbag_detail";this.$utils.post(s,i).then((function(t){console.log("礼包信息"),console.log(t),a.cardbag_in_people=t.cardbag_in_people,a.cardbag=t.cardbag,a.cardbag_theme=t.cardbag_theme,a.zhufu_mp3=t.cardbag_theme.zhufu_mp3,a.price=t.cardbag.price,"1"==t.cardbag_theme.zhufu_type?a.gift="1":"0"==t.cardbag_theme.zhufu_type?a.gift="0":a.gift="2"}));var c=this;t.getSystemInfo({success:function(t){c.width=t.screenWidth,c.w=.57*t.screenWidth}})},methods:{address:function(e){var a=this.cardbag_number;t.navigateTo({url:"../ordeDetails/ordeDetails?cardbag_number="+a})},givee:function(e){var a=this,o=this.cardbag_number,n=this.price;this.status;t.setStorageSync("cardbag_theme",this.cardbag_theme);var i='{"cardbag_number":"'+this.cardbag_number+'","zhufu_theme_id":"'+this.cardbag_theme.id+'","memberid":"'+this.cardbag.present_memberid+'"}';console.log(i);var s="save_shoudao_zhufu_theme";this.$utils.post(s,i).then((function(e){if(console.log(e),1==e.sta)if(3==a.cardbag.type){var i='{"cardbag_number":"'+o+'"}',s="save_cardbag_wanfa";a.$utils.post(s,i).then((function(e){if(console.log("定时转成直接",e),1==e.sta){var i='{"cardbag_number":"'+o+'"}',s="share_cardbag";console.log(i),a.$utils.post(s,i).then((function(e){console.log("赠送好友",e),1==e.sta&&t.showToast({title:e.msg,icon:"success",mask:!0,success:function(e){setTimeout((function(e){t.navigateTo({url:"../success/success?cardbag_number="+o+"&price="+n})}),1500)}})}))}}))}else{var r=a.cardbag_number,c=a.price;a.status,i='{"cardbag_number":"'+a.cardbag_number+'"}',s="share_cardbag";console.log(i),a.$utils.post(s,i).then((function(e){console.log("赠送好友",e),1==e.sta&&t.showToast({title:e.msg,icon:"success",mask:!0,success:function(e){setTimeout((function(e){t.navigateTo({url:"../success/success?cardbag_number="+r+"&price="+c})}),1500)}})}))}}))},audioPlay:function(){var t=this;this.schedule=0,this.stop=1,this.radio=!1;var e=this;console.log("播放");var a=this.zhufu_mp3;i.src=a,i.play(),setTimeout((function(){i.onTimeUpdate((function(a){console.log("总时长",i.duration),console.log("当前播放进度",i.currentTime);var o=i.currentTime/i.duration*100,n=(.57*e.width-.57*e.width*.07)*o/100;0==t.stop||(t.movable_x=n,t.schedule=o,t.duration=i.duration,console.log(i.duration/i.currentTime)),i.onEnded((function(t){console.log("结束",t),e.radio=!0,e.movable_x=.5*e.width,e.schedule=0,e.stop=0,i.stop()}))}))}),500)},scroll:function(t){console.log(t),this.distance=t.detail.x},star:function(t){this.stop=0,this.click=0,console.log("暂停"),i.pause(),i.offTimeUpdate((function(t){console.log("取消监听进度条",t)}))},to:function(t){var e=this,a=this.distance,o=a/(.57*e.width-.57*e.width*.07)*100;console.log("跳转位置",this.duration*o/100),i.seek(this.duration*o/100),this.schedule=o,this.movable_x=a,this.stop=0}}};e.default=s}).call(this,a("543d")["default"])}},[["ab56","common/runtime","common/vendor"]]]);