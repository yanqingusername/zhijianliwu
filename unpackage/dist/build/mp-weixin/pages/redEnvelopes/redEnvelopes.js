(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/redEnvelopes/redEnvelopes"],{"201c":function(t,e,a){"use strict";a.r(e);var o=a("268e"),i=a.n(o);for(var n in o)"default"!==n&&function(t){a.d(e,t,(function(){return o[t]}))}(n);e["default"]=i.a},"268e":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;o(a("d54e"));function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}t.getRecorderManager();var n=t.createInnerAudioContext();t.createAudioContext("");n.autoplay=!0;var s={data:function(){var t;return t={liwu:[],zhufu_msg:"",send_talk_msg:"",cardbag_number:"",cardbag:"",level_name:"",sign:"",type:"",goodslist:[],com:1,cardbag_in_people:[]},i(t,"cardbag",[]),i(t,"cardbag_theme",[]),i(t,"gift","0"),i(t,"w",""),i(t,"schedule","0"),i(t,"movable_x","0"),i(t,"distance","0"),i(t,"duration",""),i(t,"stop","0"),i(t,"width",""),i(t,"zhufu_mp4",""),i(t,"zhufu_mp3",""),i(t,"radio",!0),t},onLoad:function(e){var a=this,o=e.cardbag_number;this.cardbag_number=o;var i=t.getStorageSync("id");this.memberid=i;var n='{"memberid":"'+i+'","cardbag_number":"'+o+'"}',s="get_cardbag_fenshu";this.$utils.post(s,n).then((function(t){1==t.rs[0].goodsinfo.length?(a.goodslist=t.rs[0].goodsinfo,a.com=1):(a.goodslist=t.rs[0].goodsinfo,a.com=2),console.log(t.rs[0])}));var r=e.old_cardbag_number;n='{"cardbag_number":"'+r+'","cardbag_detail_id":"0"}',s="get_cardbag_detail";this.$utils.post(s,n).then((function(t){console.log("礼包信息"),console.log(t),a.cardbag_in_people=t.cardbag_in_people,a.cardbag=t.cardbag,a.cardbag_theme=t.cardbag_theme,a.zhufu_mp3=t.cardbag_theme.zhufu_mp3,a.price=t.cardbag.price,"1"==t.cardbag_theme.zhufu_type?a.gift="1":"0"==t.cardbag_theme.zhufu_type?a.gift="0":a.gift="2"}));n='{"cardbag_number":"'+o+'","cardbag_detail_id":"0"}',s="get_cardbag_detail";this.$utils.post(s,n).then((function(t){console.log("礼包信息"),console.log(t),a.cardbag_in_people=t.cardbag_in_people,a.cardbag=t.cardbag,a.cardbag_theme=t.cardbag_theme,a.zhufu_mp3=t.cardbag_theme.zhufu_mp3,a.price=t.cardbag.price,"1"==t.cardbag_theme.zhufu_type?a.gift="1":"0"==t.cardbag_theme.zhufu_type?a.gift="0":a.gift="2"}));var c=this;t.getSystemInfo({success:function(t){c.width=t.screenWidth,c.w=.57*t.screenWidth}})},methods:{address:function(e){var a=this.cardbag_number;t.navigateTo({url:"../ordeDetails/ordeDetails?cardbag_number="+a})},givee:function(e){var a=this,o=this.cardbag_number,i=this.price;this.status;t.setStorageSync("cardbag_theme",this.cardbag_theme);var n='{"cardbag_number":"'+this.cardbag_number+'","zhufu_theme_id":"'+this.cardbag_theme.id+'","memberid":"'+this.cardbag.present_memberid+'"}';console.log(n);var s="save_shoudao_zhufu_theme";this.$utils.post(s,n).then((function(e){if(console.log(e),1==e.sta)if(3==a.cardbag.type){var n='{"cardbag_number":"'+o+'"}',s="save_cardbag_wanfa";a.$utils.post(s,n).then((function(e){if(console.log("定时转成直接",e),1==e.sta){var n='{"cardbag_number":"'+o+'"}',s="share_cardbag";console.log(n),a.$utils.post(s,n).then((function(e){console.log("赠送好友",e),1==e.sta&&t.showToast({title:e.msg,icon:"success",mask:!0,success:function(e){setTimeout((function(e){t.navigateTo({url:"../success/success?cardbag_number="+o+"&price="+i})}),1500)}})}))}}))}else{var r=a.cardbag_number,c=a.price;a.status,n='{"cardbag_number":"'+a.cardbag_number+'"}',s="share_cardbag";console.log(n),a.$utils.post(s,n).then((function(e){console.log("赠送好友",e),1==e.sta&&t.showToast({title:e.msg,icon:"success",mask:!0,success:function(e){setTimeout((function(e){t.navigateTo({url:"../success/success?cardbag_number="+r+"&price="+c})}),1500)}})}))}}))},audioPlay:function(){var t=this;this.stop=1,this.radio=!this.radio;var e=this;console.log("播放");var a=this.zhufu_mp3;n.src=a,n.play(),setTimeout((function(){n.currentTime,n.onTimeUpdate((function(a){console.log("总时长",n.duration),console.log("当前播放进度",n.currentTime);var o=n.currentTime/n.duration*100,i=(.57*e.width-.57*e.width*.07)*o/100;0==t.stop||(t.movable_x=i,t.schedule=o,t.duration=n.duration,console.log(n.duration/n.currentTime)),n.onEnded((function(a){console.log("结束",a),e.radio=0,t.stop=0,t.movable_x=.57*e.width,t.schedule=100}))}))}))},scroll:function(t){console.log(t),this.distance=t.detail.x},star:function(t){this.stop=0,this.click=0,console.log("暂停"),n.pause(),n.offTimeUpdate((function(t){console.log("取消监听进度条",t)}))},to:function(t){var e=this,a=this.distance,o=a/(.57*e.width-.57*e.width*.07)*100;console.log("跳转位置",this.duration*o/100),n.seek(this.duration*o/100),this.schedule=o,this.movable_x=a,this.stop=0}}};e.default=s}).call(this,a("543d")["default"])},"3dda":function(t,e,a){"use strict";(function(t){a("aa93");o(a("66fd"));var e=o(a("9c69"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("543d")["createPage"])},"9c69":function(t,e,a){"use strict";a.r(e);var o=a("a203"),i=a("201c");for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("e1fa");var s,r=a("f0c5"),c=Object(r["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],s);e["default"]=c.exports},a203:function(t,e,a){"use strict";var o;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return o}));var i=function(){var t=this,e=t.$createElement,a=(t._self._c,1==t.com?t.__map(t.goodslist,(function(e,a){var o=t.__get_orig(e),i=t.$utils.imageUrl(e.head_img),n=t.$utils.cut_str(e.goodsname,6);return{$orig:o,g0:i,g1:n}})):null),o=1!=t.com?t.__map(t.goodslist,(function(e,a){var o=t.__get_orig(e),i=t.$utils.imageUrl(e.head_img),n=t.$utils.cut_str(e.goodsname,6);return{$orig:o,g2:i,g3:n}})):null,i=t.__map(t.cardbag_in_people,(function(e,a){var o=t.__get_orig(e),i=t.$utils.cut_str(e.goods_name,6);return{$orig:o,g4:i}})),n="1"===t.gift?t.$utils.osspath_url("/xcx-static/wishes/mb_recording.png"):null,s="1"===t.gift?t.$utils.osspath_url("/xcx-static/wishes/cd.png"):null,r="1"===t.gift?t.$utils.osspath_url("/xcx-static/wishes/piay_icon1.png"):null,c="1"===t.gift?t.$utils.osspath_url("/xcx-static/wishes/piay_icon.png"):null,u="1"===t.gift?t.$utils.osspath_url("/xcx-static/wishes/on.png"):null,l="2"===t.gift?t.$utils.osspath_url("/xcx-static/wishes/mb_movie.png"):null;t.$mp.data=Object.assign({},{$root:{l0:a,l1:o,l2:i,g5:n,g6:s,g7:r,g8:c,g9:u,g10:l}})},n=[]},e1fa:function(t,e,a){"use strict";var o=a("ff12"),i=a.n(o);i.a},ff12:function(t,e,a){}},[["3dda","common/runtime","common/vendor"]]]);