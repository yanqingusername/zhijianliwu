(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/theme/theme"],{"07af":function(e,t,s){"use strict";s.r(t);var i=s("f321"),o=s.n(i);for(var n in i)"default"!==n&&function(e){s.d(t,e,(function(){return i[e]}))}(n);t["default"]=o.a},"07ba":function(e,t,s){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(s("e2fe"));o(s("2f75")),o(s("1ae9")),o(s("e10e")),o(s("831b"));function o(e){return e&&e.__esModule?e:{default:e}}var n={data:function(){return{btmShow:0,none:"0",discount_name:"",id:"",level:"",level_name:"",a:"",logo:"",swiper:[],img_lunbo:"",first:[],activity:[],indexNav:[],choose:"",show:[],louceng:"",commody:[],pageIndex:"",price:[],q:"0",nav:"0",showleft:!1,showright:!1,code:"",begin_price:"",end_price:"",sta:"",banner:[],openid:"",Data:"",planid:"",url:""}},onLoad:function(t){var s=this;this.url=i.default.URL;var o=this;this.discount_name=e.getStorageSync("discount_name"),this.id=wx.getStorageSync("id"),this.level=e.getStorageSync("level"),this.level_name=e.getStorageSync("level_name"),e.getSystemInfo({success:function(e){s.a=e.statusBarHeight}});var n=e.getStorageSync("sign");n?this.sta="200":(this.open(),this.sta="0",this.level=1,this.level_name="普通会员",this.discount_name="无折扣",e.setStorageSync("level",1),e.setStorageSync("level_name","普通会员"),e.setStorageSync("discount_name","无折扣")),this.planid=t.id,this.recommend();var r="{}",a="get_price_range";this.$utils.post(a,r).then((function(e){for(var t in console.log("2.价格区间",e.rs),e.rs)e.rs[t].price=e.rs[t].begin_price+"-"+e.rs[t].end_price;s.price=e.rs}));r="{}",a="get_gift_person_list";o.$utils.post(a,r).then((function(e){console.log("2.商品头部导航,选择器分类",e.rs),s.show=e.rs}))},onReachBottom:function(){var e=this,t=(this.begin_price,this.end_price,this.choose,this.pageIndex);t++;var s='{"plan_theme_id":"'+this.planid+'","pageSize":"20","pageIndex":"'+t+'"}',i="get_plan_theme_goods";this.$utils.post(i,s).then((function(t){if(t.rs.goodslist.length<20?e.none="200":e.none="0",""==t.rs.goodslist)e.none="200";else{e.pageIndex++;for(var s=0;s<t.rs.goodslist.length;s++)t.rs.goodslist[s].discount_name1=(t.rs.goodslist[s].price_level1/t.rs.goodslist[s].price*10).toFixed(1)+"折",t.rs.goodslist[s].discount_name2=(t.rs.goodslist[s].price_level2/t.rs.goodslist[s].price*10).toFixed(1)+"折",t.rs.goodslist[s].discount_name3=(t.rs.goodslist[s].price_level3/t.rs.goodslist[s].price*10).toFixed(1)+"折",t.rs.goodslist[s].discount_name4=(t.rs.goodslist[s].price_level4/t.rs.goodslist[s].price*10).toFixed(1)+"折",e.commody.push(t.rs.goodslist[s])}}))},methods:{search:function(t){e.navigateTo({url:"../../pages/search/search"})},details:function(t){var s=t.currentTarget.dataset.index;e.navigateTo({url:"/pages/details/details?keynum="+s})},open:function(){var t=this,s=e.getStorageSync("openid");s?this.openid=s:e.login({success:function(s){var i='{"wx_code":"'+s.code+'"}',o="get_openid";t.$utils.post(o,i).then((function(s){e.setStorageSync("openid",s.openid),t.openid=s.openid}))}})},bindGetUserInfo:function(t){t.detail.rawData&&(this.Data=JSON.parse(t.detail.rawData),e.showLoading({title:"登录中",mask:"true"}),this.zhu())},zhu:function(){var t=this,s=this.Data,i=this.openid;e.setStorageSync("rawdata",s);var o='{"wx_openid":"'+i+'","name":"'+s.nickName+'","sex":"'+s.gender+'","head_img":"'+s.avatarUrl+'"}',n="member_register";this.$utils.post(n,o).then((function(s){if("操作成功！"===s.msg||"该用户已经注册,请勿重复注册！"===s.msg){var o='{"wx_openid":"'+i+'"}',n="member_login";t.$utils.post(n,o).then((function(s){e.hideLoading(),t.level_name=s.rs.level_name,t.level=s.rs.level,t.recommend(),e.setStorageSync("NO",s.rs.NO),e.setStorageSync("sign",s.rs),e.setStorageSync("id",s.rs.id),e.setStorageSync("name",s.rs.name),e.setStorageSync("keynum",s.rs.keynum),e.setStorageSync("sex",s.rs.sex),e.setStorageSync("head_img",s.rs.head_img),e.setStorageSync("level_name",s.rs.level_name),e.setStorageSync("level",s.rs.level),e.setStorageSync("balance",s.rs.balance),e.setStorageSync("zj_balance",s.rs.zj_balance),e.setStorageSync("phone",s.rs.phone),null==s.rs.discount_name||""==s.rs.discount_name||e.setStorageSync("discount_name",s.rs.discount_name),t.showa=1,t.sta=200}))}}))},give:function(t){if(200==this.sta){var s=t.currentTarget.dataset.id,i='{"memberid":"'+this.id+'","goodsid":"'+s+'","goodsnum":"1"}',o="add_goods_to_giftbag";this.$utils.post(o,i).then((function(t){e.navigateTo({url:"../shopping/shop"})}))}},recommend:function(e){var t=this,s='{"plan_theme_id":"'+this.planid+'","pageSize":"20","pageIndex":"1"}',i="get_plan_theme_goods";this.pageIndex=1,this.$utils.post(i,s).then((function(e){if(1==e.sta){for(var s in e.rs.goodslist.length<20?t.none="200":t.none="0",e.rs.goodslist)e.rs.goodslist[s].discount_name1=(e.rs.goodslist[s].price_level1/e.rs.goodslist[s].price*10).toFixed(1)+"折",e.rs.goodslist[s].discount_name2=(e.rs.goodslist[s].price_level2/e.rs.goodslist[s].price*10).toFixed(1)+"折",e.rs.goodslist[s].discount_name3=(e.rs.goodslist[s].price_level3/e.rs.goodslist[s].price*10).toFixed(1)+"折",e.rs.goodslist[s].discount_name4=(e.rs.goodslist[s].price_level4/e.rs.goodslist[s].price*10).toFixed(1)+"折",t.commody.push(e.rs[s]);t.commody=e.rs.goodslist}}))},showw:function(e){this.value="";var t=e.currentTarget.dataset.index;this.indexx=e.currentTarget.dataset.index;var s=this.showleft,i=this.showright;0==t?this.showleft=!s:this.showright=!i},showl:function(e){var t=this,s=this;this.btmShow=0;var i=e.currentTarget.dataset.index;this.nav=i,this.begin_price="",this.end_price="";var o=e.currentTarget.dataset.choose;this.choose=e.currentTarget.dataset.choose;this.showleft,this.show,this.show[i];this.showleft=!1,this.pageIndex=1;var n='{"gift_person_id":"'+o+'","member_level":"'+this.level+'","pageSize":"20","pageIndex":"1"}',r="get_gift_person_goods";console.log(n),this.$utils.post(r,n).then((function(e){for(var i in console.log("2.2底部商品",e.rs.goodslist),e.rs.goodslist.length<20?t.none="200":t.none="0",e.rs.goodslist)e.rs.goodslist[i].discount_name1=(e.rs.goodslist[i].price_level1/e.rs.goodslist[i].price*10).toFixed(1)+"折",e.rs.goodslist[i].discount_name2=(e.rs.goodslist[i].price_level2/e.rs.goodslist[i].price*10).toFixed(1)+"折",e.rs.goodslist[i].discount_name3=(e.rs.goodslist[i].price_level3/e.rs.goodslist[i].price*10).toFixed(1)+"折",e.rs.goodslist[i].discount_name4=(e.rs.goodslist[i].price_level4/e.rs.goodslist[i].price*10).toFixed(1)+"折";s.commody=e.rs.goodslist}))},showr:function(e){var t=this,s=this;this.btmShow=0;var i=e.currentTarget.dataset.index;this.begin_price=e.currentTarget.dataset.begin_price,this.end_price=e.currentTarget.dataset.end_price;var o=e.currentTarget.dataset.begin_price,n=e.currentTarget.dataset.end_price;this.showright,this.show,this.show[i];this.showright=!1,this.pageIndex=1;var r='{"gift_person_id":"'+this.choose+'","member_level":"'+this.level+'","pageSize":"20","pageIndex":"1","begin_price":"'+o+'","end_price":"'+n+'"}',a="get_gift_person_goods";console.log(r),this.$utils.post(a,r).then((function(e){for(var i in console.log("2.2底部商品",e.rs.goodslist),e.rs.goodslist.length<20?t.none="200":t.none="0",e.rs.goodslist)e.rs.goodslist[i].discount_name1=(e.rs.goodslist[i].price_level1/e.rs.goodslist[i].price*10).toFixed(1)+"折",e.rs.goodslist[i].discount_name2=(e.rs.goodslist[i].price_level2/e.rs.goodslist[i].price*10).toFixed(1)+"折",e.rs.goodslist[i].discount_name3=(e.rs.goodslist[i].price_level3/e.rs.goodslist[i].price*10).toFixed(1)+"折",e.rs.goodslist[i].discount_name4=(e.rs.goodslist[i].price_level4/e.rs.goodslist[i].price*10).toFixed(1)+"折";s.commody=e.rs.goodslist}))},button:function(){var e=this,t=this;this.btmShow=0;var s=this.begin_price,i=this.end_price;this.showright,this.show;this.begin_price=this.begin_price,this.end_price=this.end_price,this.showright=!1,this.pageIndex=1;var o='{"gift_person_id":"'+this.choose+'","member_level":"'+this.level+'","pageSize":"20","pageIndex":"1","begin_price":"'+s+'","end_price":"'+i+'"}',n="get_gift_person_goods";console.log(o),this.$utils.post(n,o).then((function(s){for(var i in console.log("2.2底部商品",s.rs.goodslist),s.rs.goodslist.length<20?e.none="200":e.none="0",s.rs.goodslist)s.rs.goodslist[i].discount_name1=(s.rs.goodslist[i].price_level1/s.rs.goodslist[i].price*10).toFixed(1)+"折",s.rs.goodslist[i].discount_name2=(s.rs.goodslist[i].price_level2/s.rs.goodslist[i].price*10).toFixed(1)+"折",s.rs.goodslist[i].discount_name3=(s.rs.goodslist[i].price_level3/s.rs.goodslist[i].price*10).toFixed(1)+"折",s.rs.goodslist[i].discount_name4=(s.rs.goodslist[i].price_level4/s.rs.goodslist[i].price*10).toFixed(1)+"折";t.commody=s.rs.goodslist}))},click:function(){this.btmShow=1},begin:function(e){this.begin_price=e.target.value},bend:function(e){this.end_price=e.target.value}}};t.default=n}).call(this,s("543d")["default"])},"1bc0":function(e,t,s){"use strict";s.r(t);var i=s("af5f"),o=s("a451");for(var n in o)"default"!==n&&function(e){s.d(t,e,(function(){return o[e]}))}(n);s("d034");var r,a=s("f0c5"),l=Object(a["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);t["default"]=l.exports},"2f75":function(e,t,s){"use strict";s.r(t);var i=s("f835"),o=s("07af");for(var n in o)"default"!==n&&function(e){s.d(t,e,(function(){return o[e]}))}(n);s("8806");var r,a=s("f0c5"),l=Object(a["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);t["default"]=l.exports},6959:function(e,t,s){},7272:function(e,t,s){"use strict";(function(e){s("334b");i(s("66fd"));var t=i(s("1bc0"));function i(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,s("543d")["createPage"])},8806:function(e,t,s){"use strict";var i=s("6959"),o=s.n(i);o.a},a451:function(e,t,s){"use strict";s.r(t);var i=s("07ba"),o=s.n(i);for(var n in i)"default"!==n&&function(e){s.d(t,e,(function(){return i[e]}))}(n);t["default"]=o.a},af5f:function(e,t,s){"use strict";var i;s.d(t,"b",(function(){return o})),s.d(t,"c",(function(){return n})),s.d(t,"a",(function(){return i}));var o=function(){var e=this,t=e.$createElement,s=(e._self._c,e.__map(e.commody,(function(t,s){var i=e.__get_orig(t),o=t.head_img?e.$utils.imageUrl(t.head_img):null;return{$orig:i,g0:o}})));e.$mp.data=Object.assign({},{$root:{l0:s}})},n=[]},d034:function(e,t,s){"use strict";var i=s("e82e"),o=s.n(i);o.a},e82e:function(e,t,s){},f321:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{fixed:0,height:"",logo:""},data:function(){return{}},onLoad:function(e){},methods:{}};t.default=i},f835:function(e,t,s){"use strict";var i;s.d(t,"b",(function(){return o})),s.d(t,"c",(function(){return n})),s.d(t,"a",(function(){return i}));var o=function(){var e=this,t=e.$createElement;e._self._c},n=[]}},[["7272","common/runtime","common/vendor"]]]);