(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/Post/PostSearch"],{"0767":function(t,e,i){"use strict";var r=i("b9b6"),o=i.n(r);o.a},"1d36":function(t,e,i){"use strict";(function(t){i("334b");r(i("66fd"));var e=r(i("7dbd"));function r(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("543d")["createPage"])},6354:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;o(i("e2fe"));var r=o(i("e56b"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t){return h(t)||a(t)||c(t)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,e){if(t){if("string"===typeof t)return u(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?u(t,e):void 0}}function a(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function h(t){if(Array.isArray(t))return u(t)}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var l=function(){i.e("components/own-components/post-product").then(function(){return resolve(i("dd8b"))}.bind(null,i)).catch(i.oe)},f={components:{"post-product":l},data:function(){return{Key:"",hotSearchList:[],historySearchList:[],isAll:!1,pageSize:10,pageIndex:1,postList:[],isShowView:1}},onLoad:function(){this.historySearchList=t.getStorageSync("historySearchPost")||[];var e=this,i="article_search_hot_key",r="article",o=JSON.stringify({});this.$utils.postNew(i,o,r).then((function(t){e.hotSearchList=t.rs}))},onPullDownRefresh:function(){this.getProductList(1),setTimeout((function(){t.stopPullDownRefresh()}),500)},onReachBottom:function(){this.getProductList(2)},methods:{search:function(){var e=this.Key.replace(/[ ]/g,"");e?(r.default.track("search",{keyword:e}),this.isShowView=2,this.Key=e,this.historySearchList.push(e),this.historySearchList=s(new Set(this.historySearchList)),t.setStorageSync("historySearchPost",this.historySearchList),this.pricekey="",this.conditionkey="1",this.getProductList(1)):t.showToast({icon:"none",title:"请输入搜索内容"})},searchKey:function(e){var i=e.currentTarget.dataset.itemkey;r.default.track("search",{keyword:i}),this.isShowView=2,this.Key=i,this.historySearchList.push(i),this.historySearchList=s(new Set(this.historySearchList)),t.setStorageSync("historySearchPost",this.historySearchList),this.pricekey="",this.conditionkey="1",this.getProductList(1)},daleteHistory:function(){this.historySearchList=[],t.setStorageSync("historySearchPost",this.historySearchList)},goToScrollTop:function(){t.pageScrollTo({scrollTop:0,duration:1e3})},getProductList:function(e){var i=this;1==e&&(this.pageIndex=1);var r=this,o="get_gifts_article_list",s="article",n=t.getStorageSync("level"),c=t.getStorageSync("id"),a=JSON.stringify({keyword:this.Key,member_level:n,pageSize:this.pageSize,pageIndex:this.pageIndex,memberid:c});this.$utils.postNew(o,a,s).then((function(t){1==e?(r.pageIndex++,r.postList=t.rs,r.isAll=!1,i.goToScrollTop()):t.rs.length>0?(r.postList=r.postList.concat(t.rs),r.pageIndex++):r.isAll=!0}))},clearKeword:function(){this.Key="",this.isShowView=1,this.historySearchList=t.getStorageSync("historySearchPost")||[]},searchKeword:function(t){this.Key=t,this.isShowView=1},onKeyInput:function(t){this.Key=t.detail.value},clickLike:function(e,i,r){var o=this,s="set_article_live_number",n="article",c=t.getStorageSync("id"),a=JSON.stringify({number:1,article_id:e,memberid:c,set_status:"1"==r?"2":"1"});this.$utils.postNew(s,a,n).then((function(t){if(1==t.sta)if(1==r){var e=o.postList[i];e.live_number--,e.is_collect=2,o.postList=o.postList}else{var s=o.postList[i];s.live_number++,s.is_collect=1,o.postList=o.postList}}))}},computed:{hasHot:function(){return this.hotSearchList.length>0},hasHistory:function(){return this.historySearchList.length>0},hasProduct:function(){return""==this.Key}}};e.default=f}).call(this,i("543d")["default"])},"6b7a":function(t,e,i){"use strict";var r;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return r}));var o=function(){var t=this,e=t.$createElement;t._self._c},s=[]},"7cf8":function(t,e,i){"use strict";i.r(e);var r=i("6354"),o=i.n(r);for(var s in r)"default"!==s&&function(t){i.d(e,t,(function(){return r[t]}))}(s);e["default"]=o.a},"7dbd":function(t,e,i){"use strict";i.r(e);var r=i("6b7a"),o=i("7cf8");for(var s in o)"default"!==s&&function(t){i.d(e,t,(function(){return o[t]}))}(s);i("0767");var n,c=i("f0c5"),a=Object(c["a"])(o["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],n);e["default"]=a.exports},b9b6:function(t,e,i){}},[["1d36","common/runtime","common/vendor"]]]);