(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{5067:function(e,n,o){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=function(){o.e("components/own-components/own-product-list").then(function(){return resolve(o("c986"))}.bind(null,o)).catch(o.oe)},i=function(){o.e("components/own-components/own-index-header").then(function(){return resolve(o("9530"))}.bind(null,o)).catch(o.oe)},s=function(){o.e("components/own-components/own-commodity-block").then(function(){return resolve(o("26b6"))}.bind(null,o)).catch(o.oe)},c=function(){o.e("components/own-components/own-index-coupon-module").then(function(){return resolve(o("9277"))}.bind(null,o)).catch(o.oe)},r=function(){o.e("components/own-components/own-swiper").then(function(){return resolve(o("06ee"))}.bind(null,o)).catch(o.oe)},a=function(){o.e("components/own-components/own-grid").then(function(){return resolve(o("296e"))}.bind(null,o)).catch(o.oe)},l=function(){o.e("components/own-image/index-jrtj").then(function(){return resolve(o("d904"))}.bind(null,o)).catch(o.oe)},u={components:{"own-index-header":i,"own-swiper":r,"own-product-list":t,"own-commodity-block":s,"own-grid":a,"own-index-coupon-module":c,"index-jrtj":l},data:function(){return{logoUrl:"",coupon_left:"",coupon_right:"",List:[{id:0,name:"全部"}],gridList:[],commodyBlockList:[],indexCommodyList:[],tabBarIndex:0,swiper:[],commody:[],state:0,pageSize:50,pageIndex_Index:1,pageIndex:1,nameTop:400,rect:0,statusBarHeight:20}},onLoad:function(){var n=this;this.statusBarHeight=e.getSystemInfoSync().statusBarHeight;var o=e.getStorageSync("sign");o?this.sta="200":e.navigateTo({url:"../signin/signin"}),e.showToast({icon:"loading",title:"加载中"});var t=JSON.stringify({}),i="get_webconfig_tiaoli";this.$utils.post(i,t).then((function(o){console.log("LOGO: ",o.rs.logo),n.coupon_left=o.rs.coupon_left,n.coupon_right=o.rs.coupon_right,n.logoUrl=o.rs.logo,e.setStorageSync("coupon_background",o.rs.coupon_background)}));t=JSON.stringify({}),i="get_gift_person_list";this.$utils.post(i,t).then((function(e){console.log("导航：",e),n.List=n.List.concat(e.rs)}));t=JSON.stringify({a:0}),i="get_banner";this.$utils.post(i,t).then((function(e){console.log("轮播图：",e),n.swiper=e.rs}));t=JSON.stringify({a:""}),i="get_plan_theme_list";this.$utils.post(i,t).then((function(e){console.log("主题商品：",e),n.gridList=e.rs}));t=JSON.stringify({a:0}),i="get_tuijian_goods";this.$utils.post(i,t).then((function(e){console.log("推荐商品：",e),n.commodyBlockList=e.rs}));t=JSON.stringify({member_level:e.getStorageSync("level"),pageSize:this.pageSize,pageIndex:this.pageIndex_Index}),i="get_index_tuijian_goods";this.$utils.post(i,t).then((function(o){console.log("首页推荐商品：",o),n.indexCommodyList=o.rs,e.hideLoading()}));var s=this,c=wx.createSelectorQuery();c.select("#scrollId").boundingClientRect(),c.exec((function(e){console.log(33333),console.log(e),console.log(44444),e&&e[0]&&(s.nameTop=e[0].top,console.log(s.nameTop))}))},onPageScroll:function(e){this.rect=e.scrollTop,console.log(e.scrollTop)},onShareAppMessage:function(e){return{title:"指间礼物"}},onPullDownRefresh:function(){var n=this,o=this.tabBarIndex;if(0==o){this.pageIndex_Index=1;var t="get_index_tuijian_goods"}else{this.pageIndex=1;t="get_gift_person_goods"}var i=JSON.stringify({member_level:e.getStorageSync("level"),gift_person_id:o,pageSize:this.pageSize,pageIndex:0==o?this.pageIndex_Index:this.pageIndex});this.$utils.post(t,i).then((function(t){setTimeout((function(){e.stopPullDownRefresh()}),500),console.log("商品：",t),0==o?(n.pageIndex_Index++,n.indexCommodyList=t.rs):(n.pageIndex++,n.commody=t.rs.goodslist)}))},onReachBottom:function(){var n=this,o=this.tabBarIndex;if(0==o)var t="get_index_tuijian_goods";else t="get_gift_person_goods";var i=JSON.stringify({member_level:e.getStorageSync("level"),gift_person_id:o,pageSize:this.pageSize,pageIndex:0==o?this.pageIndex_Index:this.pageIndex});this.$utils.post(t,i).then((function(e){0==o?(n.pageIndex_Index++,n.indexCommodyList=n.indexCommodyList.concat(e.rs)):(n.pageIndex++,n.commody=n.commody.concat(e.rs.goodslist))}))},methods:{change:function(n){var o=this;if(this.tabBarIndex=n,0!=n){this.pageIndex=1;var t=JSON.stringify({member_level:e.getStorageSync("level"),gift_person_id:this.tabBarIndex,pageSize:this.pageSize,pageIndex:this.pageIndex}),i="get_gift_person_goods";e.pageScrollTo({scrollTop:0,duration:500}),this.$utils.post(i,t).then((function(e){o.pageIndex++,console.log("切换Teb切换商品：",e),o.commody=e.rs.goodslist}))}}},computed:{level:function(){return e.getStorageSync("level")},level_name:function(){return e.getStorageSync("level_name")}}};n.default=u}).call(this,o("543d")["default"])},"58fd":function(e,n,o){},"5e23":function(e,n,o){"use strict";var t=o("58fd"),i=o.n(t);i.a},7085:function(e,n,o){"use strict";o.r(n);var t=o("da5a"),i=o("aaee");for(var s in i)"default"!==s&&function(e){o.d(n,e,(function(){return i[e]}))}(s);o("5e23");var c,r=o("f0c5"),a=Object(r["a"])(i["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],c);n["default"]=a.exports},aaee:function(e,n,o){"use strict";o.r(n);var t=o("5067"),i=o.n(t);for(var s in t)"default"!==s&&function(e){o.d(n,e,(function(){return t[e]}))}(s);n["default"]=i.a},da5a:function(e,n,o){"use strict";var t;o.d(n,"b",(function(){return i})),o.d(n,"c",(function(){return s})),o.d(n,"a",(function(){return t}));var i=function(){var e=this,n=e.$createElement;e._self._c},s=[]},e385:function(e,n,o){"use strict";(function(e){o("aa93");t(o("66fd"));var n=t(o("7085"));function t(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,o("543d")["createPage"])}},[["e385","common/runtime","common/vendor"]]]);