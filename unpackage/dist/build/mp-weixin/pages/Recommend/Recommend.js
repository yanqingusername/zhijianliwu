(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/Recommend/Recommend"],{"07af":function(e,t,n){"use strict";n.r(t);var i=n("f321"),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);t["default"]=r.a},"23b5":function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}));var r=function(){var e=this,t=e.$createElement;e._self._c},o=[]},"2f75":function(e,t,n){"use strict";n.r(t);var i=n("f835"),r=n("07af");for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);n("8806");var s,a=n("f0c5"),c=Object(a["a"])(r["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],s);t["default"]=c.exports},"31d3":function(e,t,n){"use strict";(function(e){n("334b");i(n("66fd"));var t=i(n("bdda"));function i(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"4c5a":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("e2fe"));r(n("2f75")),r(n("1ae9")),r(n("e10e")),r(n("831b"));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(){n.e("components/own-components/own-product-list").then(function(){return resolve(n("599e"))}.bind(null,n)).catch(n.oe)},s={components:{"own-product-list":o},data:function(){return{none:"0",discount_name:"",id:"",level:"",level_name:"",a:"",logo:"",swiper:[],img_lunbo:"",first:[],activity:[],indexNav:[],choose:"",show:[],louceng:"",commody:[],pageIndex:"",price:[],q:"0",nav:"0",showleft:!1,showright:!1,code:"",begin_price:"",end_price:"",sta:"",banner:[],openid:"",Data:"",url:""}},onLoad:function(){var t=this;this.url=i.default.URL,this.discount_name=e.getStorageSync("discount_name"),this.id=wx.getStorageSync("id"),this.level=e.getStorageSync("level"),this.level_name=e.getStorageSync("level_name"),e.getSystemInfo({success:function(e){t.a=e.statusBarHeight}});var n=e.getStorageSync("sign");n?this.sta="200":(this.open(),this.sta="0",this.level=1,this.level_name="普通会员",this.discount_name="无折扣",e.setStorageSync("level",1),e.setStorageSync("level_name","普通会员"),e.setStorageSync("discount_name","无折扣")),this.recommend()},onReachBottom:function(){var e=this,t=(this.begin_price,this.end_price,this.choose,this.pageIndex);t++;var n='{"pageIndex":"'+t+'","pageSize":"20"}',i="get_tuijian_goods";this.$utils.post(i,n).then((function(t){if(t.rs.length<20?e.none="200":e.none="0",""==t.rs);else for(var n in e.pageIndex++,t.rs)t.rs[n].discount_name1=(t.rs[n].price_level1/t.rs[n].price*10).toFixed(1)+"折",t.rs[n].discount_name2=(t.rs[n].price_level2/t.rs[n].price*10).toFixed(1)+"折",t.rs[n].discount_name3=(t.rs[n].price_level3/t.rs[n].price*10).toFixed(1)+"折",t.rs[n].discount_name4=(t.rs[n].price_level4/t.rs[n].price*10).toFixed(1)+"折",e.commody.push(t.rs[n])}))},methods:{search:function(t){e.navigateTo({url:"../../pages/search/search"})},details:function(t){var n=t.currentTarget.dataset.index;e.navigateTo({url:"/pages/details/details?keynum="+n})},open:function(){var t=this,n=e.getStorageSync("openid");n?this.openid=n:e.login({success:function(n){var i='{"wx_code":"'+n.code+'"}',r="get_openid";t.$utils.post(r,i).then((function(n){e.setStorageSync("openid",n.openid),t.openid=n.openid}))}})},bindGetUserInfo:function(t){t.detail.rawData&&(this.Data=JSON.parse(t.detail.rawData),e.showLoading({title:"登录中",mask:"true"}),this.zhu())},zhu:function(){var t=this,n=this.Data,i=this.openid;e.setStorageSync("rawdata",n);var r='{"wx_openid":"'+i+'","name":"'+n.nickName+'","sex":"'+n.gender+'","head_img":"'+n.avatarUrl+'"}',o="member_register";this.$utils.post(o,r).then((function(n){if("操作成功！"===n.msg||"该用户已经注册,请勿重复注册！"===n.msg){var r='{"wx_openid":"'+i+'"}',o="member_login";t.$utils.post(o,r).then((function(n){e.hideLoading(),t.level_name=n.rs.level_name,t.level=n.rs.level,t.recommend(),e.setStorageSync("NO",n.rs.NO),e.setStorageSync("sign",n.rs),e.setStorageSync("id",n.rs.id),e.setStorageSync("name",n.rs.name),e.setStorageSync("keynum",n.rs.keynum),e.setStorageSync("sex",n.rs.sex),e.setStorageSync("head_img",n.rs.head_img),e.setStorageSync("level_name",n.rs.level_name),e.setStorageSync("level",n.rs.level),e.setStorageSync("balance",n.rs.balance),e.setStorageSync("zj_balance",n.rs.zj_balance),e.setStorageSync("phone",n.rs.phone),null==n.rs.discount_name||""==n.rs.discount_name||e.setStorageSync("discount_name",n.rs.discount_name),t.showa=1,t.sta=200}))}}))},give:function(t){if(200==this.sta){var n=t.currentTarget.dataset.id,i='{"memberid":"'+this.id+'","goodsid":"'+n+'","goodsnum":"1"}',r="add_goods_to_giftbag";this.$utils.post(r,i).then((function(t){e.navigateTo({url:"../shopping/shop"})}))}},recommend:function(e){var t=this,n='{"pageIndex":"1","pageSize":"20"}',i="get_tuijian_goods";this.pageIndex=1,this.$utils.post(i,n).then((function(e){if(1==e.sta){for(var n in e.rs.length<20?t.none="200":t.none="0",e.rs)e.rs[n].discount_name1=(e.rs[n].price_level1/e.rs[n].price*10).toFixed(1)+"折",e.rs[n].discount_name2=(e.rs[n].price_level2/e.rs[n].price*10).toFixed(1)+"折",e.rs[n].discount_name3=(e.rs[n].price_level3/e.rs[n].price*10).toFixed(1)+"折",e.rs[n].discount_name4=(e.rs[n].price_level4/e.rs[n].price*10).toFixed(1)+"折",t.commody.push(e.rs[n]);t.commody=e.rs}}))}}};t.default=s}).call(this,n("543d")["default"])},6959:function(e,t,n){},"6c62":function(e,t,n){"use strict";n.r(t);var i=n("4c5a"),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);t["default"]=r.a},8806:function(e,t,n){"use strict";var i=n("6959"),r=n.n(i);r.a},bdda:function(e,t,n){"use strict";n.r(t);var i=n("23b5"),r=n("6c62");for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);n("c34c");var s,a=n("f0c5"),c=Object(a["a"])(r["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],s);t["default"]=c.exports},bf0d:function(e,t,n){},c34c:function(e,t,n){"use strict";var i=n("bf0d"),r=n.n(i);r.a},f321:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{fixed:0,height:"",logo:""},data:function(){return{}},onLoad:function(e){},methods:{}};t.default=i},f835:function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}));var r=function(){var e=this,t=e.$createElement;e._self._c},o=[]}},[["31d3","common/runtime","common/vendor"]]]);