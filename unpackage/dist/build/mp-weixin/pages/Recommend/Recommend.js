(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/Recommend/Recommend"],{"1bac":function(e,t,n){"use strict";var i=n("34b2"),a=n.n(i);a.a},"34b2":function(e,t,n){},"3ee0":function(e,t,n){"use strict";n.r(t);var i=n("3f15"),a=n("47ba");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("1bac");var o,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);t["default"]=c.exports},"3f15":function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}));var a=function(){var e=this,t=e.$createElement;e._self._c},r=[]},"47ba":function(e,t,n){"use strict";n.r(t);var i=n("635b"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"4aaa":function(e,t,n){},"54d2":function(e,t,n){"use strict";var i=n("4aaa"),a=n.n(i);a.a},"635b":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{fixed:0,height:"",logo:""},data:function(){return{}},onLoad:function(e){},methods:{}};t.default=i},"88d2":function(e,t,n){"use strict";n.r(t);var i=n("b7cc"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},adf8:function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}));var a=function(){var e=this,t=e.$createElement;e._self._c},r=[]},b06b:function(e,t,n){"use strict";(function(e){n("aa93");i(n("66fd"));var t=i(n("c83d"));function i(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},b7cc:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("d54e"));a(n("3ee0")),a(n("92fd")),a(n("2e30")),a(n("7bc3"));function a(e){return e&&e.__esModule?e:{default:e}}var r=function(){n.e("components/own-components/own-product-list").then(function(){return resolve(n("c986"))}.bind(null,n)).catch(n.oe)},o={components:{"own-product-list":r},data:function(){return{none:"0",discount_name:"",id:"",level:"",level_name:"",a:"",logo:"",swiper:[],img_lunbo:"",first:[],activity:[],indexNav:[],choose:"",show:[],louceng:"",commody:[],pageIndex:"",price:[],q:"0",nav:"0",showleft:!1,showright:!1,code:"",begin_price:"",end_price:"",sta:"",banner:[],openid:"",Data:"",url:""}},onLoad:function(){var t=this;this.url=i.default.URL,this.discount_name=e.getStorageSync("discount_name"),this.id=wx.getStorageSync("id"),this.level=e.getStorageSync("level"),this.level_name=e.getStorageSync("level_name"),e.getSystemInfo({success:function(e){t.a=e.statusBarHeight}});var n=e.getStorageSync("sign");n?this.sta="200":(this.open(),this.sta="0",this.level=1,this.level_name="普通会员",this.discount_name="无折扣",e.setStorageSync("level",1),e.setStorageSync("level_name","普通会员"),e.setStorageSync("discount_name","无折扣")),this.recommend()},onReachBottom:function(){var e=this,t=(this.begin_price,this.end_price,this.choose,this.pageIndex);t++;var n='{"pageIndex":"'+t+'","pageSize":"20"}',i="get_tuijian_goods";this.$utils.post(i,n).then((function(t){if(t.rs.length<20?e.none="200":e.none="0",""==t.rs);else for(var n in e.pageIndex++,t.rs)t.rs[n].discount_name1=(t.rs[n].price_level1/t.rs[n].price*10).toFixed(1)+"折",t.rs[n].discount_name2=(t.rs[n].price_level2/t.rs[n].price*10).toFixed(1)+"折",t.rs[n].discount_name3=(t.rs[n].price_level3/t.rs[n].price*10).toFixed(1)+"折",t.rs[n].discount_name4=(t.rs[n].price_level4/t.rs[n].price*10).toFixed(1)+"折",e.commody.push(t.rs[n])}))},methods:{search:function(t){e.navigateTo({url:"../../pages/search/search"})},details:function(t){var n=t.currentTarget.dataset.index;e.navigateTo({url:"/pages/details/details?keynum="+n})},open:function(){var t=this,n=e.getStorageSync("openid");n?this.openid=n:e.login({success:function(n){var i='{"wx_code":"'+n.code+'"}',a="get_openid";t.$utils.post(a,i).then((function(n){e.setStorageSync("openid",n.openid),t.openid=n.openid}))}})},bindGetUserInfo:function(t){t.detail.rawData&&(this.Data=JSON.parse(t.detail.rawData),e.showLoading({title:"登录中",mask:"true"}),this.zhu())},zhu:function(){var t=this,n=this.Data,i=this.openid;e.setStorageSync("rawdata",n);var a='{"wx_openid":"'+i+'","name":"'+n.nickName+'","sex":"'+n.gender+'","head_img":"'+n.avatarUrl+'"}',r="member_register";this.$utils.post(r,a).then((function(n){if("操作成功！"===n.msg||"该用户已经注册,请勿重复注册！"===n.msg){var a='{"wx_openid":"'+i+'"}',r="member_login";t.$utils.post(r,a).then((function(n){e.hideLoading(),t.level_name=n.rs.level_name,t.level=n.rs.level,t.recommend(),e.setStorageSync("NO",n.rs.NO),e.setStorageSync("sign",n.rs),e.setStorageSync("id",n.rs.id),e.setStorageSync("name",n.rs.name),e.setStorageSync("keynum",n.rs.keynum),e.setStorageSync("sex",n.rs.sex),e.setStorageSync("head_img",n.rs.head_img),e.setStorageSync("level_name",n.rs.level_name),e.setStorageSync("level",n.rs.level),e.setStorageSync("balance",n.rs.balance),e.setStorageSync("zj_balance",n.rs.zj_balance),e.setStorageSync("phone",n.rs.phone),null==n.rs.discount_name||""==n.rs.discount_name||e.setStorageSync("discount_name",n.rs.discount_name),t.showa=1,t.sta=200}))}}))},give:function(t){if(200==this.sta){var n=t.currentTarget.dataset.id,i='{"memberid":"'+this.id+'","goodsid":"'+n+'","goodsnum":"1"}',a="add_goods_to_giftbag";this.$utils.post(a,i).then((function(t){e.navigateTo({url:"../shopping/shop"})}))}},recommend:function(e){var t=this,n='{"pageIndex":"1","pageSize":"20"}',i="get_tuijian_goods";this.pageIndex=1,this.$utils.post(i,n).then((function(e){if(1==e.sta){for(var n in e.rs.length<20?t.none="200":t.none="0",e.rs)e.rs[n].discount_name1=(e.rs[n].price_level1/e.rs[n].price*10).toFixed(1)+"折",e.rs[n].discount_name2=(e.rs[n].price_level2/e.rs[n].price*10).toFixed(1)+"折",e.rs[n].discount_name3=(e.rs[n].price_level3/e.rs[n].price*10).toFixed(1)+"折",e.rs[n].discount_name4=(e.rs[n].price_level4/e.rs[n].price*10).toFixed(1)+"折",t.commody.push(e.rs[n]);t.commody=e.rs}}))}}};t.default=o}).call(this,n("543d")["default"])},c83d:function(e,t,n){"use strict";n.r(t);var i=n("adf8"),a=n("88d2");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("54d2");var o,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);t["default"]=c.exports}},[["b06b","common/runtime","common/vendor"]]]);