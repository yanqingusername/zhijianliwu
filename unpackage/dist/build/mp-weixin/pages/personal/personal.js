(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/personal/personal"],{"0861":function(t,n,e){},"0d57":function(t,n,e){"use strict";var i;e.d(n,"b",(function(){return s})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){return i}));var s=function(){var t=this,n=t.$createElement;t._self._c},o=[]},"23d0":function(t,n,e){"use strict";var i=e("0861"),s=e.n(i);s.a},3050:function(t,n,e){"use strict";(function(t){e("334b");i(e("66fd"));var n=i(e("4685"));function i(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])},4685:function(t,n,e){"use strict";e.r(n);var i=e("0d57"),s=e("a9de");for(var o in s)"default"!==o&&function(t){e.d(n,t,(function(){return s[t]}))}(o);e("23d0");var a,r=e("f0c5"),c=Object(r["a"])(s["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],a);n["default"]=c.exports},"4b6c":function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;s(e("e10e"));var i=s(e("e56b"));function s(t){return t&&t.__esModule?t:{default:t}}var o=function(){e.e("components/own-components/own-product-list").then(function(){return resolve(e("599e"))}.bind(null,e)).catch(e.oe)},a={components:{"own-product-list":o},data:function(){return{sign:{balance:"0",zj_balance:"0"},sta:"",nav:"20",bottom:[],topp:"0",coll:"0",parent_member:"",dir:"",commody:[],pageIndex:1,pageSize:10,fixed:0,numberMemberStatus:0}},onShow:function(t){1==this.showa&&(this.basic(),this.login(),this.collection(),this.getMemberStatus(),this.coupon(),this.haibao())},onLoad:function(n){var e=this,i=this,s=t.getStorageSync("sign");if(s){console.log("登录状态",s);var o=setTimeout((function(t){i.showa=1,clearTimeout(o)}),100);this.basic(),this.login(),this.collection(),this.getMemberStatus(),this.coupon(),this.haibao(),this.sta="200"}else this.sta="0";t.getSystemInfo({success:function(t){e.nav=t.statusBarHeight}});var a=JSON.stringify({pageIndex:this.pageIndex,pageSize:this.pageSize,member_level:t.getStorageSync("level")}),r="get_tuijian_goods";this.$utils.post(r,a).then((function(n){1==n.sta&&(t.stopPullDownRefresh(),console.log("4.推荐商品列表",n.rs),e.commody=n.rs,e.pageIndex++)}))},onReachBottom:function(){var n=this;console.log("下一页");var e=JSON.stringify({pageIndex:this.pageIndex,pageSize:this.pageSize,member_level:t.getStorageSync("level")}),i="get_tuijian_goods";this.$utils.post(i,e).then((function(e){1==e.sta&&(t.stopPullDownRefresh(),console.log("4.推荐商品列表",e.rs),n.commody=n.commody.concat(e.rs),n.pageIndex++)}))},onPageScroll:function(t){t.scrollTop>70?this.fixed=1:t.scrollTop<70&&(this.fixed=0)},methods:{trackClick:function(t){i.default.track("start_consult",{action_type:"consult_online"})},haibao:function(n){var e=this,i=t.getStorageSync("id");this.parent_member=i;var s='{"scene":"'+i+'","page":"pages/signin/signin"}';console.log(s);var o="get_haibao";this.$utils.post(o,s).then((function(t){console.log("生成海报",t),e.dir=t.dir}))},coupon:function(n){var e=this,i="get_coupon_number_list",s="coupon",o=t.getStorageSync("id"),a=JSON.stringify({memberid:o,status:1});this.$utils.postNew(i,a,s).then((function(t){1==t.sta&&(e.topp=t.rs.length)}))},getMemberStatus:function(){var n=this,e="get_member_audit_status",i="member",s=t.getStorageSync("id"),o=JSON.stringify({memberid:s});this.$utils.postNew(e,o,i).then((function(t){1==t.sta&&(1==t.rs.status||(2==t.rs.status||3==t.rs.status?n.numberMemberStatus=1:4==t.rs.status||(n.numberMemberStatus=0)))}))},collection:function(n){var e=this,i=t.getStorageSync("id"),s='{"memberid":"'+i+'"}',o="get_goods_collect";this.$utils.post(o,s).then((function(t){console.log("收藏列表",t.rs.length),e.coll=t.rs.length}))},basic:function(t){var n="{}",e="get_webconfig_wode";this.$utils.post(e,n).then((function(t){console.log("基本配置",t)}))},login:function(){var n=this,e=(this.Data,t.getStorageSync("openid")),i='{"wx_openid":"'+e+'"}';console.log(i);var s="member_login";this.$utils.post(s,i).then((function(e){console.log("基本信息",e.rs),n.sign=e.rs,t.setStorageSync("NO",e.rs.NO),t.setStorageSync("sign",e.rs),t.setStorageSync("id",e.rs.id),t.setStorageSync("name",e.rs.name),t.setStorageSync("keynum",e.rs.keynum),t.setStorageSync("sex",e.rs.sex),t.setStorageSync("head_img",e.rs.head_img),t.setStorageSync("level_name",e.rs.level_name),t.setStorageSync("level",e.rs.level),t.setStorageSync("balance",e.rs.balance),t.setStorageSync("zj_balance",e.rs.zj_balance),t.setStorageSync("phone",e.rs.phone),null==e.rs.discount_name||""==e.rs.discount_name||t.setStorageSync("discount_name",e.rs.discount_name),null==e.rs.zj_balance||""==e.rs.zj_balance||t.setStorageSync("zj_balance",e.rs.zj_balance),null==e.rs.balance||""==e.rs.balance||t.setStorageSync("balance",e.rs.balance)}))},signIn:function(n){t.navigateTo({url:"../signin/signin"})},like:function(n){t.navigateTo({url:"../Post/PostLike"})},colloection:function(n){t.navigateTo({url:"../index-coupon/ExchangeOrder"})},opening:function(n){if("200"==this.sta){var e="get_member_audit_status",i="member",s=t.getStorageSync("id"),o=JSON.stringify({memberid:s});this.$utils.postNew(e,o,i).then((function(n){1==n.sta&&(1==n.rs.status||(2==n.rs.status||3==n.rs.status?t.showToast({title:n.rs.msg,icon:"none"}):4==n.rs.status||t.navigateTo({url:"../Member/Member?typestring=1"})))}))}else t.navigateTo({url:"../signin/signin"})},openingMember:function(n){"200"==this.sta?t.navigateTo({url:"../Member/Member?typestring=2"}):t.navigateTo({url:"../signin/signin"})},balance:function(n){"200"==this.sta?t.navigateTo({url:"../balance/balance"}):t.navigateTo({url:"../signin/signin"})},balanceRecharge:function(n){"200"==this.sta?t.navigateTo({url:"../balance/Recharge"}):t.navigateTo({url:"../signin/signin"})},wallet:function(n){"200"==this.sta?t.navigateTo({url:"../wallet/wallet"}):t.navigateTo({url:"../signin/signin"})},count:function(n){"200"==this.sta?t.navigateTo({url:"../Coupon/Coupon"}):t.navigateTo({url:"../signin/signin"})},exchange:function(n){"200"==this.sta?t.navigateTo({url:"../index-coupon/index-coupon"}):t.navigateTo({url:"../signin/signin"})},share:function(n){"200"==this.sta?t.navigateTo({url:"../Poster/Poster2?src="+this.dir+"&parent_member="+this.parent_member}):t.navigateTo({url:"../signin/signin"})},giftList:function(n){"200"==this.sta?t.navigateTo({url:"../order/order"}):t.navigateTo({url:"../signin/signin"})},shopList:function(n){"200"==this.sta?t.navigateTo({url:"../shopList/shopList"}):t.navigateTo({url:"../signin/signin"})},order:function(n){"200"==this.sta?t.navigateTo({url:"../orderList/orderList?nav="+n}):t.navigateTo({url:"../signin/signin"})},card:function(){t.navigateTo({url:"../index-coupon/change"})},friend:function(n){"200"==this.sta?t.navigateTo({url:"../Friends/Friends"}):t.navigateTo({url:"../signin/signin"})},text:function(n){if(200==this.sta){var e=n.currentTarget.dataset.index;0==e?t.navigateTo({url:"./gift"}):1==e?t.navigateTo({url:"./guide"}):2==e?t.navigateTo({url:"./cooperation"}):3==e&&t.navigateTo({url:"./service"})}else 0==this.sta&&wx.showToast({title:"请先登录",icon:"none"})},no:function(n){"200"==this.sta?t.showToast({title:"暂未开通",icon:"none",mask:"true"}):wx.showToast({title:"请先登录",icon:"none"})},details:function(n){var e=n.currentTarget.dataset.index;t.navigateTo({url:"/pages/details/details?keynum="+e})},onPullDownRefresh:function(){var n=this;this.pageIndex=1;var e=this,i=t.getStorageSync("sign");if(i){var s=setTimeout((function(t){e.showa=1,clearTimeout(s)}),100);this.basic(),this.login(),this.collection(),this.getMemberStatus(),this.coupon(),this.haibao(),this.sta="200"}else this.sta="0";var o=JSON.stringify({pageIndex:this.pageIndex,pageSize:this.pageSize,member_level:t.getStorageSync("level")}),a="get_tuijian_goods";this.$utils.post(a,o).then((function(e){1==e.sta&&(setTimeout((function(){t.stopPullDownRefresh()}),500),n.commody=e.rs,n.pageIndex++)}))}}};n.default=a}).call(this,e("543d")["default"])},a9de:function(t,n,e){"use strict";e.r(n);var i=e("4b6c"),s=e.n(i);for(var o in i)"default"!==o&&function(t){e.d(n,t,(function(){return i[t]}))}(o);n["default"]=s.a}},[["3050","common/runtime","common/vendor"]]]);