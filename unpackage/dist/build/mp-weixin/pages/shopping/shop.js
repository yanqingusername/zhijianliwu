(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shopping/shop"],{"1a1c":function(t,e,o){"use strict";var n=o("304a"),i=o.n(n);i.a},"304a":function(t,e,o){},"3ade":function(t,e,o){"use strict";(function(t){o("aa93");n(o("66fd"));var e=n(o("eaa9"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o("543d")["createPage"])},7391:function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={data:function(){return{price_zhe:0,goodsinfo:[],goodsid:"",checknum:"1",flag:!0,type:"",show:"1",gift:!0,zhufu_type:0,chooses:1,length:0,fenshu:1}},onLoad:function(e){var o=this,n=e.type;this.type=n;var i=t.getStorageSync("id");this.memberid=i;var s='{"memberid":"'+i+'","buy_type":"'+n+'"}',u="get_giftbag_list";this.$utils.post(u,s).then((function(e){console.log("商品信息",e),1===e.sta&&t.showToast({icon:"success",title:e.msg,duration:1e3}),o.goodsinfo=e.rs.giftbag,o.price_zhe=e.rs.price_zhe})),this.caltotalmoney()},onShow:function(e){var o=t.getStorageSync("zhufu_type");this.zhufu_type=o,console.log("this.zhufu_type11"),console.log(this.zhufu_type),0==this.zhufu_type?this.zhufu_type="福语":1==this.zhufu_type?this.zhufu_type="语音":2==this.zhufu_type&&(this.zhufu_type="视频")},methods:{caltotalmoney:function(e){var o=this,n=this.fenshu;console.log("show"),console.log(this.show);var i=t.getStorageSync("id");1!=this.show&&0!=this.show||(n=1);var s="get_fenshu_price",u=JSON.stringify({memberid:i,fenshu:n,buy_type:1});this.$utils.post(s,u).then((function(e){console.log(e);var n="success";if(1!=e.sta)return n="none",void t.showToast({icon:n,title:e.msg,duration:2e3});o.price_zhe=e.rs.price_zhe}))},changefenshu:function(t){console.log("获取价格接口"),this.caltotalmoney()},add:function(e){t.reLaunch({url:"../index/index"})},box_gift:function(){t.navigateTo({url:"../index/index"})},reduce:function(t,e){this.checknum=parseInt(t)+parseInt(e)},open:function(){this.$refs.popup.open("")},toggle:function(t){this.$refs.popup.open("")},close:function(t){this.$refs.popup.close()},chooseGift:function(e){var o="get_giftbag_list",n=t.getStorageSync("id");this.memberid=n;var i=JSON.stringify({memberid:this.memberid,buy_type:1});this.$utils.post(o,i).then((function(e){console.log("直接赠送"),console.log(e);var o="success";1!=e.sta&&(o="none",t.showToast({icon:o,title:e.msg,duration:2e3})),t.navigateTo({url:"../shopping/gifts?type=1"})}))},wishes:function(e){var o=t.getStorageSync("zhufu_type");this.zhufu_type=o;var n=t.getStorageSync("id");if(this.memberid=n,this.zhufu_type==this.zhufu_type){var i="get_giftbag_list",s=JSON.stringify({memberid:this.memberid,buy_type:1});this.$utils.post(i,s).then((function(e){console.log("直接赠送"),console.log(e);var o="success";1!=e.sta&&(o="none",t.showToast({icon:o,title:e.msg,duration:2e3})),t.navigateTo({url:"../shopping/wishes?type=1"})}))}},box1:function(){this.show="2",this.$refs.popup.close(),this.caltotalmoney()},box2:function(){this.show="1",this.$refs.popup.close(),this.caltotalmoney()},packages:function(e){var o=this;if("2"===this.show){var n=e.type,i=t.getStorageSync("id");this.memberid=i;var s='{"memberid":"'+i+'","buy_type":"'+n+'"}',u="get_buy_shopping_cart";this.$utils.post(u,s).then((function(e){console.log(e),null!=o.zhufu_type&&null!=o.chooses&&t.navigateTo({url:"../shopping/packages?type=1&fenshu="+o.fenshu+"&wanfa=1"})}))}else if("1"===this.show){var a=e.type,c=t.getStorageSync("id");this.memberid=c;s='{"memberid":"'+c+'","buy_type":"'+a+'"}',u="get_buy_shopping_cart";this.$utils.post(u,s).then((function(e){console.log(e),null!=o.zhufu_type&&null!=o.chooses&&t.navigateTo({url:"../shopping/packages?type=1&fenshu=1&wanfa=4"})}))}}}};e.default=o}).call(this,o("543d")["default"])},aae4:function(t,e,o){"use strict";o.d(e,"b",(function(){return i})),o.d(e,"c",(function(){return s})),o.d(e,"a",(function(){return n}));var n={uniPopup:function(){return o.e("uni_modules/uni-popup/components/uni-popup/uni-popup").then(o.bind(null,"3d61"))}},i=function(){var t=this,e=t.$createElement,o=(t._self._c,t.__map(t.goodsinfo,(function(e,o){var n=t.__get_orig(e),i=t.$utils.imageUrl(e.goodsinfo.head_img),s=t.$utils.cut_str(e.goodsinfo.goodsname,16);return{$orig:n,g0:i,g1:s}})));t.$mp.data=Object.assign({},{$root:{l0:o}})},s=[]},c39e:function(t,e,o){"use strict";o.r(e);var n=o("7391"),i=o.n(n);for(var s in n)"default"!==s&&function(t){o.d(e,t,(function(){return n[t]}))}(s);e["default"]=i.a},eaa9:function(t,e,o){"use strict";o.r(e);var n=o("aae4"),i=o("c39e");for(var s in i)"default"!==s&&function(t){o.d(e,t,(function(){return i[t]}))}(s);o("1a1c");var u,a=o("f0c5"),c=Object(a["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],u);e["default"]=c.exports}},[["3ade","common/runtime","common/vendor"]]]);