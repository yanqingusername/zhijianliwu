(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/classification/classification"],{"03c6":function(e,s,i){"use strict";(function(e){i("aa93");n(i("66fd"));var s=n(i("9001"));function n(e){return e&&e.__esModule?e:{default:e}}e(s.default)}).call(this,i("543d")["createPage"])},"0df5":function(e,s,i){},"1bac":function(e,s,i){"use strict";var n=i("34b2"),t=i.n(n);t.a},"34b2":function(e,s,i){},"3ee0":function(e,s,i){"use strict";i.r(s);var n=i("3f15"),t=i("47ba");for(var o in t)"default"!==o&&function(e){i.d(s,e,(function(){return t[e]}))}(o);i("1bac");var r,l=i("f0c5"),a=Object(l["a"])(t["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);s["default"]=a.exports},"3f15":function(e,s,i){"use strict";var n;i.d(s,"b",(function(){return t})),i.d(s,"c",(function(){return o})),i.d(s,"a",(function(){return n}));var t=function(){var e=this,s=e.$createElement;e._self._c},o=[]},"47ba":function(e,s,i){"use strict";i.r(s);var n=i("635b"),t=i.n(n);for(var o in n)"default"!==o&&function(e){i.d(s,e,(function(){return n[e]}))}(o);s["default"]=t.a},"635b":function(e,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n={props:{fixed:0,height:"",logo:""},data:function(){return{}},onLoad:function(e){},methods:{}};s.default=n},7537:function(e,s,i){"use strict";var n=i("0df5"),t=i.n(n);t.a},8507:function(e,s,i){"use strict";(function(e){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=o(i("d54e")),t=(o(i("3ee0")),o(i("2e30")));function o(e){return e&&e.__esModule?e:{default:e}}var r={data:function(){return{a:"",height:"",logo:"",title:[],left:0,active:"fication-content-li-active1",commodity:[],level_name:"",pageIndex:"",discount_name:"",price:[],brand:[],show:[],hiddenl:!1,hiddenc:!1,hiddenr:!1,choose:"",goods_brand_keynum:"",sta:"",keynum:"",indexx:"",id:"",none:"0",openid:"",Data:"",showa:"",fixed:0}},onPageScroll:function(e){e.scrollTop>0?this.fixed=1:e.scrollTop<10&&(this.fixed=0),0!=this.indexx&&1!=this.indexx&&2!=this.indexx||(this.hiddenl=!1,this.hiddenc=!1,this.hiddenr=!1)},onPullDownRefresh:function(s){var i=this;if(this.goods_brand_keynum&&this.begin_price){console.log("分类 品牌 价格");var n='{"goodsclassify":"'+this.keynum+'","member_level":"'+this.level+'","goods_brand_keynum":"'+this.goods_brand_keynum+'","pageSize":"20","pageIndex":"1","begin_price":"'+this.begin_price+'","end_price":"'+this.end_price+'"}'}else if(this.begin_price){console.log("分类 价格");n='{"goodsclassify":"'+this.keynum+'","member_level":"'+this.level+'","pageSize":"20",pageIndex":"1","begin_price":"'+this.begin_price+'","end_price":"'+this.end_price+'"}'}else if(this.goods_brand_keynum){console.log("分类 品牌");n='{"goodsclassify":"'+this.keynum+'","member_level":"'+this.level+'","goods_brand_keynum":"'+this.goods_brand_keynum+'",pageIndex":"1","pageSize":"20"}'}else{console.log("分类");n='{"goodsclassify":"'+this.keynum+'","member_level":"'+this.level+'","pageSize":"20",pageIndex":"1"}'}console.log(n);var t="get_goodsclassify_goods";this.$utils.post(t,n).then((function(s){if(console.log("获取分类商品",s.rs),""==s.rs)i.none="20",e.stopPullDownRefresh();else{for(var n in s.rs)s.rs[n].discount_name1=(s.rs[n].price_level1/s.rs[n].price*10).toFixed(1)+"折",s.rs[n].discount_name2=(s.rs[n].price_level2/s.rs[n].price*10).toFixed(1)+"折",s.rs[n].discount_name3=(s.rs[n].price_level3/s.rs[n].price*10).toFixed(1)+"折",s.rs[n].discount_name4=(s.rs[n].price_level4/s.rs[n].price*10).toFixed(1)+"折";e.stopPullDownRefresh(),i.commodity=s.rs}}))},onLoad:function(){var s=this,i=this,t=setTimeout((function(){i.showa=1,clearTimeout(t)}),1500);this.level_name=e.getStorageSync("level_name"),this.discount_name=e.getStorageSync("discount_name"),this.id=e.getStorageSync("id");var o=e.getStorageSync("level");this.level=o;var r="{}",l="get_webconfig_tiaoli";this.$utils.post(l,r).then((function(e){1==e.sta&&(s.logo=n.default.URL+e.rs.logo)})),e.getSystemInfo({success:function(e){s.a=e.statusBarHeight,s.height=e.windowHeight-e.statusBarHeight-134/e.pixelRatio}}),this.pageIndex=1;r='{"classify_level":"1","member_level":"'+o+'"}',l="get_goods_classify";console.log(r),this.$utils.post(l,r).then((function(e){console.log("左侧分类",e.rs),s.title=e.rs;var i='{"goodsclassify":"'+e.rs[0].keynum+'","member_level":"'+o+'","pageSize":"20","pageIndex":"1"}',n="get_goodsclassify_goods";console.log(i),s.keynum=e.rs[0].keynum,s.$utils.post(n,i).then((function(e){for(var i in console.log("获取分类商品",e.rs),e.rs&&e.rs.length<20?s.none="20":s.none="0",e.rs)e.rs[i].discount_name1=(e.rs[i].price_level1/e.rs[i].price*10).toFixed(1)+"折",e.rs[i].discount_name2=(e.rs[i].price_level2/e.rs[i].price*10).toFixed(1)+"折",e.rs[i].discount_name3=(e.rs[i].price_level3/e.rs[i].price*10).toFixed(1)+"折",e.rs[i].discount_name4=(e.rs[i].price_level4/e.rs[i].price*10).toFixed(1)+"折";s.commodity=e.rs}));i='{"classify_level":"2","member_level":"'+o+'","parentkeynum":"'+e.rs[0].keynum+'"}',n="get_goods_classify";s.$utils.post(n,i).then((function(e){console.log("获取商品分类",e.rs),s.show=e.rs}));i='{"goodsclassify":"'+e.rs[0].keynum+'"}',n="get_goods_brand";s.$utils.post(n,i).then((function(e){console.log("获取品牌",e.rs),s.brand=e.rs}))}));r="{}",l="get_price_range";this.$utils.post(l,r).then((function(e){for(var i in console.log("2.价格区间",e.rs),e.rs)e.rs[i].price=e.rs[i].begin_price+"-"+e.rs[i].end_price;s.price=e.rs}));var a=e.getStorageSync("sign");a?this.sta="200":(this.open(),this.sta="0",this.level=1,this.level_name="普通会员",this.discount_name="无折扣",e.setStorageSync("level",1),e.setStorageSync("level_name","普通会员"),e.setStorageSync("discount_name","无折扣"))},onShow:function(){var s=this;if(this.hiddenl=!1,this.hiddenc=!1,this.hiddenr=!1,1==this.showa&&(null==this.title||void 0==this.title||""==this.title)){this.level_name=e.getStorageSync("level_name"),this.discount_name=e.getStorageSync("discount_name"),this.id=e.getStorageSync("id");var i=e.getStorageSync("level");this.level=i;var t="{}",o="get_webconfig_tiaoli";this.$utils.post(o,t).then((function(e){1==e.sta&&(s.logo=n.default.URL+e.rs.logo)})),e.getSystemInfo({success:function(e){s.a=e.statusBarHeight,s.height=e.windowHeight-e.statusBarHeight-134/e.pixelRatio}}),this.pageIndex=1;t='{"classify_level":"1","member_level":"'+i+'"}',o="get_goods_classify";console.log(t),this.$utils.post(o,t).then((function(e){console.log("左侧分类",e.rs),s.title=e.rs;var n='{"classify_level":"2","member_level":"'+i+'","parentkeynum":"'+e.rs[0].keynum+'"}',t="get_goods_classify";s.$utils.post(t,n).then((function(e){console.log("获取商品分类",e.rs),s.show=e.rs}));n='{"goodsclassify":"'+e.rs[0].keynum+'"}',t="get_goods_brand";s.$utils.post(t,n).then((function(e){console.log("获取品牌",e.rs),s.brand=e.rs}));n='{"goodsclassify":"'+e.rs[0].keynum+'","member_level":"'+i+'","pageSize":"20","pageIndex":"1"}',t="get_goodsclassify_goods";console.log(n),s.keynum=e.rs[0].keynum,s.$utils.post(t,n).then((function(e){for(var i in console.log("获取分类商品",e.rs),e.rs&&e.rs.length<20?s.none="20":s.none="0",e.rs)e.rs[i].discount_name1=(e.rs[i].price_level1/e.rs[i].price*10).toFixed(1)+"折",e.rs[i].discount_name2=(e.rs[i].price_level2/e.rs[i].price*10).toFixed(1)+"折",e.rs[i].discount_name3=(e.rs[i].price_level3/e.rs[i].price*10).toFixed(1)+"折",e.rs[i].discount_name4=(e.rs[i].price_level4/e.rs[i].price*10).toFixed(1)+"折";s.commodity=e.rs}))}));t="{}",o="get_price_range";this.$utils.post(o,t).then((function(e){for(var i in console.log("2.价格区间",e.rs),e.rs)e.rs[i].price=e.rs[i].begin_price+"-"+e.rs[i].end_price;s.price=e.rs}));var r=e.getStorageSync("sign");r?this.sta="200":(this.open(),this.sta="0",this.level=1,this.level_name="普通会员",this.discount_name="无折扣",e.setStorageSync("level",1),e.setStorageSync("level_name","普通会员"),e.setStorageSync("discount_name","无折扣"))}},onReachBottom:function(){var e=this;if(this.pageIndex++,this.goods_brand_keynum&&this.begin_price){console.log("分类 品牌 价格");var s='{"goodsclassify":"'+this.keynum+'","member_level":"'+this.level+'","goods_brand_keynum":"'+this.goods_brand_keynum+'","pageSize":"20","pageIndex":"'+this.pageIndex+'","begin_price":"'+this.begin_price+'","end_price":"'+this.end_price+'"}'}else if(this.begin_price){console.log("分类 价格");s='{"goodsclassify":"'+this.keynum+'","member_level":"'+this.level+'","pageSize":"20","pageIndex":"'+this.pageIndex+'","begin_price":"'+this.begin_price+'","end_price":"'+this.end_price+'"}'}else if(this.goods_brand_keynum){console.log("分类 品牌");s='{"goodsclassify":"'+this.keynum+'","member_level":"'+this.level+'","goods_brand_keynum":"'+this.goods_brand_keynum+'","pageIndex":"'+this.pageIndex+'","pageSize":"20"}'}else{console.log("分类");s='{"goodsclassify":"'+this.keynum+'","member_level":"'+this.level+'","pageSize":"20","pageIndex":"'+this.pageIndex+'"}'}console.log(s);var i="get_goodsclassify_goods";this.$utils.post(i,s).then((function(s){if(console.log("获取分类商品",s.rs),""==s.rs)e.none="20";else for(var i in s.rs)s.rs[i].discount_name1=(s.rs[i].price_level1/s.rs[i].price*10).toFixed(1)+"折",s.rs[i].discount_name2=(s.rs[i].price_level2/s.rs[i].price*10).toFixed(1)+"折",s.rs[i].discount_name3=(s.rs[i].price_level3/s.rs[i].price*10).toFixed(1)+"折",s.rs[i].discount_name4=(s.rs[i].price_level4/s.rs[i].price*10).toFixed(1)+"折",e.commodity.push(s.rs[i])}))},methods:{index:function(s){e.reLaunch({url:"../index/index"})},top:function(s){e.pageScrollTo({scrollTop:"0"})},bind:function(s){var i=this;this.hiddenl=!1,this.hiddenc=!1,this.hiddenr=!1,this.commody=[],e.showLoading({}),e.pageScrollTo({scrollTop:"0"}),this.none="0";var n=this,t=s.currentTarget.dataset.index,o=s.currentTarget.dataset.keynum;this.keynum=o;this.left;this.left=t,this.active=0==t?"fication-content-li-active1":"fication-content-li-active";var r='{"classify_level":"2","member_level":"'+this.level+'","parentkeynum":"'+o+'"}',l="get_goods_classify";this.$utils.post(l,r).then((function(e){console.log("获取商品分类",e.rs),i.show=e.rs}));r='{"goodsclassify":"'+o+'"}',l="get_goods_brand";this.$utils.post(l,r).then((function(e){console.log("获取品牌",e.rs),i.brand=e.rs})),this.goods_brand_keynum="",this.begin_price="",this.end_price="",this.pageIndex=1;r='{"goodsclassify":"'+o+'","member_level":"'+this.level+'","pageSize":"20","pageIndex":"1"}',l="get_goodsclassify_goods";console.log("分类",r),this.$utils.post(l,r).then((function(s){for(var t in s.rs&&s.rs.length<20?i.none="20":i.none="0",console.log("获取分类商品",s.rs),s.rs)s.rs[t].discount_name1=(s.rs[t].price_level1/s.rs[t].price*10).toFixed(1)+"折",s.rs[t].discount_name2=(s.rs[t].price_level2/s.rs[t].price*10).toFixed(1)+"折",s.rs[t].discount_name3=(s.rs[t].price_level3/s.rs[t].price*10).toFixed(1)+"折",s.rs[t].discount_name4=(s.rs[t].price_level4/s.rs[t].price*10).toFixed(1)+"折";n.commodity=s.rs,e.hideLoading()}))},choo:function(e){var s=e.currentTarget.dataset.index;this.indexx=s,0==s?(this.hiddenc=!1,this.hiddenr=!1,this.hiddenl=!this.hiddenl):1==s?(this.hiddenl=!1,this.hiddenr=!1,this.hiddenc=!this.hiddenc):2==s&&(this.hiddenl=!1,this.hiddenc=!1,this.hiddenr=!this.hiddenr)},showl:function(s){var i=this;this.commody=[],e.showLoading({}),e.pageScrollTo({scrollTop:"0"}),this.none="0",this.hiddenl=!1,this.keynum=s.currentTarget.dataset.keynum,this.pageIndex=1,this.goods_brand_keynum="",this.begin_price="",this.end_price="";var n='{"goodsclassify":"'+s.currentTarget.dataset.keynum+'","member_level":"'+this.level+'","pageSize":"20","pageIndex":"1"}',t="get_goodsclassify_goods";console.log("分类",n),this.$utils.post(t,n).then((function(s){for(var n in console.log("分类商品 ",s.rs),s.rs&&s.rs.length<20?i.none="20":i.none="0",s.rs)s.rs[n].discount_name1=(s.rs[n].price_level1/s.rs[n].price*10).toFixed(1)+"折",s.rs[n].discount_name2=(s.rs[n].price_level2/s.rs[n].price*10).toFixed(1)+"折",s.rs[n].discount_name3=(s.rs[n].price_level3/s.rs[n].price*10).toFixed(1)+"折",s.rs[n].discount_name4=(s.rs[n].price_level4/s.rs[n].price*10).toFixed(1)+"折";e.hideLoading(),i.commodity=s.rs}))},showc:function(s){var i=this;if(this.commody=[],e.showLoading({}),e.pageScrollTo({scrollTop:"0"}),this.none="0",this.hiddenc=!1,this.goods_brand_keynum=s.currentTarget.dataset.keynum,this.pageIndex=1,this.begin_price)var n='{"goodsclassify":"'+this.keynum+'","member_level":"'+this.level+'","goods_brand_keynum":"'+s.currentTarget.dataset.keynum+'","pageSize":"20","pageIndex":"1","begin_price":"'+this.begin_price+'","end_price":"'+this.end_price+'"}';else n='{"goodsclassify":"'+this.keynum+'","member_level":"'+this.level+'","goods_brand_keynum":"'+s.currentTarget.dataset.keynum+'","pageSize":"20","pageIndex":"1"}';console.log("品牌",n);var t="get_goodsclassify_goods";this.$utils.post(t,n).then((function(s){for(var n in s.rs&&s.rs.length<20?i.none="20":i.none="0",console.log("分类商品 ",s.rs),s.rs)s.rs[n].discount_name1=(s.rs[n].price_level1/s.rs[n].price*10).toFixed(1)+"折",s.rs[n].discount_name2=(s.rs[n].price_level2/s.rs[n].price*10).toFixed(1)+"折",s.rs[n].discount_name3=(s.rs[n].price_level3/s.rs[n].price*10).toFixed(1)+"折",s.rs[n].discount_name4=(s.rs[n].price_level4/s.rs[n].price*10).toFixed(1)+"折";e.hideLoading(),i.commodity=s.rs}))},showr:function(s){var i=this;this.commody=[],e.showLoading({}),e.pageScrollTo({scrollTop:"0"}),this.none="0";s.currentTarget.dataset.index;this.hiddenr=!1,this.pageIndex=1,this.begin_price=s.currentTarget.dataset.begin_price,this.end_price=s.currentTarget.dataset.end_price;var n=s.currentTarget.dataset.begin_price,t=s.currentTarget.dataset.end_price;if(this.goods_brand_keynum)var o='{"goodsclassify":"'+this.keynum+'","member_level":"'+this.level+'","goods_brand_keynum":"'+this.goods_brand_keynum+'","pageSize":"20","pageIndex":"1","begin_price":"'+n+'","end_price":"'+t+'"}';else o='{"goodsclassify":"'+this.keynum+'","member_level":"'+this.level+'","pageSize":"20","pageIndex":"1","begin_price":"'+n+'","end_price":"'+t+'"}';console.log(o);var r="get_goodsclassify_goods";this.$utils.post(r,o).then((function(s){for(var n in console.log(s),console.log("商品",s.rs),s.rs&&s.rs.length<20?i.none="20":i.none="0",s.rs)s.rs[n].discount_name1=(s.rs[n].price_level1/s.rs[n].price*10).toFixed(1)+"折",s.rs[n].discount_name2=(s.rs[n].price_level2/s.rs[n].price*10).toFixed(1)+"折",s.rs[n].discount_name3=(s.rs[n].price_level3/s.rs[n].price*10).toFixed(1)+"折",s.rs[n].discount_name4=(s.rs[n].price_level4/s.rs[n].price*10).toFixed(1)+"折";e.hideLoading(),i.commodity=s.rs}))},details:function(s){var i=s.currentTarget.dataset.index;t.default.buttonClick((function(s){e.navigateTo({url:"../details/details?keynum="+i})}))},search:function(s){e.navigateTo({url:"../../pages/search/search"})},open:function(){var s=this,i=e.getStorageSync("openid");i?(this.openid=i,console.log("已获取openid")):e.login({success:function(i){var n='{"wx_code":"'+i.code+'"}',t="get_openid";s.$utils.post(t,n).then((function(i){console.log("openid",i),e.setStorageSync("openid",i.openid),s.openid=i.openid}))}})},bindGetUserInfo:function(s){s.detail.rawData&&(this.Data=JSON.parse(s.detail.rawData),this.zhu(),e.showLoading({title:"登录中",mask:"true"}))},zhu:function(){var s=this,i=this.Data,n=this.openid;e.setStorageSync("rawdata",i);var t='{"wx_openid":"'+n+'","name":"'+i.nickName+'","sex":"'+i.gender+'","head_img":"'+i.avatarUrl+'"}';console.log(t);var o="member_register";this.$utils.post(o,t).then((function(i){if(console.log("注册",i),"操作成功！"===i.msg||"该用户已经注册,请勿重复注册！"===i.msg){var t='{"wx_openid":"'+n+'"}',o="member_login";s.$utils.post(o,t).then((function(i){console.log("基本信息",i.rs),e.setStorageSync("sign",i.rs),e.setStorageSync("id",i.rs.id),e.setStorageSync("name",i.rs.name),e.setStorageSync("keynum",i.rs.keynum),e.setStorageSync("sex",i.rs.sex),e.setStorageSync("head_img",i.rs.head_img),e.setStorageSync("level_name",i.rs.level_name),e.setStorageSync("level",i.rs.level),e.setStorageSync("balance",i.rs.balance),e.setStorageSync("zj_balance",i.rs.zj_balance),e.setStorageSync("phone",i.rs.phone),null==i.rs.discount_name||""==i.rs.discount_name||e.setStorageSync("discount_name",i.rs.discount_name),s.showa=1,s.sta=200,s.level_name=i.rs.level_name,s.level=i.rs.level,s.pageIndex=1;var n='{"classify_level":"1","member_level":"'+i.rs.level+'"}',t="get_goods_classify";console.log(n),s.$utils.post(t,n).then((function(e){console.log("左侧分类",e.rs),s.title=e.rs;var i='{"goodsclassify":"'+e.rs[0].keynum+'","member_level":"'+e.rs.level+'","pageSize":"20","pageIndex":"1"}',n="get_goodsclassify_goods";console.log(i),s.keynum=e.rs[0].keynum,s.$utils.post(n,i).then((function(e){for(var i in console.log("获取分类商品",e.rs),e.rs&&e.rs.length<20?s.none="20":s.none="0",e.rs)e.rs[i].discount_name1=(e.rs[i].price_level1/e.rs[i].price*10).toFixed(1)+"折",e.rs[i].discount_name2=(e.rs[i].price_level2/e.rs[i].price*10).toFixed(1)+"折",e.rs[i].discount_name3=(e.rs[i].price_level3/e.rs[i].price*10).toFixed(1)+"折",e.rs[i].discount_name4=(e.rs[i].price_level4/e.rs[i].price*10).toFixed(1)+"折";s.commodity=e.rs}))}))}))}}))},give:function(s){if(200==this.sta){var i=s.currentTarget.dataset.id,n='{"memberid":"'+this.id+'","goodsid":"'+i+'","goodsnum":"1"}',t="add_goods_to_giftbag";console.log(n),this.$utils.post(t,n).then((function(s){console.log("添加购物车",s),1==s.sta?e.navigateTo({url:"../shopping/shop"}):e.showToast({title:s.msg,icon:"success",mask:!0})}))}}},computed:{level:function(){return console.log(e.getStorageSync("level")),e.getStorageSync("level")}}};s.default=r}).call(this,i("543d")["default"])},8819:function(e,s,i){"use strict";i.r(s);var n=i("8507"),t=i.n(n);for(var o in n)"default"!==o&&function(e){i.d(s,e,(function(){return n[e]}))}(o);s["default"]=t.a},9001:function(e,s,i){"use strict";i.r(s);var n=i("aa41"),t=i("8819");for(var o in t)"default"!==o&&function(e){i.d(s,e,(function(){return t[e]}))}(o);i("7537");var r,l=i("f0c5"),a=Object(l["a"])(t["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);s["default"]=a.exports},aa41:function(e,s,i){"use strict";var n;i.d(s,"b",(function(){return t})),i.d(s,"c",(function(){return o})),i.d(s,"a",(function(){return n}));var t=function(){var e=this,s=e.$createElement,i=(e._self._c,e.$utils.imageUrl(e.logo)),n=e.__map(e.commodity,(function(s,i){var n=e.__get_orig(s),t=s.head_img?e.$utils.imageUrl(s.head_img):null;return{$orig:n,g1:t}}));e.$mp.data=Object.assign({},{$root:{g0:i,l0:n}})},o=[]}},[["03c6","common/runtime","common/vendor"]]]);