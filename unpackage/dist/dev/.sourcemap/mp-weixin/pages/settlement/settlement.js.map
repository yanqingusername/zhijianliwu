{"version":3,"sources":["uni-app:///main.js","webpack:////Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/settlement/settlement.vue?e2da","webpack:////Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/settlement/settlement.vue?c089","webpack:////Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/settlement/settlement.vue?0289","webpack:////Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/settlement/settlement.vue?09f1","uni-app:///pages/settlement/settlement.vue","webpack:////Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/settlement/settlement.vue?9ddd"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","l0","_self","_c","com","__map","commodity","item","index","$orig","__get_orig","g0","checked","head_img","$utils","imageUrl","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBACA,sBACA,oD,mDACAA,EAAWC,a;;;;2DCHX,uRACIC,EADJ,qMASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,kCACZ,aAAAF,E;;;;2GCvBf,+yC;;;;2GCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GAEN,GAAXN,EAAIO,IACAP,EAAIQ,MAAMR,EAAIS,WAAW,SAASC,EAAMC,GACtC,IAAIC,EAAQZ,EAAIa,WAAWH,GAEvBI,EACc,GAAhBJ,EAAKK,SAAgBL,EAAKM,SACtBhB,EAAIiB,OAAOC,SAASR,EAAKM,UACzB,KACN,MAAO,CACLJ,MAAOA,EACPE,GAAIA,MAGR,MACNd,EAAImB,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACLnB,GAAIA,MAKRoB,GAAmB,EACnBC,EAAkB,GACtB1B,EAAO2B,eAAgB,G;;;;2DC/BvB,+4BAAw1B,eAAG,G;;;;0IC6H31B,yCAEA,GADA,iDACA,uC,iLACA,CACA,gBAQA,IARA,MACA,WACA,KACA,kBAEA,iBACA,KACA,cACA,8BACA,UAEA,sBACA,UAEA,UACA,MAEA,YACA,SACA,OACA,SACA,OACA,QACA,OACA,QACA,OACA,MACA,WACA,MACA,MACA,YACA,mBACA,mCACA,sBACA,WACA,qBACA,WACA,0FACA,UACA,aACA,eACA,MAEA,WACA,cACA,OACA,OACA,QACA,QACA,QACA,QACA,QACA,UACA,SACA,OACA,gBACA,UACA,aACA,iBACA,UACA,cACA,iBACA,OACA,iBACA,WACA,WACA,cACA,WACA,aACA,iBACA,eACA,gBACA,sBAEA,YA5DA,YA8DA,IA9DA,WAgEA,IAhEA,YAkEA,IAlEA,cAoEA,IApEA,aAsEA,IAtEA,YAwEA,IAxEA,WA0EA,IA1EA,aA4EA,IA5EA,cA8EA,IA9EA,kBAgFA,IAhFA,qBAiFA,IAjFA,eAkFA,IAlFA,YAmFA,IAnFA,aAoFA,IApFA,WAqFA,IArFA,gBAsFA,IAtFA,iBAuFA,IAvFA,UAwFA,IAxFA,qBAyFA,GAzFA,kBA0FA,GA1FA,GA6FA,8BACA,uBACA,WACA,yBAiBA,GAhBA,gEACA,uEACA,wEACA,0EACA,wCACA,wBACA,WAEA,0BAEA,iCAMA,eAMA,+CAEA,yCAEA,qCACA,0BAEA,wCACA,oBACA,QACA,aAEA,4BACA,sCAMA,GAJA,aAGA,+BACA,0BAGA,mCACA,2BACA,wCAEA,eADA,KACA,IAEA,aAEA,6BAEA,2BAEA,cAEA,cAGA,cAMA,6CACA,qDACA,mDACA,sDAEA,8BACA,aACA,eACA,cAEA,mBACA,sBACA,uCACA,+BAIA,WACA,yBAEA,wCACA,wBACA,WAEA,0BAEA,iCAMA,+BAEA,GADA,yBACA,GACA,6BACA,WACA,0BACA,UACA,kBACA,KAEA,oBAEA,YACA,aAEA,aACA,uBACA,4BACA,sCAMA,eAGA,kBAEA,iBAEA,cAEA,aAEA,eAEA,iBAOA,GAJA,0BAIA,IAEA,KAQA,mBACA,mBACA,mBACA,oBACA,oBACA,oBAEA,KACA,MACA,KACA,MACA,KACA,MACA,KACA,MACA,KACA,MACA,KACA,MACA,OACA,OAEA,0CACA,sCAGA,qBACA,UAOA,aAJA,cAEA,uCAEA,EAKA,IAFA,mCAEA,eAEA,oCAEA,KACA,MACA,KACA,MACA,KACA,MACA,KACA,MACA,KACA,MACA,KACA,MACA,OACA,OAIA,2BAKA,gBACA,aAGA,qBACA,KACA,sBAEA,kBAIA,qBACA,KACA,wBAEA,oBAGA,6BAEA,yBACA,oBAEA,wCACA,wBACA,UACA,qBACA,+BAMA,sBACA,mBAEA,qBACA,iBAGA,iBACA,oBAEA,2BAKA,+CAEA,iBACA,oBACA,2BAIA,gBACA,yBACA,0BAEA,wCAIA,GAHA,oBACA,gBAEA,UAGA,QAEA,4BACA,sCAKA,GAHA,aAEA,+BACA,0BAEA,mCACA,2BACA,wCAGA,eADA,KACA,IAEA,aAEA,6BAEA,2BACA,gCACA,cAEA,cAGA,WAGA,aACA,sBAEA,eACA,WAGA,UADA,KACA,iBACA,KACA,wBAIA,iBAGA,iBAEA,qBAEA,4BAOA,+CAEA,yCAUA,IAPA,uFACA,4FACA,6EAGA,KAEA,cAIA,iCAEA,QAIA,YAEA,oCAEA,OACA,kBAEA,wCACA,uBACA,mBACA,eACA,oCAGA,kBACA,mCACA,qCAEA,6BAEA,SACA,mBACA,oCACA,KACA,aACA,uBAEA,KACA,aACA,6BAEA,KACA,aACA,yCAEA,KACA,aACA,uBAEA,MACA,aACA,8BAIA,oBACA,oCAEA,cACA,0CAKA,0BAEA,4BACA,oCACA,oCAGA,mBACA,cACA,cACA,kCAEA,aACA,cACA,aACA,eAMA,iCACA,OACA,kBACA,aACA,cACA,aACA,mBAGA,kBAGA,wBAGA,qBACA,6BACA,eACA,sBACA,uBACA,+BACA,+DACA,iCACA,6BACA,qCAEA,eACA,yBAEA,wCAEA,GADA,eACA,gBACA,aACA,eAEA,cACA,+BAEA,8BACA,qCACA,qCACA,yCAEA,oBAEA,+BACA,kBACA,4BAEA,qCACA,uBACA,yBAEA,WACA,gDACA,oBACA,oBACA,yBACA,kBACA,gBACA,aACA,gBACA,mBAEA,qCACA,sBACA,uBACA,KAEA,GAEA,iCACA,mCACA,4BACA,4CACA,yBAKA,aAFA,qBAEA,EACA,aAGA,SAEA,SAGA,eACA,cACA,QAEA,YAIA,gDAEA,qBACA,0BACA,eAGA,gBAEA,kBACA,8BACA,gBACA,oCACA,eACA,wBACA,QANA,SAMA,GACA,gBACA,WACA,4DACA,MACA,4BAEA,QACA,oDAEA,aAEA,oBACA,wBACA,aACA,aACA,cAEA,8BACA,qCACA,qCACA,oCACA,cACA,mCAKA,KAlCA,SAkCA,GACA,gBACA,eACA,aACA,aACA,cAEA,eACA,cACA,gDAUA,aACA,YACA,gCASA,0BACA,OAGA,GAFA,oBAEA,SACA,cACA,kEACA,sBACA,qBACA,eACA,wCACA,sBACA,uBACA,KAEA,GAEA,iCACA,mCACA,4BACA,4CACA,yBAOA,aAFA,qBAEA,EACA,aAGA,SAEA,SAGA,eACA,cACA,QAEA,YAKA,gDAEA,qBACA,0BACA,eAGA,gBAEA,kBACA,8BACA,gBACA,oCACA,eACA,wBACA,QANA,SAMA,GACA,gBACA,WACA,4DACA,MACA,4BAEA,QACA,oDAEA,aAEA,oBACA,2BAGA,aACA,aACA,eACA,kBACA,mBACA,QALA,SAKA,GACA,aACA,sBACA,kBACA,aACA,sBACA,iBACA,aACA,4BAOA,KA1CA,SA0CA,GACA,gBACA,eACA,aACA,aACA,cAEA,sBAOA,gBACA,WAEA,WACA,4CACA,oBACA,eACA,wBACA,OACA,oBACA,oBACA,oBACA,OACA,WAMA,iBACA,iBAGA,sBACA,cACA,UAGA,mBACA,cACA,0BAIA,gBACA,cACA,cACA,yBAEA,aACA,cACA,0BAKA,wBACA,4BACA,oCACA,oBAGA,6BACA,YACA,sCAIA,oCAEA,oBAGA,wBACA,+CACA,qCAGA,uBACA,eAEA,qBAEA,WACA,KACA,KAEA,WACA,mBACA,aACA,eAGA,qBACA,KACA,cAEA,UAKA,qBACA,KACA,cAEA,cAGA,CASA,IAJA,mBAEA,iBAEA,aACA,KACA,cAEA,UAKA,UAEA,qBACA,KACA,cAEA,eAKA,qBACA,KACA,cAEA,UASA,YACA,cAEA,uEAKA,qCAEA,kBACA,OACA,OACA,kBACA,oBAEA,uCAKA,qBAEA,sCACA,gCACA,6BACA,eACA,gBACA,aAKA,mBACA,sCACA,gCAGA,+BACA,2BACA,oBAEA,mBACA,8BAIA,iBACA,eACA,aAIA,4BAEA,2FACA,yBACA,eACA,wCACA,uBAEA,sCACA,0BAEA,qCACA,sBAGA,QAEA,4BACA,sCAEA,aAEA,2BACA,mCACA,wCAGA,eADA,KACA,IAEA,mBAQA,4BACA,2BACA,cAIA,mCAEA,yDACA,wBACA,yBAEA,wCACA,yBAEA,2BACA,wCACA,mCAEA,eADA,KACA,IAEA,iBAOA,sBACA,gBAGA,gBACA,oCAEA,OAEA,MACA,cACA,kBACA,MACA,cACA,qBAEA,cACA,mBAEA,gBAIA,qBAEA,QACA,kBACA,kBACA,kBACA,SAEA,4BACA,8BAGA,cACA,wCAKA,mBACA,SAGA,GAEA,0BAEA,2BAEA,+CAEA,0CAKA,aAFA,eAEA,EACA,aAGA,SAEA,SAGA,eACA,cACA,QAEA,YAIA,yBAGA,eAEA,0BACA,eAEA,OAEA,0BAEA,eAEA,2BAEA,+CAEA,0CAEA,eACA,SAEA,eACA,aAGA,SAEA,SAGA,eACA,cACA,QAEA,YAIA,qBAGA,WACA,+CACA,OACA,QACA,oDAEA,cAEA,oBACA,2BAEA,qBACA,cACA,aACA,QACA,oBACA,wBACA,YACA,yBAEA,aAOA,wBACA,WACA,KAEA,GAGA,0BAEA,2BAGA,+CAEA,yCAEA,4CAEA,wBAEA,8BAEA,6BAEA,uCACA,uCAKA,aAFA,eAEA,EACA,aAGA,SAEA,SAGA,eACA,cACA,QAEA,YAKA,yBAEA,eAEA,0BACA,eAEA,OAGA,0BAEA,eAEA,2BAGA,+CAEA,yCAEA,4CAEA,wBAEA,8BAEA,6BAEA,uCACA,uCAEA,eACA,SAEA,eACA,aAEA,SACA,SAGA,eACA,cACA,QAEA,YAGA,qBACA,WACA,+CACA,OACA,QACA,oDAEA,cAEA,oBACA,oBACA,sBACA,gBAEA,kBACA,mBACA,2BACA,yBACA,0BACA,yBACA,uBACA,QANA,SAMA,GAEA,cACA,aACA,eACA,kBACA,mBACA,QALA,SAKA,GACA,aACA,sBACA,kBACA,aAEA,sBACA,iBACA,aACA,4BAOA,KA7BA,SA6BA,GACA,eACA,aACA,aACA,iBAKA,aACA,eACA,kBAMA,qBACA,WACA,kBACA,uBACA,cACA,yBACA,qBACA,iBACA,mCACA,kBACA,wCACA,sBACA,UACA,aACA,YACA,eACA,QACA,oBACA,wBACA,cACA,2DAEA,aAOA,2BACA,6BAGA,GACA,cACA,0BAGA,SACA,oBACA,iCACA,eACA,qCACA,wBACA,oCACA,yBAMA,gBAr7BA,SAq7BA,GAEA,mBACA,uCACA,WACA,eACA,YACA,gBAKA,0BAEA,YAEA,cACA,8BAGA,sEACA,kCACA,eAEA,wBAEA,wCAGA,GAFA,oBACA,gBACA,4CAEA,8BACA,iBACA,qCACA,+BACA,yBAEA,8BAEA,+BAEA,mCAEA,uCAEA,iCAEA,2CAEA,+CACA,wCAEA,yCAEA,+CAEA,qCAEA,kDACA,qDAEA,yBAGA,UACA,UAGA,4CAEA,sCAEA,sCACA,0BAEA,qCACA,oBACA,QACA,aAEA,4BACA,sCAIA,GAFA,aACA,+BACA,0BAEA,mCACA,2BACA,wCAEA,eADA,KACA,IAEA,aAEA,6BAEA,2BAEA,cAEA,cAGA,sBAUA,yBACA,cACA,qCAGA,+BACA,gDACA,0CAGA,UACA,SACA,uBAGA,8EAEA,sBACA,0C;;;;2DC3qDA,4vCAAqsC,eAAG,G","file":"pages/settlement/settlement.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/settlement/settlement.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./settlement.vue?vue&type=template&id=00659ba6&\"\nvar renderjs\nimport script from \"./settlement.vue?vue&type=script&lang=js&\"\nexport * from \"./settlement.vue?vue&type=script&lang=js&\"\nimport style0 from \"./settlement.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/settlement/settlement.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./settlement.vue?vue&type=template&id=00659ba6&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 =\n    _vm.com != false\n      ? _vm.__map(_vm.commodity, function(item, index) {\n          var $orig = _vm.__get_orig(item)\n\n          var g0 =\n            item.checked == 1 && item.head_img\n              ? _vm.$utils.imageUrl(item.head_img)\n              : null\n          return {\n            $orig: $orig,\n            g0: g0\n          }\n        })\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./settlement.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./settlement.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<view class=\"\" v-if=\"com==false\">\n\t\t\t<view class=\"shop-no-img\">\n\t\t\t\t<image src=\"../../static/shop-no.png\" class=\"img\" mode=\"\"></image>\n\t\t\t</view>\n\t\t</view>\n\t\t<!-- 地址栏 -->\t\n\t\t<view class=\"address-bar\" v-if=\"address.id != ''\" @click=\"choiceAddress\" style=\"margin-top: 28rpx;\">\n\t\t\t<view class=\"address-border\"></view>\n\t\t\t<view class=\"name\">{{address.name}}</view>\n\t\t\t<view class=\"phone\">{{address.phone}}</view>\n\t\t\t<view class=\"address\">{{address.address}}</view>\n\t\t\t<view class=\"move\">></view>\n\t\t</view>\n\t\t<view class=\"address-bar\" v-else  @click=\"choiceAddress\" style=\"margin-top: 28rpx;\">\n\t\t\t<view class=\"address-border\"></view>\n\t\t\t<view class=\"name\"> </view>\n\t\t\t<view class=\"phone\"> </view>\n\t\t\t<view class=\"address\">选择地址</view>\n\t\t\t<view class=\"move\">></view>\n\t\t</view>\n\t\t<!-- 有商品时 -->\n\t\t<view class=\"shop-commodity margin-auto\" v-if=\"com!=false\" style=\"margin-top: 24rpx; border-radius: 16rpx;\">\n\t\t\t<view class=\"shop-ul margin-auto\">\n\t\t\t\t<view class=\"shop-li flex margin-auto\" v-for=\"(item,index) in commodity\" :key=\"index\" v-if=\"item.checked==1\">\n\t\t\t\t\t<image class=\"shop-li-img\" :src=\"$utils.imageUrl(item.head_img)\" v-if=\"item.head_img\" @click=\"details\" :data-index=\"item.keynum\"\n\t\t\t\t\t mode=\"\"></image>\n\t\t\t\t\t<image class=\"shop-li-img\" src=\"../../static/nono.jpg\" v-else mode=\"\" @click=\"details\" :data-index=\"item.goodsinfo.keynum\"></image>\n\t\t\t\t\t<view class=\"shop-li-text\">\n\t\t\t\t\t\t<view class=\"shop-li-title\">{{item.goodsname}}</view>\n\t\t\t\t\t\t<!-- 描述 -->\n\t\t\t\t\t\t<veiw class=\"shop-li-alt\" style=\"color:#333;\">{{item.shopping_cart_goods_item}}</veiw>\n\n\t\t\t\t\t\t<view class=\"shop-li-price\" v-if=\"level_name ==='普通会员'\">￥{{item.price_level0}}</view>\n\t\t\t\t\t\t<view class=\"shop-li-price\" v-else-if=\"level_name ==='指间会员'\">￥{{item.price_level1}}</view>\n\t\t\t\t\t\t<view class=\"shop-li-price\" v-else-if=\"level_name ==='plus会员'\">￥{{item.price_level2}}</view>\n\t\t\t\t\t\t<view class=\"shop-li-price\" v-else-if=\"level_name ==='企业会员'\">￥{{item.price_level3}}</view>\n\t\t\t\t\t\t<view class=\"shop-li-price\" v-else-if=\"level_name ==='合作伙伴'\">￥{{item.price_level4}}</view>\n\t\t\t\t\t\t<view class=\"shop-li-price\" v-else>￥{{item.price}}</view>\n\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"shop-li-bottom flex-vertically\">\n\t\t\t\t\t\t<!-- <view class=\"shop-li-reduce\" :data-index=\"index\" :data-goodsid=\"item.goodsid\" @click=\"reduce\">-</view> -->\n\t\t\t\t\t\t<view class=\"shop-li-number\">× {{item.num}}</view>\n\t\t\t\t\t\t<!-- <view class=\"shop-li-plus\" :data-index=\"index\" :data-goodsid=\"item.goodsid\" @click=\"increase\">+</view> -->\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\n\n\t\t<!-- 客户要的支付 -->\n\t\t<view class=\"shop-money\" style=\"margin-bottom: 32rpx;\">\n\t\t\t<!-- 商品金额 -->\n\t\t\t<view class=\"shop-money-li flex-between\">\n\t\t\t\t<view class=\"shop-money-left\">商品金额</view>\n\t\t\t\t<view class=\"shop-money-right\">￥{{price_yuanshi}}</view>\n\t\t\t</view>\n\t\t\t<!-- 指间币 -->\n\t\t\t<view class=\"shop-money-li flex-between\" style=\"height: 37rpx;line-height: 37rpx;\">\n\t\t\t\t<view class=\"shop-money-left flex\" style=\"line-height: 36rpx;\">\n\t\t\t\t\t<view style=\"width:72rpx;font-size: 25rpx;line-height: 36rpx;white-space: nowrap\">指间币</view>\n\t\t\t\t\t<span style=\"font-size: 20rpx;line-height: 36rpx;margin-left: 20rpx;;\">(共{{zj_balance}}个,可用{{zj_balance}}个)</span>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"shop-money-right\">\n\t\t\t\t\t<switch color=\"#26a2ff\" @change=\"switch1Change\" :checked=\"use_zj_balance==1?true:false\"/>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<!-- 余额 -->\n\t\t\t<view class=\"shop-money-li flex-between\" style=\"height: 37rpx;line-height: 37rpx;padding-bottom: 32rpx;\">\n\t\t\t\t<view class=\"shop-money-left flex\" style=\"line-height: 36rpx\">\n\t\t\t\t\t<view style=\"width:22rpx;font-size: 25rpx;line-height: 36rpx;\">余</view>\n\t\t\t\t\t<view style=\"line-height: 36rpx;width:22rpx;font-size: 25rpx;margin-left: 25rpx;\">额</view>\n\t\t\t\t\t<span style=\"font-size: 20rpx;line-height: 36rpx;margin-left: 20rpx;;\">(共￥{{balance}},可用￥{{balance}})</span>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"shop-money-right\">\n\t\t\t\t\t<switch color=\"#26a2ff\" @change=\"switch2Change\" :checked=\"use_balance==1?true:false\"/>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<!-- 优惠券 -->\n\t\t\t<view class=\"shop-money-li flex-between\" @click=\"coupon\" tyle=\"height: 25rpx;line-height: 25rpx;padding-bottom: 32rpx;\">\n\t\t\t\t<view class=\"shop-money-left\" style=\"line-height: 36rpx;white-space: nowrap\">优惠券\n\t\t\t\t\t<span style=\"font-size: 20rpx;line-height: 36rpx;margin-left: 20rpx;color:#FF1E4E;\">(已默认推荐使用)</span></view>\n\t\t\t\t<view class=\"shop-money-right\" v-if=\"coupon_name\">无</view>\n\t\t\t\t<view class=\"shop-money-right\" v-else style=\"color:#FF0137;\">-{{coupon_money}}￥<span style=\"font-size: 32rpx;color:#000000;\">></span></view>\n\t\t\t</view>\n\t\t\t<view class=\"shop-money-li flex-between\" tyle=\"height: 25rpx;line-height: 25rpx;padding-bottom: 32rpx;\">\n\t\t\t\t<view class=\"shop-money-left\" style=\"line-height: 36rpx;white-space: nowrap\">配送方式</view>\n\t\t\t\t<picker :value=\"delivery_mode_index\" :range=\"delivery_mode_arr\" \n\t\t\t\t @change=\"deliveryModeChange\" style=\"width: 100%;height: 36rpx;\">\n\t\t\t\t\t<view style=\"text-align: right; line-height: 36rpx;\">{{delivery_mode_arr[delivery_mode_index]}}</view>\n\t\t\t\t</picker>\n\t\t\t</view>\n\t\t\t<!-- 合计 -->\n\t\t\t<view class=\"shop-money-btm\" style=\"font-weight: bold; border-top: 2.08rpx solid #ECECEC;\">\n\t\t\t\t合计:<span>￥{{ total_price }}</span>\n\t\t\t</view>\n\t\t</view>\n\t\t<!-- 支付 无商品时背景 -->\n\t\t<form @submit=\"forsubmit\" v-if=\"com==false\">\n\t\t\t<button class=\"shop-payment s\" v-if=\"sta==0\" open-type=\"getUserInfo\" @getuserinfo=\"bindGetUserInfo\" style=\"padding: 0;background: #E27F8C;z-index:1;\">添加商品</button>\n\t\t\t<!-- <button class=\"shop-payment s\" v-else-if=\"sta==200\" form-type=\"submit\">添加商品</button> -->\n\t\t</form>\n\t\t<view class=\"index-tabbar-kong\"></view>\n\t\t<!-- 底部选项卡 -->\n\t\t<view class=\"index-tabbar flex\">\n\t\t\t<!-- 合计 -->\n\t\t\t<view class=\"shop-money-btm\" style=\"font-weight: bold;text-align: left;margin-left: 28rpx;\n    font-size: 16px;\">\n\t\t\t\t合计:<span>{{ total_price }}</span>\n\t\t\t\t<p style=\"font-size: 12px;display: inline;color: #888888;margin-left: 8rpx;\">\n\t\t\t\t\t本次共为您节省￥{{ save_money }}\n\t\t\t\t</p>\n\t\t\t</view>\n\t\t\t<form @submit=\"forsubmit\" v-if=\"com==true\" style=\"width: auto;\">\n\t\t\t\t<button class=\"shop-payment shop-payment-active\" form-type=\"submit\" style=\"margin: 0;width: 200rpx;\">付款</button>\n\t\t\t</form>\n\t\t</view>\n\n\t</view>\n\n</template>\n\n<script>\n\timport MD5 from \"../../common/md5.js\";\n\timport drawQrcode from \"../../common/weapp.qrcode.min.js\";\n\timport config from '../../common/config.js';\n\texport default {\n\t\tdata: function() {\n\t\t\tconst date = new Date()\n\t\t\tconst years = []\n\t\t\tconst year = date.getFullYear()\n\t\t\tconst months = []\n\t\t\tconst month = date.getMonth() + 1\n\t\t\tconst days = []\n\t\t\tconst day = date.getDate()\n\t\t\tfor (let i = 1990; i <= date.getFullYear(); i++) {\n\t\t\t\tyears.push(i)\n\t\t\t}\n\t\t\tfor (let i = 1; i <= 31; i++) {\n\t\t\t\tdays.push(i)\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tip: '',\n\t\t\t\t// 头像\n\t\t\t\thead_img: '',\n\t\t\t\tinput: '',\n\t\t\t\tsta: '',\n\t\t\t\tarray: [],\n\t\t\t\tnul: [],\n\t\t\t\tyears,\n\t\t\t\tyear,\n\t\t\t\tmonth,\n\t\t\t\tdays,\n\t\t\t\tday,\n\t\t\t\tdisplay: false,\n\t\t\t\tzjb: 0,\n\t\t\t\trmb: 0,\n\t\t\t\tnumbers: '1',\n\t\t\t\tdelivery_mode: '快递',\n\t\t\t\tdelivery_mode_arr: [\"快递\", \"同城\", \"自提\"],\n\t\t\t\tdelivery_mode_index: 0,\n\t\t\t\taddress: {},\n\t\t\t\tvalue: [9999, month - 1, day - 1],\n\t\t\t\tvisible: true,\n\t\t\t\tindicatorStyle: `height: ${Math.round(uni.getSystemInfoSync().screenWidth/(750/100))}px;`,\n\t\t\t\theight: '',\n\t\t\t\tcommodity: [],\n\t\t\t\tchoose: 'false',\n\t\t\t\tid: '',\n\t\t\t\t// 玩法  0  1  2  3\n\t\t\t\tnumber: '0',\n\t\t\t\tlevel_name: '',\n\t\t\t\tcom: '',\n\t\t\t\tnum: '',\n\t\t\t\tnum0: '',\n\t\t\t\tnum1: '',\n\t\t\t\tnum2: '',\n\t\t\t\tnum3: '',\n\t\t\t\tnum4: '',\n\t\t\t\tshare: '1',\n\t\t\t\ttimes: '',\n\t\t\t\tkey: '',\n\t\t\t\tmerchantCode: '',\n\t\t\t\topenid: '',\n\t\t\t\tnotifyUrl: \"\",\n\t\t\t\tcardbag_numbe: '',\n\t\t\t\tlength: '',\n\t\t\t\tprice_zhe: '0',\n\t\t\t\tprice_zhekou: '0',\n\t\t\t\tnav: '',\n\t\t\t\tprice_yuanshi: '',\n\t\t\t\tswitch1: '',\n\t\t\t\tswitch2: '',\n\t\t\t\tzj_balance: '',\n\t\t\t\tbalance: '',\n\t\t\t\tcoupon_id: '',\n\t\t\t\tcoupon_number: '',\n\t\t\t\tcoupon_name: '',\n\t\t\t\tcoupon_money: '',\n\t\t\t\tzhufu_msg: '恭喜发财,大吉大利',\n\t\t\t\t// 当前时间\n\t\t\t\tnowtime: '',\n\t\t\t\t// 月份\n\t\t\t\tmonth: '',\n\t\t\t\t// 天数\n\t\t\t\tdate: '',\n\t\t\t\t// 小时\n\t\t\t\thours: '',\n\t\t\t\t// 分钟\n\t\t\t\tminutes: '',\n\t\t\t\t// 月份数组\n\t\t\t\tmonths: [],\n\t\t\t\t// 天数数组\n\t\t\t\tdates: [],\n\t\t\t\t// 小时数组\n\t\t\t\thour: [],\n\t\t\t\t// 分钟数组\n\t\t\t\tminute: [],\n\t\t\t\t// 八个字\n\t\t\t\ttopback: '',\n\t\t\t\t// 模板图\n\t\t\t\ttemplateimg: '',\n\t\t\t\tcardbag_number: '',\n\t\t\t\tnumberss: '',\n\t\t\t\tshowa: '',\n\t\t\t\topenid: '',\n\t\t\t\tData: '',\n\t\t\t\ttimeStamp: '',\n\t\t\t\toutTradeNo: '',\n\t\t\t\turl: \"\",\n\t\t\t\tuse_zj_balance: 1,\n\t\t\t\tuse_balance: 1,\n\t\t\t}\n\t\t},\n\t\tonShow: function(e) {\n\t\t\tthis.url = config.URL;\n\t\t\tvar data = '{}';\n\t\t\tvar action = 'get_webconfig_songli';\n\t\t\tthis.$set(this.address, 'id', uni.getStorageSync('member_area_id'));\n\t\t\tthis.$set(this.address, 'name', uni.getStorageSync('member_area_linkman'));\n\t\t\tthis.$set(this.address, 'phone', uni.getStorageSync('member_area_linktel'));\n\t\t\tthis.$set(this.address, 'address', uni.getStorageSync('member_area_address'));\n\t\t\tthis.$utils.post(action, data).then(res => {\n\t\t\t\tconsole.log('送礼页面配置', res)\n\t\t\t\tif (res.sta == 1) {\n\t\t\t\t\t// 八个字\n\t\t\t\t\tthis.topback = res.rs.background;\n\t\t\t\t\t// 模板图\n\t\t\t\t\tthis.templateimg = res.rs.moban_img;\n\t\t\t\t}\n\t\t\t})\n\n\n\n\t\t\tif (this.showa == 1) {\n\n\t\t\t\t// this.chaxun();\n\t\t\t\t// 送礼页面基本配置\n\n\t\t\t\t// 指间币\n\t\t\t\tthis.zj_balance = uni.getStorageSync('zj_balance');\n\t\t\t\t// 余额\n\t\t\t\tthis.balance = uni.getStorageSync('balance');\n\n\t\t\t\tvar data = '{\"memberid\":\"' + this.memberid + '\"}';\n\t\t\t\tvar action = 'get_buy_shopping_cart';\n\n\t\t\t\tthis.$utils.post(action, data).then(res => {\n\t\t\t\t\tconsole.log('商品', res)\n\t\t\t\t\tlet numberss = 0;\n\t\t\t\t\tif (res.sta == 1) {\n\n\t\t\t\t\t\tfor (let i in res.rs.goodslist) {\n\t\t\t\t\t\t\tnumberss += Number(res.rs.goodslist[i].goodsnum)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.numberss = numberss\n\n\n\t\t\t\t\t\tthis.length = res.rs.goodslist.length;\n\t\t\t\t\t\tif (res.rs.goodslist.length >= 1) {\n\n\n\t\t\t\t\t\t\tthis.price_yuanshi = res.rs.price_yuanshi;\n\t\t\t\t\t\t\tthis.price_zhe = res.rs.price_zhe\n\t\t\t\t\t\t\tlet zhekou = res.rs.price_yuanshi - res.rs.price_zhe;\n\t\t\t\t\t\t\tif (zhekou == 0) {\n\t\t\t\t\t\t\t\tthis.price_zhekou = '0';\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.price_zhekou = zhekou.toFixed(2);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconsole.log(this.price_yuanshi)\n\n\t\t\t\t\t\t\tthis.commodity = res.rs.goodslist;\n\n\t\t\t\t\t\t\tthis.com = true\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.com = false\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.length = 0;\n\t\t\t\t\t}\n\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tthis.coupon_id = uni.getStorageSync('coupon_id');\n\t\t\tthis.coupon_keynum = uni.getStorageSync('coupon_keynum');\n\t\t\tthis.coupon_money = uni.getStorageSync('coupon_money');\n\t\t\tthis.coupon_number = uni.getStorageSync('coupon_number');\n\t\t},\n\t\tonLoad: function(e) {\n\t\t\tuni.showToast({\n\t\t\t\ticon: \"loading\",\n\t\t\t\ttitle: \"加载中\"\n\t\t\t})\n\t\t\tthis.use_balance = 1;\n\t\t\tthis.use_zj_balance = 1;\n\t\t\tthis.openid = uni.getStorageSync('openid');\n\t\t\tthis.id = uni.getStorageSync('id');\n\n\n\t\t\t// 送礼页面基本配置\n\t\t\tvar data = '{}';\n\t\t\tvar action = 'get_webconfig_songli';\n\n\t\t\tthis.$utils.post(action, data).then(res => {\n\t\t\t\tconsole.log('送礼页面配置', res)\n\t\t\t\tif (res.sta == 1) {\n\t\t\t\t\t// 八个字\n\t\t\t\t\tthis.topback = res.rs.background;\n\t\t\t\t\t// 模板图\n\t\t\t\t\tthis.templateimg = res.rs.moban_img;\n\t\t\t\t}\n\t\t\t})\n\n\n\t\t\t// 1.判断当前登录状态    200已登录   0未登录\n\t\t\tvar sign = uni.getStorageSync('sign')\n\t\t\tthis.head_img = sign.head_img;\n\t\t\tif (sign) {\n\t\t\t\tthis.level_name = sign.level_name;\n\t\t\t\tlet that = this;\n\t\t\t\tlet time = setTimeout(function(e) {\n\t\t\t\t\tthat.showa = 1;\n\t\t\t\t\tclearTimeout(time)\n\t\t\t\t}, 100)\n\n\t\t\t\tthis.sta = '200';\n\t\t\t} else {\n\t\t\t\tthis.open();\n\t\t\t\tthis.sta = '0';\n\t\t\t\t// 供浏览使用 \n\t\t\t\tthis.level = 1;\n\t\t\t\tthis.level_name = '普通会员';\n\t\t\t\tuni.setStorageSync('level', 1)\n\t\t\t\tuni.setStorageSync('level_name', '普通会员')\n\t\t\t}\n\n\t\t\t// 时间选择器 \n\n\t\t\t// 当前时间戳\n\t\t\tlet myData = new Date();\n\n\t\t\t// 当前年份\n\t\t\tlet year = myData.getFullYear();\n\t\t\t// 当前月份\n\t\t\tlet month = myData.getMonth() + 1;\n\t\t\t// 当前天数\n\t\t\tlet date = myData.getDate();\n\t\t\t// 当前星期几\n\t\t\tlet day = myData.getDay();\n\t\t\t// 当前小时\n\t\t\tlet hours = myData.getHours();\n\t\t\t// 当前分钟\n\t\t\tlet minutes = myData.getMinutes();\n\n\t\t\t// 当前月份天数\n\t\t\tlet nowDate = new Date(year, month, 0).getDate();\n\n\n\t\t\t// 月份数组\n\t\t\tlet months = [];\n\t\t\t// 天数数组\n\t\t\tlet dates = [];\n\t\t\t// 小时数组\n\t\t\tlet hour = [];\n\t\t\t// 分钟数组\n\t\t\tlet minute = [];\n\n\n\n\t\t\tconsole.log('年', year);\n\t\t\tconsole.log('月', month);\n\t\t\tconsole.log('日', date);\n\t\t\tconsole.log('星期', day);\n\t\t\tconsole.log('小时', hours);\n\t\t\tconsole.log('分钟', minutes);\n\n\t\t\tif (day == 0) {\n\t\t\t\tday = '天'\n\t\t\t} else if (day == 1) {\n\t\t\t\tday = '一'\n\t\t\t} else if (day == 2) {\n\t\t\t\tday = '二'\n\t\t\t} else if (day == 3) {\n\t\t\t\tday = '三'\n\t\t\t} else if (day == 4) {\n\t\t\t\tday = '四'\n\t\t\t} else if (day == 5) {\n\t\t\t\tday = '五'\n\t\t\t} else if (day == 6) {\n\t\t\t\tday = '六'\n\t\t\t}\n\t\t\tthis.nowtime = month + '月' + date + '日星期' + day + '  ' + hours + ':' + minutes;\n\t\t\tthis.times = year + '-' + month + '-' + date + '  ' + hours + ':' + minutes;\n\n\t\t\t// 月份\n\t\t\tfor (let i = month; i < 13; i++) {\n\t\t\t\tmonths.push(i)\n\n\t\t\t}\n\t\t\tthis.months = months;\n\n\t\t\tconsole.log(new Date(year, 7, 13).getDay())\n\t\t\t// 当前月份+天数\n\t\t\tfor (let i in months) {\n\n\t\t\t\t// 遍历剩下月份天数\n\t\t\t\tlet nowDate = new Date(year, months[i], 0).getDate();\n\n\t\t\t\tfor (let j = 1; j < nowDate + 1; j++) {\n\n\t\t\t\t\tlet day = new Date(year, months[i] - 1, j).getDay();\n\n\t\t\t\t\tif (day == 0) {\n\t\t\t\t\t\tday = '天'\n\t\t\t\t\t} else if (day == 1) {\n\t\t\t\t\t\tday = '一'\n\t\t\t\t\t} else if (day == 2) {\n\t\t\t\t\t\tday = '二'\n\t\t\t\t\t} else if (day == 3) {\n\t\t\t\t\t\tday = '三'\n\t\t\t\t\t} else if (day == 4) {\n\t\t\t\t\t\tday = '四'\n\t\t\t\t\t} else if (day == 5) {\n\t\t\t\t\t\tday = '五'\n\t\t\t\t\t} else if (day == 6) {\n\t\t\t\t\t\tday = '六'\n\t\t\t\t\t}\n\n\n\t\t\t\t\tdates.push(months[i] + '月' + j + '日' + '星期' + day)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// 删除当前已过天数\n\t\t\tdates.splice(0, date - 1)\n\t\t\tthis.dates = dates;\n\n\t\t\t// 当前小时\n\t\t\tfor (let i = hours; i < 24; i++) {\n\t\t\t\tif (i < 10) {\n\t\t\t\t\tthis.hour.push('0' + i);\n\t\t\t\t} else {\n\t\t\t\t\tthis.hour.push(i);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// 当前分钟\n\t\t\tfor (let i = minutes; i < 60; i++) {\n\t\t\t\tif (i < 10) {\n\t\t\t\t\tthis.minute.push('0' + i)\n\t\t\t\t} else {\n\t\t\t\t\tthis.minute.push(i)\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar memberid = uni.getStorageSync('id');\n\t\t\t// 祝福模板\n\t\t\tvar data = '{\"memberid\":\"' + memberid + '\"}';\n\t\t\tvar action = 'get_zhufu_theme';\n\n\t\t\tthis.$utils.post(action, data).then(res => {\n\t\t\t\tconsole.log('当前祝福模板', res)\n\t\t\t\tif (res.sta == 1) {\n\t\t\t\t\tif (res.rs.zhufu_type == 0) {\n\t\t\t\t\t\tthis.zhufu_msg = res.rs.zhufu_msg;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t})\n\n\t\t\tfor (let i = 1; i < 101; i++) {\n\t\t\t\tthis.array.push(i)\n\t\t\t}\n\t\t\tfor (let i = 1; i < 10; i++) {\n\t\t\t\tthis.nul.push(i)\n\t\t\t}\n\n\t\t\tuni.getSystemInfo({\n\t\t\t\tsuccess: res => {\n\t\t\t\t\t// 导航高度\n\t\t\t\t\tthis.nav = res.statusBarHeight\n\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tthis.level_name = uni.getStorageSync('level_name')\n\n\t\t\tuni.getSystemInfo({\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tthis.height = res.windowHeight;\n\t\t\t\t},\n\n\t\t\t})\n\t\t\tthis.memberid = memberid;\n\t\t\tvar data = '{\"memberid\":\"' + memberid + '\"}';\n\t\t\tvar action = 'get_buy_shopping_cart';\n\n\t\t\tthis.$utils.post(action, data).then(res => {\n\t\t\t\tconsole.log('商品', res)\n\t\t\t\tuni.hideLoading();\n\n\t\t\t\tif (res.sta == 1) {\n\n\n\t\t\t\t\tlet numberss = 0\n\n\t\t\t\t\tfor (let i in res.rs.goodslist) {\n\t\t\t\t\t\tnumberss += Number(res.rs.goodslist[i].goodsnum)\n\t\t\t\t\t}\n\t\t\t\t\tthis.numberss = numberss\n\n\t\t\t\t\tthis.length = res.rs.goodslist.length;\n\t\t\t\t\tif (res.rs.goodslist.length >= 1) {\n\n\t\t\t\t\t\tthis.price_yuanshi = res.rs.price_yuanshi;\n\t\t\t\t\t\tthis.price_zhe = res.rs.price_zhe\n\t\t\t\t\t\tlet zhekou = res.rs.price_yuanshi - res.rs.price_zhe;\n\n\t\t\t\t\t\tif (zhekou == 0) {\n\t\t\t\t\t\t\tthis.price_zhekou = '0';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.price_zhekou = zhekou.toFixed(2);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconsole.log(this.price_yuanshi)\n\n\t\t\t\t\t\tthis.commodity = res.rs.goodslist;\n\t\t\t\t\t\tconsole.log(\"：\", res.rs.goodslist);\n\t\t\t\t\t\tthis.com = true\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.com = false\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.length = 0;\n\t\t\t\t}\n\n\t\t\t\tif (e.fenshu) {\n\t\t\t\t\tconsole.log('页面加载', e)\n\t\t\t\t\t// 玩法\n\t\t\t\t\tlet number = e.type - 1;\n\t\t\t\t\tthis.number = number;\n\t\t\t\t\t// 批量\n\t\t\t\t\tif (number == 1) {\n\t\t\t\t\t\tthis.numbers = Number(e.fenshu);\n\t\t\t\t\t} else if (number == 3) {\n\t\t\t\t\t\tthis.numbers = '1 : ' + Number(e.fenshu);\n\t\t\t\t\t}\n\t\t\t\t\t// 其他\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.numbers = Number(e.fenshu);\n\t\t\t\t\t}\n\t\t\t\t\t// 份数\n\t\t\t\t\tthis.share = e.fenshu;\n\n\t\t\t\t\tthis.calculation();\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('页面加载不存在', e)\n\t\t\t\t}\n\n\t\t\t})\n\n\n\t\t\t// 指间币\n\t\t\tthis.zj_balance = uni.getStorageSync('zj_balance');\n\t\t\t// 余额\n\t\t\tthis.balance = uni.getStorageSync('balance');\n\n\n\t\t\tvar chars = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J',\n\t\t\t\t'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', 'a', 'b', 'c', 'd', 'e', 'f', 'g',\n\t\t\t\t'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'\n\t\t\t];\n\n\t\t\tvar nums = \"\";\n\n\t\t\tfor (var i = 0; i < 32; i++) {\n\t\t\t\t0.\n\n\n\t\t\t\tvar id = parseInt(Math.random() * 61);\n\n\t\t\t\tnums += chars[id];\n\n\t\t\t}\n\n\t\t\tthis.nums = nums;\n\n\t\t\tthis.timeStamp = new Date().getTime();\n\n\t\t\tvar data = '{}';\n\t\t\tvar action = 'get_payconfig';\n\n\t\t\tthis.$utils.post(action, data).then(res => {\n\t\t\t\tconsole.log('第三方参数', res)\n\t\t\t\tthis.appid = res.rs.appid;\n\t\t\t\tthis.key = res.rs.key;\n\t\t\t\tthis.merchantCode = res.rs.merchantCode;\n\t\t\t})\n\t\t\t// 是否有优惠券\n\t\t\tif (e.coupon_number) {\n\t\t\t\tthis.coupon_number = e.coupon_number;\n\t\t\t\tthis.coupon_name = '-￥' + e.coupon_name;\n\t\t\t}\n\t\t\tconsole.log(this.commodity);\n\t\t},\n\t\tmethods: {\n\t\t\ttabbar: function(e) {\n\t\t\t\tlet index = e.currentTarget.dataset.index;\n\t\t\t\tif (index == 0) {\n\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\turl: '../index/index'\n\t\t\t\t\t})\n\t\t\t\t} else if (index == 1) {\n\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\turl: '../shopping/shopping'\n\t\t\t\t\t})\n\t\t\t\t} else if (index == 2) {\n\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\turl: '../classification/classification'\n\t\t\t\t\t})\n\t\t\t\t} else if (index == 3) {\n\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\turl: '../order/order'\n\t\t\t\t\t})\n\t\t\t\t} else if (index == 4) {\n\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\turl: '../personal/personal'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\tdetails: function(e) {\n\t\t\t\tlet index = e.currentTarget.dataset.index;\n\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/details/details?keynum=' + index,\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// 余额选中\n\t\t\tswitch2Change: function(e) {\n\t\t\t\t// console.log(e.detail.value)\n\t\t\t\tthis.switch2 = e.detail.value;\n\t\t\t\tthis.use_balance = e.detail.value ? 1 : 0;\n\t\t\t\tconsole.log(\"余额\", this.use_balance);\n\t\t\t},\n\t\t\t// 选择优惠券\n\t\t\tcoupon: function(e) {\n\t\t\t\tif (this.sta == 200) {\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: '../Coupon/Coupon?choose=' + '2'\n\t\t\t\t\t})\n\t\t\t\t} else if (this.sta == 0) {\n\t\t\t\t\twx.showToast({\n\t\t\t\t\t\ttitle: '请先登录',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t},\n\t\t\t\n\t\t\tforsubmit: function(e) {\n\t\t\t\tvar that = this;\n\t\t\t\tif (this.length == 0) {\n\t\t\t\t\tif (this.sta == 0) {\n\t\t\t\t\t\twx.showToast({\n\t\t\t\t\t\t\ttitle: '请先登录',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t} else if (this.length > 0) {\n\n\t\t\t\t\t// 玩法  wanfa\n\t\t\t\t\tlet wanfa = Number(this.number) + 1;\n\t\t\t\t\t// 优惠券\n\t\t\t\t\t// let coupon_number = \"202007281146152159913922\";\n\t\t\t\t\tlet coupon_number = this.coupon_number;\n\t\t\t\t\tconsole.log(\"coupon_number\")\n\t\t\t\t\tconsole.log(coupon_number)\n\t\t\t\t\tlet data = JSON.stringify({\n\t\t\t\t\t\tmemberid: this.memberid,\n\t\t\t\t\t\tmember_area_id: this.address.id,\n\t\t\t\t\t\tdelivery_type: this.delivery_mode_arr[this.delivery_mode_index],\n\t\t\t\t\t\tcoupon_number: this.coupon_number,\n\t\t\t\t\t\tuse_balance: this.use_balance,\n\t\t\t\t\t\tuse_zj_balance: this.use_zj_balance,\n\t\t\t\t\t});\n\t\t\t\t\tconsole.log(data)\n\t\t\t\t\tvar action = 'create_buy_order';\n\n\t\t\t\t\tthis.$utils.post(action, data).then(res => {\n\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\tif (res.pay_status == 1) {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: \"支付成功\"\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\t\turl:'../orderList/orderList'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tuni.setStorageSync('coupon', '');\n\t\t\t\t\t\t\tuni.setStorageSync('coupon_keynum', '');\n\t\t\t\t\t\t\tuni.setStorageSync('coupon_number',  '');\n\t\t\t\t\t\t\tuni.setStorageSync('coupon_money', '');\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (res.pay_status == 0) {\n\t\t\t\t\t\t\t// 获取流水单号\n\t\t\t\t\t\t\tlet action = 'get_buy_order_pay_info';\n\t\t\t\t\t\t\tlet data = JSON.stringify({\n\t\t\t\t\t\t\t\tordernumber: res.ordernumber\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.$utils.post(action, data).then(res => {\n\t\t\t\t\t\t\t\tconsole.log(\"获取流水号\", res);\n\t\t\t\t\t\t\t\tlet serial_number = res.rs.serial_number;\n\t\t\t\t\t\t\t\t// 获取ip\n\t\t\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\t\t\turl: 'https://zhijianlw.com/api.php/index/getip',\n\t\t\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\t\t\tconsole.log(res.data);\n\t\t\t\t\t\t\t\t\t\tlet action = 'add_paylog_to_wx';\n\t\t\t\t\t\t\t\t\t\tlet data = JSON.stringify({\n\t\t\t\t\t\t\t\t\t\t\tserial_number: serial_number,\n\t\t\t\t\t\t\t\t\t\t\tip: res.data.ip,\n\t\t\t\t\t\t\t\t\t\t\topenid: this.openid,\n\t\t\t\t\t\t\t\t\t\t\ttype: 'buy_order',\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tthis.$utils.post(action, data).then(res => {\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('获取参数', res)\n\t\t\t\t\t\t\t\t\t\t\tvar serial_number = res.rs.serial_number;\n\t\t\t\t\t\t\t\t\t\t\tlet arr = [];\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tconst date = {\n\t\t\t\t\t\t\t\t\t\t\t\t// 合作方标识\n\t\t\t\t\t\t\t\t\t\t\t\tappId: 'appId=wx9c53a99b078435f5',\n\t\t\t\t\t\t\t\t\t\t\t\ttimeStamp: 'timeStamp=' + this.timeStamp,\n\t\t\t\t\t\t\t\t\t\t\t\tnonceStr: 'nonceStr=' + this.nums,\n\t\t\t\t\t\t\t\t\t\t\t\tpackage: 'package=prepay_id=' + res.rs.prepay_id,\n\t\t\t\t\t\t\t\t\t\t\t\tsignType: 'signType=MD5',\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('拼接前', date)\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tfor (let i in date) {\n\t\t\t\t\t\t\t\t\t\t\t\tarr.push(date[i])\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tarr.sort();\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tlet stringA = '';\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t// 拼接字符串\n\t\t\t\t\t\t\t\t\t\t\tfor (let i in arr) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (i == arr.length - 1) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringA += arr[i];\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\tstringA += arr[i] + '&';\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t// let stringSignTemp = stringA + '&key='  + '730ed24645b1a54e82a3d2bcff63db37';\n\t\t\t\t\t\t\t\t\t\t\tlet stringSignTemp = stringA + '&key=dEEHizJM4cZtBy3Dlj4gVKwHMlM32IPv';\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('拼接后', stringSignTemp)\n\t\t\t\t\t\t\t\t\t\t\tlet sign = MD5.hexMD5(stringSignTemp);\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(sign)\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tuni.requestPayment({\n\t\t\t\t\t\t\t\t\t\t\t\ttimeStamp: String(this.timeStamp),\n\t\t\t\t\t\t\t\t\t\t\t\tnonceStr: this.nums,\n\t\t\t\t\t\t\t\t\t\t\t\tpackage: 'prepay_id=' + res.rs.prepay_id,\n\t\t\t\t\t\t\t\t\t\t\t\tsignType: 'MD5',\n\t\t\t\t\t\t\t\t\t\t\t\tpaySign: sign.toUpperCase(),\n\t\t\t\t\t\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\turl: 'https://zhijianlw.com/api.php/index/set_agent_cardbag',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tserial_number: that.outTradeNo\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'content-type': \"application/x-www-form-urlencoded\" //自定义请求头信息\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// 成功回调\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('微信成功回调', res)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: '支付成功',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('coupon', '');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('coupon_keynum', '');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('coupon_number',  '');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('coupon_money', '');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\turl:'../orderList/orderList'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\tfail(res) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: '支付失败',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat.commodity = '',\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\turl:'../orderList/orderList'\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ticon: \"none\",\t\n\t\t\t\t\t\t\t\ttitle: res.msg?res.msg:\"支付错误\"\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\n\n\t\t\t},\n\t\t\t// 微信支付\n\t\t\twx: function(e) {\n\t\t\t\tvar that = this;\n\t\t\t\tlet cardbag_number = this.cardbag_number;\n\t\t\t\t// let  cardbag_number = \"202009251006539216673724\"\n\t\t\t\tlet ip = this.ip;\n\t\t\t\tlet openid = this.openid;\n\t\t\t\tvar data = '{\"serial_number\":\"' + that.outTradeNo + '\",\"ip\":\"' + ip + '\",\"openid\":\"' + openid +\n\t\t\t\t\t'\",\"type\":\"cardbag\"}';\n\t\t\t\tvar action = 'add_paylog_to_wx';\n\t\t\t\tconsole.log(data)\n\t\t\t\tthis.$utils.post(action, data).then(res => {\n\t\t\t\t\tconsole.log('获取参数', res)\n\t\t\t\t\tvar serial_number = res.rs.serial_number;\n\t\t\t\t\tlet arr = [];\n\n\t\t\t\t\tconst date = {\n\t\t\t\t\t\t// 合作方标识\n\t\t\t\t\t\tappId: 'appId=wx9c53a99b078435f5',\n\t\t\t\t\t\ttimeStamp: 'timeStamp=' + this.timeStamp,\n\t\t\t\t\t\tnonceStr: 'nonceStr=' + this.nums,\n\t\t\t\t\t\tpackage: 'package=prepay_id=' + res.rs.prepay_id,\n\t\t\t\t\t\tsignType: 'signType=MD5',\n\n\t\t\t\t\t}\n\n\n\t\t\t\t\tconsole.log('拼接前', date)\n\n\t\t\t\t\tfor (let i in date) {\n\t\t\t\t\t\tarr.push(date[i])\n\t\t\t\t\t}\n\n\t\t\t\t\tarr.sort();\n\n\t\t\t\t\tlet stringA = '';\n\n\t\t\t\t\t// 拼接字符串\n\t\t\t\t\tfor (let i in arr) {\n\t\t\t\t\t\tif (i == arr.length - 1) {\n\t\t\t\t\t\t\tstringA += arr[i];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstringA += arr[i] + '&';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\t// let stringSignTemp = stringA + '&key='  + '730ed24645b1a54e82a3d2bcff63db37';\n\t\t\t\t\tlet stringSignTemp = stringA + '&key=dEEHizJM4cZtBy3Dlj4gVKwHMlM32IPv';\n\n\t\t\t\t\tconsole.log('拼接后', stringSignTemp)\n\t\t\t\t\tlet sign = MD5.hexMD5(stringSignTemp);\n\t\t\t\t\tconsole.log(sign)\n\n\n\t\t\t\t\tuni.hideLoading();\n\n\t\t\t\t\tuni.requestPayment({\n\t\t\t\t\t\ttimeStamp: String(this.timeStamp),\n\t\t\t\t\t\tnonceStr: this.nums,\n\t\t\t\t\t\tpackage: 'prepay_id=' + res.rs.prepay_id,\n\t\t\t\t\t\tsignType: 'MD5',\n\t\t\t\t\t\tpaySign: sign.toUpperCase(),\n\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\t\turl: 'https://zhijianlw.com/api.php/index/set_agent_cardbag',\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\tserial_number: that.outTradeNo\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\t\t'content-type': \"application/x-www-form-urlencoded\" //自定义请求头信息\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\t\t\t\t// 成功回调\n\t\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\t\tconsole.log('微信成功回调', res)\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\ttitle: '微信支付',\n\t\t\t\t\t\t\t\tcontent: '支付成功',\n\t\t\t\t\t\t\t\tcancelText: '查看订单',\n\t\t\t\t\t\t\t\tconfirmText: '立即赠送',\n\t\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\t\tconsole.log('点击立即赠送')\n\t\t\t\t\t\t\t\t\t\tthat.zengsong()\n\t\t\t\t\t\t\t\t\t} else if (res.cancel) {\n\t\t\t\t\t\t\t\t\t\tconsole.log('点击查看详情')\n\t\t\t\t\t\t\t\t\t\tlet cardbag_number = that.cardbag_number;\n\t\t\t\t\t\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\t\t\t\t\t\turl: '../order/order'\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail(res) {\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '支付失败',\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tthat.commodity = ''\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\n\n\t\t\t\t})\n\t\t\t},\n\t\t\tipp: function(e) {\n\t\t\t\tvar that = this;\n\t\t\t\t// 获取IP地址\n\t\t\t\tuni.request({\n\t\t\t\t\turl: 'https://pv.sohu.com/cityjson?ie=utf-8',\n\t\t\t\t\tsuccess: function(e) {\n\t\t\t\t\t\tconsole.log(e)\n\t\t\t\t\t\tvar aaa = e.data.split(' ');\n\t\t\t\t\t\tvar bbb = aaa[4]\n\t\t\t\t\t\tvar ccc = bbb.replace('\"', '')\n\t\t\t\t\t\tvar ddd = ccc.replace('\"', '')\n\t\t\t\t\t\tvar eee = ddd.replace(',', '')\n\t\t\t\t\t\tthat.ip = eee;\n\t\t\t\t\t\tthat.wx();\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t},\n\t\t\t// 二维码\n\t\t\tcode: function(e) {\n\t\t\t\tthis.display = false\n\t\t\t},\n\t\t\t// 操作指南\n\t\t\toperation: function(e) {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: ''\n\t\t\t\t})\n\t\t\t},\n\t\t\tsignIn: function(e) {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '../signin/signin'\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 立即开通\n\t\t\tnow: function(e) {\n\t\t\t\tif (this.sta == 200) {\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: '../Member/Member'\n\t\t\t\t\t})\n\t\t\t\t} else if (this.sta == 0) {\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: '../signin/signin'\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t},\n\t\t\tinputChoose: function(e) {\n\t\t\t\tthis.numbers = e.target.value;\n\t\t\t\tthis.share = 1 + Number(e.detail.value);\n\t\t\t\tthis.calculation();\n\t\t\t},\n\t\t\t// 份数选择\n\t\t\tbindPickerChange: function(e) {\n\t\t\t\tif (this.number == 1) {\n\t\t\t\t\tthis.numbers = 1 + Number(e.detail.value);\n\t\t\t\t} else {\n\t\t\t\t\tthis.numbers = 1 + Number(e.detail.value);\n\t\t\t\t}\n\t\t\t\tthis.share = 1 + Number(e.detail.value);\n\n\t\t\t\tthis.calculation();\n\t\t\t},\n\t\t\t// 空包选择\n\t\t\tEmptyPacket: function(e) {\n\t\t\t\tthis.numbers = '1 : ' + (1 + Number(e.detail.value));\n\t\t\t\tthis.share = 1 + Number(e.detail.value);\n\t\t\t},\n\t\t\t// 时间选择\n\t\t\tbindChange: function(e) {\n\t\t\t\tconsole.log(e)\n\n\t\t\t\tconst val = e.detail.value\n\n\t\t\t\tlet myData = new Date();\n\t\t\t\tlet hour = [];\n\t\t\t\tlet minute = [];\n\t\t\t\t// 重置时间\n\t\t\t\tif (val[0] > 0) {\n\t\t\t\t\tconsole.log('更换日')\n\t\t\t\t\tthis.hour = [];\n\t\t\t\t\tthis.minute = [];\n\n\t\t\t\t\t// 当前小时\n\t\t\t\t\tfor (let i = 0; i < 24; i++) {\n\t\t\t\t\t\tif (i < 10) {\n\t\t\t\t\t\t\thour.push('0' + i);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thour.push(i);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// 当前分钟\n\t\t\t\t\tfor (let i = 0; i < 60; i++) {\n\t\t\t\t\t\tif (i < 10) {\n\t\t\t\t\t\t\tminute.push('0' + i)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tminute.push(i)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\n\n\n\t\t\t\t\t// 当前小时\n\t\t\t\t\tlet hours = myData.getHours();\n\t\t\t\t\t// 当前分钟\n\t\t\t\t\tlet minutes = myData.getMinutes();\n\t\t\t\t\t// 当前小时\n\t\t\t\t\tfor (let i = hours; i < 24; i++) {\n\t\t\t\t\t\tif (i < 10) {\n\t\t\t\t\t\t\thour.push('0' + i);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thour.push(i);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\n\t\t\t\t\tif (val[1] > 0) {\n\t\t\t\t\t\t// 当前分钟\n\t\t\t\t\t\tfor (let i = 0; i < 60; i++) {\n\t\t\t\t\t\t\tif (i < 10) {\n\t\t\t\t\t\t\t\tminute.push('0' + i)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tminute.push(i)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// 当前分钟\n\t\t\t\t\t\tfor (let i = minutes; i < 60; i++) {\n\t\t\t\t\t\t\tif (i < 10) {\n\t\t\t\t\t\t\t\tminute.push('0' + i)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tminute.push(i)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\n\n\n\t\t\t\t}\n\t\t\t\tthis.hour = hour;\n\t\t\t\tthis.minute = minute;\n\n\t\t\t\tthis.nowtime = this.dates[val[0]] + '' + this.hour[val[1]] + ':' + this.minute[val[2]]\n\n\n\n\t\t\t\t// 正则提取数字\n\t\t\t\tlet time = this.dates[val[0]].match(/\\d+/g);\n\n\t\t\t\tlet year = myData.getFullYear();\n\t\t\t\tlet month = time[0];\n\t\t\t\tlet date = time[1];\n\t\t\t\tlet hours = this.hour[val[1]];\n\t\t\t\tlet minutes = this.minute[val[2]];\n\n\t\t\t\tthis.times = year + '-' + month + '-' + date + '  ' + hours + ':' + minutes\n\n\n\t\t\t},\n\t\t\t// 加法\n\t\t\tincrease: function(e) {\n\n\t\t\t\tlet goodsid = e.currentTarget.dataset.goodsid;\n\t\t\t\tlet index = e.currentTarget.dataset.index;\n\t\t\t\tthis.commodity[index].goodsnum++;\n\t\t\t\tthis.goodsid = goodsid;\n\t\t\t\tthis.goodsnum = 1;\n\t\t\t\tthis.give();\n\n\n\t\t\t},\n\t\t\t// 减法\n\t\t\treduce: function(e) {\n\t\t\t\tlet goodsid = e.currentTarget.dataset.goodsid;\n\t\t\t\tlet index = e.currentTarget.dataset.index;\n\n\n\t\t\t\tif (this.commodity[index].goodsnum == 1) {\n\t\t\t\t\tthis.commodity.splice(index, 1)\n\t\t\t\t\tconsole.log(\"删除\")\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('不删除')\n\t\t\t\t\tthis.commodity[index].goodsnum--;\n\n\t\t\t\t}\n\n\t\t\t\tthis.goodsnum = -1;\n\t\t\t\tthis.goodsid = goodsid;\n\t\t\t\tthis.give();\n\n\t\t\t},\n\t\t\t// 加减数量\n\t\t\tgive: function(e) {\n\n\t\t\t\tvar data = '{\"memberid\":\"' + this.id + '\",\"goodsid\":\"' + this.goodsid + '\",\"goodsnum\":\"' + this.goodsnum + '\"}';\n\t\t\t\tvar action = 'add_goods_to_giftbag';\n\t\t\t\tconsole.log(data)\n\t\t\t\tthis.$utils.post(action, data).then(res => {\n\t\t\t\t\tconsole.log('添加购物车', res)\n\n\t\t\t\t\tvar data = '{\"memberid\":\"' + this.memberid + '\"}';\n\t\t\t\t\tvar action = 'get_buy_shopping_cart';\n\n\t\t\t\t\tthis.$utils.post(action, data).then(res => {\n\t\t\t\t\t\tconsole.log('更改价格', res)\n\n\n\t\t\t\t\t\tlet numberss = 0\n\n\t\t\t\t\t\tfor (let i in res.rs.goodslist) {\n\t\t\t\t\t\t\tnumberss += Number(res.rs.goodslist[i].goodsnum)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.numberss = numberss\n\n\t\t\t\t\t\tthis.price_zhe = res.rs.price_zhe;\n\t\t\t\t\t\tthis.price_yuanshi = res.rs.price_yuanshi\n\t\t\t\t\t\tlet zhekou = res.rs.price_yuanshi - res.rs.price_zhe;\n\n\t\t\t\t\t\tif (zhekou == 0) {\n\t\t\t\t\t\t\tthis.price_zhekou = '0';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.price_zhekou = zhekou.toFixed(2);\n\t\t\t\t\t\t}\n\n\n\n\t\t\t\t\t})\n\t\t\t\t})\n\n\t\t\t\tconsole.log(this.commodity)\n\t\t\t\tif (this.commodity.length == 0) {\n\t\t\t\t\tthis.com = false;\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 选择份数\n\t\t\tcalculation: function(e) {\n\n\t\t\t\tvar data = '{\"memberid\":\"' + this.id + '\",\"fenshu\":\"' + this.share + '\"}';\n\t\t\t\tconsole.log('选择份数参数', data)\n\t\t\t\tvar action = 'get_fenshu_price';\n\n\t\t\t\tthis.$utils.post(action, data).then(res => {\n\t\t\t\t\tconsole.log('选择份数', res.rs)\n\n\t\t\t\t\tthis.price_zhe = res.rs.price_zhe;\n\t\t\t\t\tlet zhekou = res.rs.price_yuanshi - res.rs.price_zhe;\n\t\t\t\t\tthis.price_yuanshi = res.rs.price_yuanshi;\n\t\t\t\t\tif (zhekou == 0) {\n\t\t\t\t\t\tthis.price_zhekou = '0';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.price_zhekou = zhekou.toFixed(2);\n\t\t\t\t\t}\n\n\t\t\t\t})\n\n\t\t\t},\n\t\t\t// 更多玩法 显示\n\t\t\tchoosebtn: function(e) {\n\t\t\t\tthis.choose = true;\n\t\t\t},\n\t\t\t// 选择玩法\n\t\t\tbtn: function(e) {\n\t\t\t\tlet index = e.currentTarget.dataset.index;\n\n\t\t\t\tif (index == 4) {\n\n\t\t\t\t} else if (index == 1) {\n\t\t\t\t\tthis.number = index;\n\t\t\t\t\tthis.numbers = '1'\n\t\t\t\t} else if (index == 3) {\n\t\t\t\t\tthis.number = index;\n\t\t\t\t\tthis.numbers = '1:1'\n\t\t\t\t} else {\n\t\t\t\t\tthis.number = index;\n\t\t\t\t\tthis.numbers = '1'\n\t\t\t\t}\n\t\t\t\tthis.choose = false;\n\t\t\t},\n\n\t\t\t// 选择模板\n\t\t\ttemplate: function(e) {\n\n\t\t\t\tvar fenshu = 0;\n\t\t\t\tif (this.number == 0) {\n\t\t\t\t\tfenshu = this.share\n\t\t\t\t} else if (this.number == 1) {\n\t\t\t\t\tfenshu = 1;\n\t\t\t\t} else {\n\t\t\t\t\tfor (let i in this.commodity) {\n\t\t\t\t\t\tfenshu += this.commodity[i].goodsnum;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: \"../template/template?fenshu=\" + fenshu\n\t\t\t\t})\n\n\t\t\t},\n\n\t\t\tchaxun: function(e) {\n\t\t\t\tlet arr = [];\n\n\n\t\t\t\tconst date = {\n\t\t\t\t\t// 合作方标识\n\t\t\t\t\tappId: 'appId=' + this.appid,\n\t\t\t\t\t// 随机数\n\t\t\t\t\trandom: 'random=' + this.nums,\n\t\t\t\t\t// 门店编号\n\t\t\t\t\tmerchantCode: 'merchantCode=' + this.merchantCode,\n\t\t\t\t\t// 商户订单号\n\t\t\t\t\toutTradeNo: 'outTradeNo=' + this.outTradeNo,\n\t\t\t\t}\n\n\t\t\t\tconsole.log(date)\n\n\t\t\t\tfor (let i in date) {\n\t\t\t\t\tarr.push(date[i])\n\t\t\t\t}\n\n\t\t\t\tarr.sort();\n\n\t\t\t\tlet stringA = '';\n\n\t\t\t\t// 拼接字符串\n\t\t\t\tfor (let i in arr) {\n\t\t\t\t\tif (i == arr.length - 1) {\n\t\t\t\t\t\tstringA += arr[i];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstringA += arr[i] + '&';\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\tlet stringSignTemp = stringA + '&key=' + this.key;\n\n\n\t\t\t\tconsole.log(stringSignTemp)\n\t\t\t\t// 小写\n\t\t\t\tlet sign = MD5.hexMD5(stringSignTemp);\n\t\t\t\tconsole.log(sign)\n\n\t\t\t\tconst datt = {\n\t\t\t\t\t// 合作方标识\n\t\t\t\t\tappId: 'appId=' + this.appid,\n\t\t\t\t\t//  签名\n\t\t\t\t\tsign: 'sign=' + sign,\n\t\t\t\t\t// 随机数\n\t\t\t\t\trandom: 'random=' + this.nums,\n\t\t\t\t\t// 门店编号\n\t\t\t\t\tmerchantCode: 'merchantCode=' + this.merchantCode,\n\t\t\t\t\t// 商户订单号\n\t\t\t\t\toutTradeNo: 'outTradeNo=' + this.outTradeNo,\n\t\t\t\t}\n\t\t\t\tconsole.log(datt)\n\t\t\t\tlet arrr = [];\n\n\t\t\t\tfor (let i in datt) {\n\t\t\t\t\tarrr.push(datt[i])\n\t\t\t\t}\n\n\t\t\t\tarrr.sort();\n\n\t\t\t\tlet string = '';\n\n\t\t\t\t// 拼接字符串\n\t\t\t\tfor (let i in arrr) {\n\t\t\t\t\tif (i == arrr.length - 1) {\n\t\t\t\t\t\tstring += arrr[i];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstring += arrr[i] + '&';\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\tconsole.log('字符串', string)\n\n\n\t\t\t\tuni.request({\n\t\t\t\t\turl: 'https://api.liantuofu.com/open/pay/query',\n\t\t\t\t\tdata: string,\n\t\t\t\t\theader: {\n\t\t\t\t\t\t'content-type': \"application/x-www-form-urlencoded\" //自定义请求头信息\n\t\t\t\t\t},\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t// 成功回调\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tconsole.log('订单状态', res.data)\n\n\t\t\t\t\t\tif (res.data.msg == \"订单已支付\") {\n\t\t\t\t\t\t\twx.showToast({\n\t\t\t\t\t\t\t\ttitle: '支付成功',\n\t\t\t\t\t\t\t\tmask: true,\n\t\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\t\tsetTimeout(function(e) {\n\t\t\t\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t\t\t\turl: '../order/order'\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}, 1500)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\txiaochengxu: function(e) {\n\t\t\t\tlet that = this;\n\t\t\t\tlet arr = [];\n\n\t\t\t\tconst date = {\n\t\t\t\t\t// 合作方标识\n\t\t\t\t\t// appId: 'appId=' + 'EW_N3213842400',\n\t\t\t\t\tappId: 'appId=' + this.appid,\n\t\t\t\t\t// 随机数\n\t\t\t\t\trandom: 'random=' + this.nums,\n\t\t\t\t\t// 门店编号\n\t\t\t\t\t// merchantCode:'merchantCode=' + 'EW_N5247492162',\n\t\t\t\t\tmerchantCode: 'merchantCode=' + this.merchantCode,\n\t\t\t\t\t// 商户订单号\n\t\t\t\t\toutTradeNo: 'outTradeNo=' + this.outTradeNo,\n\t\t\t\t\t// 订单总金额\n\t\t\t\t\ttotalAmount: 'totalAmount=' + this.totalAmount,\n\t\t\t\t\t// 支付渠道  活的\n\t\t\t\t\tchannel: 'channel=' + 'WXPAY',\n\t\t\t\t\t// 支付交易类型\n\t\t\t\t\ttradeType: 'tradeType=' + 'MINIAPP',\n\t\t\t\t\t// 消费者用户标识\n\t\t\t\t\topenId: 'openId=' + this.openid,\n\t\t\t\t\t// 小程序appid\n\t\t\t\t\tsubAppId: 'subAppId=' + 'wx9c53a99b078435f5',\n\t\t\t\t\tnotifyUrl: 'notifyUrl=' + this.notifyUrl\n\t\t\t\t}\n\n\t\t\t\tconsole.log(date)\n\n\t\t\t\tfor (let i in date) {\n\t\t\t\t\tarr.push(date[i])\n\t\t\t\t}\n\n\t\t\t\tarr.sort();\n\n\t\t\t\tlet stringA = '';\n\n\t\t\t\t// 拼接字符串\n\t\t\t\tfor (let i in arr) {\n\t\t\t\t\tif (i == arr.length - 1) {\n\t\t\t\t\t\tstringA += arr[i];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstringA += arr[i] + '&';\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\t// let stringSignTemp = stringA + '&key='  + '730ed24645b1a54e82a3d2bcff63db37';\n\t\t\t\tlet stringSignTemp = stringA + '&key=' + this.key;\n\n\t\t\t\tconsole.log(stringSignTemp)\n\t\t\t\t// 小写\n\t\t\t\tlet sign = MD5.hexMD5(stringSignTemp);\n\t\t\t\tconsole.log(sign)\n\n\t\t\t\tconst datt = {\n\t\t\t\t\t// 合作方标识\n\t\t\t\t\t// appId:'appId=' + 'EW_N3213842400',\n\t\t\t\t\tappId: 'appId=' + this.appid,\n\t\t\t\t\t//  签名\n\t\t\t\t\tsign: 'sign=' + sign,\n\t\t\t\t\t// 随机数\n\t\t\t\t\trandom: 'random=' + this.nums,\n\t\t\t\t\t// 门店编号   \n\t\t\t\t\t// merchantCode:'merchantCode=' + 'EW_N5247492162',\n\t\t\t\t\tmerchantCode: 'merchantCode=' + this.merchantCode,\n\t\t\t\t\t// 商户订单号\n\t\t\t\t\toutTradeNo: 'outTradeNo=' + this.outTradeNo,\n\t\t\t\t\t// 订单总金额\n\t\t\t\t\ttotalAmount: 'totalAmount=' + this.totalAmount,\n\t\t\t\t\t// 支付渠道  活的\n\t\t\t\t\tchannel: 'channel=' + 'WXPAY',\n\t\t\t\t\t// 支付交易类型\n\t\t\t\t\ttradeType: 'tradeType=' + 'MINIAPP',\n\t\t\t\t\t// 消费者用户标识\n\t\t\t\t\topenId: 'openId=' + this.openid,\n\t\t\t\t\t// 小程序appid\n\t\t\t\t\tsubAppId: 'subAppId=' + 'wx9c53a99b078435f5',\n\t\t\t\t\tnotifyUrl: 'notifyUrl=' + this.notifyUrl\n\t\t\t\t}\n\t\t\t\tconsole.log(datt)\n\t\t\t\tlet arrr = [];\n\n\t\t\t\tfor (let i in datt) {\n\t\t\t\t\tarrr.push(datt[i])\n\t\t\t\t}\n\t\t\t\tarrr.sort();\n\t\t\t\tlet string = '';\n\n\t\t\t\t// 拼接字符串\n\t\t\t\tfor (let i in arrr) {\n\t\t\t\t\tif (i == arrr.length - 1) {\n\t\t\t\t\t\tstring += arrr[i];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstring += arrr[i] + '&';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconsole.log('字符串', string)\n\t\t\t\tuni.request({\n\t\t\t\t\turl: 'https://api.liantuofu.com/open/precreate',\n\t\t\t\t\tdata: string,\n\t\t\t\t\theader: {\n\t\t\t\t\t\t'content-type': \"application/x-www-form-urlencoded\" //自定义请求头信息\n\t\t\t\t\t},\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t// 成功回调\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tconsole.log(res.data)\n\t\t\t\t\t\tconsole.log('判断一下', res)\n\t\t\t\t\t\tuni.hideLoading()\n\n\t\t\t\t\t\tif (res.statusCode == 200) {\n\t\t\t\t\t\t\twx.requestPayment({\n\t\t\t\t\t\t\t\ttimeStamp: res.data.timeStamp,\n\t\t\t\t\t\t\t\tnonceStr: res.data.nonceStr,\n\t\t\t\t\t\t\t\tpackage: res.data.payPackage,\n\t\t\t\t\t\t\t\tsignType: res.data.signType,\n\t\t\t\t\t\t\t\tpaySign: res.data.paySign,\n\t\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\t\t// 一级页面用switchTab   二级页面用redirectTo\n\t\t\t\t\t\t\t\t\twx.showModal({\n\t\t\t\t\t\t\t\t\t\ttitle: '微信支付',\n\t\t\t\t\t\t\t\t\t\tcontent: '支付成功',\n\t\t\t\t\t\t\t\t\t\tcancelText: '查看订单',\n\t\t\t\t\t\t\t\t\t\tconfirmText: '立即赠送',\n\t\t\t\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('点击立即赠送')\n\t\t\t\t\t\t\t\t\t\t\t\tthat.zengsong()\n\t\t\t\t\t\t\t\t\t\t\t} else if (res.cancel) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('点击查看详情')\n\t\t\t\t\t\t\t\t\t\t\t\tlet cardbag_number = that.cardbag_number;\n\t\t\t\t\t\t\t\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\t\t\t\t\t\t\t\turl: '../order/order'\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tfail(res) {\n\t\t\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: '支付失败',\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: res.subMsg,\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t},\n\t\t\tzengsong: function(e) {\n\t\t\t\tvar that = this;\n\t\t\t\tconsole.log('赠送')\n\t\t\t\tlet cardbag_number = that.cardbag_number;\n\t\t\t\tlet price = that.price_zhe;\n\t\t\t\tconsole.log(that.price_zhe)\n\t\t\t\tthis.price_yuanshi = 0;\n\t\t\t\tthis.price_zhe = 0;\n\t\t\t\tvar data = '{\"cardbag_number\":\"' + cardbag_number + '\"}';\n\t\t\t\tvar action = 'share_cardbag';\n\t\t\t\tthis.$utils.post(action, data).then(res => {\n\t\t\t\t\tconsole.log('赠送好友', res)\n\t\t\t\t\tif (res.sta == 1) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: res.msg,\n\t\t\t\t\t\t\ticon: 'success',\n\t\t\t\t\t\t\tmask: true,\n\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\tsetTimeout(function(e) {\n\t\t\t\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\t\t\t\turl: '../success/success?cardbag_number=' + cardbag_number + '&price=' + price\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}, 1500)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 获取openid\n\t\t\topen: function() {\n\t\t\t\tvar openid = uni.getStorageSync('openid');\n\n\t\t\t\t// 判断是否获取\n\t\t\t\tif (openid) {\n\t\t\t\t\tthis.openid = openid;\n\t\t\t\t\tconsole.log('已获取openid')\n\t\t\t\t} else {\n\t\t\t\t\t// 获取openid\n\t\t\t\t\tuni.login({\n\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\tvar data = '{\"wx_code\":\"' + res.code + '\"}';\n\t\t\t\t\t\t\tvar action = 'get_openid';\n\t\t\t\t\t\t\tthis.$utils.post(action, data).then(res => {\n\t\t\t\t\t\t\t\tconsole.log('openid', res)\n\t\t\t\t\t\t\t\tuni.setStorageSync('openid', res.openid);\n\t\t\t\t\t\t\t\tthis.openid = res.openid;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\tbindGetUserInfo(e) {\n\t\t\t\t// 用户信息\n\t\t\t\tif (e.detail.rawData) {\n\t\t\t\t\tthis.Data = JSON.parse(e.detail.rawData);\n\t\t\t\t\tthis.zhu();\n\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\ttitle: '登录中',\n\t\t\t\t\t\tmask: 'true'\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t},\n\t\t\tzhu: function() {\n\t\t\t\t// 基本信息\n\t\t\t\tvar rawdata = this.Data;\n\t\t\t\t// openid\n\t\t\t\tvar openid = this.openid;\n\t\t\t\tuni.setStorageSync('rawdata', rawdata)\n\t\t\t\t// 推荐人id parent_member  \n\t\t\t\t// 手机号  Phone\n\t\t\t\tvar data = '{\"wx_openid\":\"' + openid + '\",\"name\":\"' + rawdata.nickName + '\",\"sex\":\"' + rawdata.gender +\n\t\t\t\t\t'\",\"head_img\":\"' + rawdata.avatarUrl + '\"}';\n\t\t\t\tconsole.log(data)\n\t\t\t\t// 注册接口\n\t\t\t\tvar action = 'member_register';\n\n\t\t\t\tthis.$utils.post(action, data).then(res => {\n\t\t\t\t\tconsole.log('注册', res)\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tif (res.msg === \"操作成功！\" || res.msg === '该用户已经注册,请勿重复注册！') {\n\t\t\t\t\t\t//登录 \n\t\t\t\t\t\tvar data = '{\"wx_openid\":\"' + openid + '\"}';\n\t\t\t\t\t\tvar action = 'member_login';\n\t\t\t\t\t\tthis.$utils.post(action, data).then(res => {\n\t\t\t\t\t\t\tuni.setStorageSync('NO', res.rs.NO)\n\t\t\t\t\t\t\tconsole.log('基本信息', res.rs)\n\t\t\t\t\t\t\t// 全部\n\t\t\t\t\t\t\tuni.setStorageSync('sign', res.rs)\n\t\t\t\t\t\t\t// 会员id\n\t\t\t\t\t\t\tuni.setStorageSync('id', res.rs.id)\n\t\t\t\t\t\t\t// 会员昵称\n\t\t\t\t\t\t\tuni.setStorageSync('name', res.rs.name)\n\t\t\t\t\t\t\t// 会员唯一标识\n\t\t\t\t\t\t\tuni.setStorageSync('keynum', res.rs.keynum)\n\t\t\t\t\t\t\t// 会员性别\n\t\t\t\t\t\t\tuni.setStorageSync('sex', res.rs.sex)\n\t\t\t\t\t\t\t// 会员头像\n\t\t\t\t\t\t\tuni.setStorageSync('head_img', res.rs.head_img)\n\t\t\t\t\t\t\t// 会员级别\n\t\t\t\t\t\t\tuni.setStorageSync('level_name', res.rs.level_name)\n\t\t\t\t\t\t\tuni.setStorageSync('level', res.rs.lmevemml)\n\t\t\t\t\t\t\t// 会员余额\n\t\t\t\t\t\t\tuni.setStorageSync('balance', res.rs.balance)\n\t\t\t\t\t\t\t// 会员指尖币余额\n\t\t\t\t\t\t\tuni.setStorageSync('zj_balance', res.rs.zj_balance)\n\t\t\t\t\t\t\t// 会员手机号\n\t\t\t\t\t\t\tuni.setStorageSync('phone', res.rs.phone)\n\t\t\t\t\t\t\t// 折扣\n\t\t\t\t\t\t\tif (res.rs.discount_name == null || res.rs.discount_name == '') {} else {\n\t\t\t\t\t\t\t\tuni.setStorageSync('discount_name', res.rs.discount_name)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.head_img = res.rs.head_img;\n\n\t\t\t\t\t\t\t// 为了下次进行数据回刷\n\t\t\t\t\t\t\tthis.showa = 1;\n\t\t\t\t\t\t\tthis.sta = 200;\n\n\t\t\t\t\t\t\t// 指间币\n\t\t\t\t\t\t\tthis.zj_balance = uni.getStorageSync('zj_balance');\n\t\t\t\t\t\t\t// 余额\n\t\t\t\t\t\t\tthis.balance = uni.getStorageSync('balance');\n\n\t\t\t\t\t\t\tvar data = '{\"memberid\":\"' + this.memberid + '\"}';\n\t\t\t\t\t\t\tvar action = 'get_buy_shopping_cart';\n\n\t\t\t\t\t\t\tthis.$utils.post(action, data).then(res => {\n\t\t\t\t\t\t\t\tconsole.log('商品', res)\n\t\t\t\t\t\t\t\tlet numberss = 0;\n\t\t\t\t\t\t\t\tif (res.sta == 1) {\n\n\t\t\t\t\t\t\t\t\tfor (let i in res.rs.goodslist) {\n\t\t\t\t\t\t\t\t\t\tnumberss += Number(res.rs.goodslist[i].goodsnum)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthis.numberss = numberss\n\t\t\t\t\t\t\t\t\tthis.length = res.rs.goodslist.length;\n\t\t\t\t\t\t\t\t\tif (res.rs.goodslist.length >= 1) {\n\n\t\t\t\t\t\t\t\t\t\tthis.price_yuanshi = res.rs.price_yuanshi;\n\t\t\t\t\t\t\t\t\t\tthis.price_zhe = res.rs.price_zhe\n\t\t\t\t\t\t\t\t\t\tlet zhekou = res.rs.price_yuanshi - res.rs.price_zhe;\n\t\t\t\t\t\t\t\t\t\tif (zhekou == 0) {\n\t\t\t\t\t\t\t\t\t\t\tthis.price_zhekou = '0';\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tthis.price_zhekou = zhekou.toFixed(2);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tconsole.log(this.price_yuanshi)\n\n\t\t\t\t\t\t\t\t\t\tthis.commodity = res.rs.goodslist;\n\n\t\t\t\t\t\t\t\t\t\tthis.com = true\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthis.com = false\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis.length = 0;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t},\n\t\t\tchoiceAddress: function() {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '../Add/Add?cardbag_number=5',\n\t\t\t\t});\n\t\t\t},\n\t\t\tdeliveryModeChange: function(e) {\n\t\t\t\tconsole.log('picker发送选择改变，携带值为', e.target.value)\n\t\t\t\tthis.delivery_mode_index = e.target.value\n\t\t\t}\n\t\t},\n\t\tcomputed:{\n\t\t\tcache:false,\n\t\t\ttotal_price: function(){\n\t\t\t\t\n\t\t\t\t// 只有优惠券对合计有影响\n\t\t\t\treturn this.price_zhe-this.coupon_money>0?this.price_zhe-this.coupon_money:0\n\t\t\t},\n\t\t\tsave_money: function(){\n\t\t\t\treturn this.price_zhe - this.total_price;\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\t@import '@/common/index.css';\n\n\tpage {\n\t\tbackground-color: #F5F5F5;\n\t}\n\n\t/*swtich整体大小及背景色*/\n\t.wx-switch-input {\n\t\twidth: 82rpx !important;\n\t\theight: 37rpx !important;\n\t\tborder-radius: 19rpx !important;\n\t\t/* 点击之后的边框 */\n\t\tborder: 4rpx solid #FF0137 !important;\n\t\t/* 点击之后的背景颜色 */\n\t\tbackground-color: #FFF !important;\n\n\t}\n\n\t/*白色样式（false的样式）*/\n\t.wx-switch-input::before {\n\t\twidth: 80rpx !important;\n\t\theight: 32rpx !important;\n\t\t/* margin-top: -6rpx; */\n\t\tmargin-left: -6rpx;\n\t\tborder: 4rpx solid #BFBFBF !important;\n\t\t/* 点击之前背景色 */\n\t\tbackground-color: transpent !important;\n\t}\n\n\t/* 按钮样式 */\n\t.wx-switch-input::after {\n\t\twidth: 24rpx !important;\n\t\theight: 24rpx !important;\n\t\tmargin-top: 3rpx;\n\t\tmargin-left: 4rpx;\n\t\t/* background: #FF0137 !important; */\n\t\tbox-shadow: none !important;\n\t\tborder-radius: 50%;\n\t\tbackground: #BFBFBF !important;\n\t}\n\n\n\n\t.item {\n\t\twidth: 263rpx;\n\t}\n\n\t.picker-view-column1 {\n\t\twidth: 250rpx !important;\n\t\tmargin-left: 26rpx;\n\t}\n\n\t.picker-view-column {\n\t\twidth: 200rpx !important;\n\t}\n\n\t.shop-number input {\n\t\twidth: 100rpx;\n\t\tfloat: right;\n\t\ttext-align: center;\n\t\tbackground-color: #F7F7F7;\n\t}\n\n\t/* 购物样式 */\n\t.shop-money-input {\n\t\tmargin-top: -8rpx;\n\t\twidth: 100rpx;\n\t\tfloat: right;\n\t\ttext-align: center;\n\t\tbackground-color: #F7F7F7;\n\t\tmargin-left: 28rpx;\n\t}\n\n\t.shop-bottom {\n\t\tpadding-top: 10rpx;\n\t}\n\n\t.shop-li-bottom {\n\t\twidth: min-content;\n\t}\n\n\t.shop-money {\n\t\tmargin: 0 auto;\n\t\tborder-radius: 0;\n\t}\n\n\t.shop-money:last-child {\n\t\tborder-radius: 16rpx 16rpx 0 0;\n\t}\n\n\t.shop-li-number {\n\t\tbackground: #FFFFFF;\n\t\tborder: none;\n\t\tbox-shadow: none;\n\t\ttext-align: right;\n\t}\n\n\t.address-bar {\n\t\tposition: relative;\n\t\twidth: 696.52rpx;\n\t\tborder-radius: 0 0 16rpx 16rpx;\n\t\tbackground: #FFFFFF;\n\t\tmargin: 0 auto;\n\t\tmargin-top: 22rpx;\n\t\tpadding-bottom: 28rpx;\n\t\toverflow: hidden;\n\t}\n\n\t.address-bar view {\n\t\tpadding: 0 28rpx;\n\t\tline-height: 22px;\n\t}\n\n\t.address-bar .name {\n\t\tfont-weight: 400;\n\t\tfont-size: 16px;\n\t\tdisplay: inline;\n\t}\n\n\t.address-bar .phone {\n\t\tcolor: #888888;\n\t\tfont-size: 14px;\n\t\tdisplay: inline;\n\t}\n\n\t.address-bar .address {\n\t\tfont-weight: 400;\n\t\tfont-size: 16px;\n\t}\n\n\t.address-border {\n\t\twidth: 100%;\n\t\theight: 8rpx;\n\t\tbackground-image: repeating-linear-gradient(-45deg, #488BA7, #488BA7 12px, #FFFFFF 12px, #FFFFFF 16px, #CE5656 16px, #CE5656 28px, #FFFFFF 28px, #FFFFFF 32px);\n\t\tbackground-position: -75rpx;\n\t\tmargin-bottom: 28rpx;\n\t}\n\n\t.move {\n\t\tposition: absolute;\n\t\twidth: 20px;\n\t\tright: 0px;\n\t\ttop: 50%;\n\t\tmargin-top: -10px;\n\t}\n\t.shop-li:last-of-type{\n\t\tborder: none;\n\t}\n\t.shop-money-li:last-of-type{\n\t\tborder-bottom: 1px solid #ECECEC;\n\t}\n</style>\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./settlement.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./settlement.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}