{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/HI BOY/Desktop/zhijianliwu20210716/pages/balance/balance.vue?9f2f","webpack:///C:/Users/HI BOY/Desktop/zhijianliwu20210716/pages/balance/balance.vue?b8b6","webpack:///C:/Users/HI BOY/Desktop/zhijianliwu20210716/pages/balance/balance.vue?3995","webpack:///C:/Users/HI BOY/Desktop/zhijianliwu20210716/pages/balance/balance.vue?3a80","uni-app:///pages/balance/balance.vue","webpack:///C:/Users/HI BOY/Desktop/zhijianliwu20210716/pages/balance/balance.vue?a710","webpack:///C:/Users/HI BOY/Desktop/zhijianliwu20210716/pages/balance/balance.vue?a8eb"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,mG;AACAA,UAAU,CAACC,gBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;AACa;;;AAGnE;AACyK;AACzK,gBAAgB,+KAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAqnB,CAAgB,2nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiDzoB;AACA;AACA,4F;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA,EACA,IADA,kBACA,CACA,SACA,MADA,EAEA,UACA,4BADA,EAEA,6BAFA,EAGA,6BAHA,EAIA,6BAJA,EAKA,+BALA,EAMA,+BANA,CAFA,EAUA,SAVA,EAWA;AACA,eAZA,EAaA;AACA,aAdA,EAeA;AACA,sBAhBA,EAiBA;AACA,qBAlBA,EAmBA;AACA,oBApBA,EAqBA;AACA,mBAtBA,EAuBA,UAvBA,EAwBA,UAxBA,EAyBA,MAzBA,EA0BA,aA1BA,EA2BA,QA3BA,GA6BA,CA/BA,EAgCA,6CAEA,eAGA,mUAEA,cAEA,8BAGA,sCAEA,kBAEA,CAEA,iBAEA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KANA;AAOA;AACA,GAjEA;AAkEA;AACA;AACA;AACA;AACA,GAtEA;AAuEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA,KAVA;AAWA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,wBADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAdA,MAcA;AACA;AACA,0BADA;AAEA,wBAFA;;AAIA;;;AAGA,OAxBA;;AA0BA,KAtDA;AAuDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2CAFA;AAGA,oDAHA;AAIA,6CAJA;AAKA,0DALA;AAMA,kCANA;;;;;AAWA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;;AAGA;AACA,6CADA;AAEA,+BAFA;AAGA,kDAHA;AAIA,yBAJA;AAKA,qCALA;AAMA,iBANA,mBAMA,GANA,EAMA;AACA;;AAEA;AACA,2EADA;AAEA;AACA,8CADA,EAFA;;AAKA;AACA,mEADA,CACA;AADA,eALA;AAQA,2BARA;AASA;AACA;AACA;AACA;AACA,+BADA;;AAGA;AACA,eAhBA;;;AAmBA,WA5BA;AA6BA,cA7BA,gBA6BA,GA7BA,EA6BA;AACA;AACA;AACA;AACA,2BADA;AAEA,0BAFA;;AAIA;AACA,WArCA;;;;AAyCA,OArFA;AAsFA,KArJA;AAsJA;AACA;AACA;AACA;AACA,oDADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAXA;;;AAcA,KAvKA;;;AA0KA;AACA;AACA;AACA;AACA;AACA;AACA,KAhLA;AAiLA;AACA;AACA;AACA;AACA,KArLA;AAsLA;AACA;AACA;AACA,sBADA;;AAGA,KA3LA;AA4LA;AACA;AACA,yBADA;;AAGA,KAhMA;AAiMA;AACA;AACA;AACA,KApMA;AAqMA;AACA;AACA;;AAEA;AACA;AACA;AACA,oCAHA;AAIA;AACA,qCALA;AAMA;AACA;AACA,yDARA;AASA;AACA,mDAVA;AAWA;AACA,sDAZA;AAaA;AACA,qCAdA;AAeA;AACA,2CAhBA;AAiBA;AACA,uCAlBA;AAmBA;AACA,oDApBA;AAqBA,gDArBA;;;AAwBA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oCAHA;AAIA;AACA,4BALA;AAMA;AACA,qCAPA;AAQA;AACA;AACA,yDAVA;AAWA;AACA,mDAZA;AAaA;AACA,sDAdA;AAeA;AACA,qCAhBA;AAiBA;AACA,2CAlBA;AAmBA;AACA,uCApBA;AAqBA;AACA,oDAtBA;AAuBA,gDAvBA;;AAyBA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,uDADA;AAEA,oBAFA;AAGA;AACA,6DADA,CACA;AADA,SAHA;AAMA,sBANA;AAOA;AACA;AACA;;AAEA;;AAEA;AACA,yCADA;AAEA,uCAFA;AAGA,wCAHA;AAIA,uCAJA;AAKA,qCALA;AAMA,mBANA,mBAMA,GANA,EAMA;AACA;AACA;AACA;AACA,6BADA;AAEA,+BAFA;AAGA,kCAHA;AAIA,mCAJA;AAKA,uBALA,mBAKA,GALA,EAKA;AACA;AACA;AACA,mBAFA,MAEA;AACA;AACA;AACA,iDADA;;AAGA;;AAEA,iBAfA;;AAiBA,aA1BA;AA2BA,gBA3BA,gBA2BA,GA3BA,EA2BA;AACA;AACA,aA7BA;;;;AAiCA,SA9CA;;AAgDA,KA1VA;AA2VA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAPA;AAQA,KA7WA,EAvEA,E;;;;;;;;;;;;;ACpDA;AAAA;AAAA;AAAA;AAA+4B,CAAgB,o3BAAG,EAAC,C;;;;;;;;;;;ACAn6B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/balance/balance.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/balance/balance.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./balance.vue?vue&type=template&id=5e65aa80&\"\nvar renderjs\nimport script from \"./balance.vue?vue&type=script&lang=js&\"\nexport * from \"./balance.vue?vue&type=script&lang=js&\"\nimport style0 from \"./balance.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/balance/balance.vue\"\nexport default component.exports","export * from \"-!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./balance.vue?vue&type=template&id=5e65aa80&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./balance.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./balance.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t    <view class=\"balance-header\">\n\t\t\t<!-- 总金额 -->\n\t\t\t<view class=\"balance-top\">\n\t\t\t\t<view class=\"balance-top-company\">总金额(元)</view>\n\t\t\t\t<view class=\"balance-top-price\">{{balanc}}</view>\n\t\t\t</view>\n\t\t\t<view class=\"balance-query\">\n\t\t\t<!-- 充值查询  充值卡查询 -->\n\t\t\t\t<view class=\"balance-query-content flex-between margin-auto flex-vertically\">\n\t\t\t\t\t<view class=\"balance-query-li flex-vertically\" @click=\"$buttonClick(left)\"><image src=\"../../static/balance-left.png\" mode=\"\"></image>收支明细</view>\n\t\t\t\t\t<view class=\"balance-query-line\"></view>\n\t\t\t\t\t<view class=\"balance-query-li flex-vertically\" @click=\"$buttonClick(right)\"><image src=\"../../static/balance-right.png\" mode=\"\"></image>充值卡充值</view>\n\t\t\t\t</view>\n\t\t\t</view> \n\t\t</view>\t\n\t\t<view class=\"balance-page\">\n\t\t\t<!-- 充值 -->\n\t\t\t<view class=\"balance-content flex-between-wrap\">\n\t\t\t\t \n\t\t\t\t<view class=\"balance-content-li\"  :class=\"[number==index?'balance-content-li-active':'']\" v-for=\"(item,index) in balance\" :key=\"index\" :data-id=\"item.id\" :data-index=\"index+1\" @click=\"bala\">\n\t\t\t\t\t<!-- 充 --> \n\t\t\t\t\t<view class=\"balance-content-price\">{{item.recharge_money}}元</view>\n\t\t\t\t\t<!-- 送 -->\n\t\t\t\t\t<view class=\"balance-content-give\">送{{item.give_money}}</view>\n\t\t\t\t\t<!-- 圆圈 -->\n\t\t\t\t\t<view class=\"balance-content-circular\" :class=\"[number==index?'balance-content-circular-active':'']\"></view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<!-- 自定义充值 -->\n\t\t\t<view class=\"balance-bottom flex-vertically\">\n\t\t\t\t<view class=\"balance-bottom-left\">¥</view>\n\t\t\t\t<input class=\"balance-bottom-input\" @input=\"price\" type=\"text\" placeholder=\"请输入自定义充值金额\">\n\t\t\t</view>\n\t\t\t<!-- 说明 -->\n\t\t\t<view class=\"balance-explain\">说明:自定义充值金额不享受充值赠送活动</view>\n\t\t\t<!-- 立即充值 -->\n\t\t</view>\n\t\t\n\t\t\n\t\t<button class=\"balance-button\" @click=\"button\">立即充值</button>\n\t\t\n\t\t\n\t\t\n\t</view>\n</template> \n\n<script>\n\timport MD5  from \"../../common/md5.js\";\n\timport drawQrcode from \"../../common/weapp.qrcode.min.js\";\n\timport config from '../../common/config.js';\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tip:'',\n\t\t\t\tbalance:[\n\t\t\t\t\t{price:'100',give:'5元'},\n\t\t\t\t\t{price:'200',give:'15元'},\n\t\t\t\t\t{price:'300',give:'20元'},\n\t\t\t\t\t{price:'500',give:'50元'},\n\t\t\t\t\t{price:'1000',give:'120元'},\n\t\t\t\t\t{price:'2000',give:'300元'},\n\t\t\t\t],\n\t\t\t\tnumber:0,\n\t\t\t\t// appid\n\t\t\t\tappid:'',\n\t\t\t\t// key密钥\n\t\t\t\tkey:'',\n\t\t\t\t// 门店编号\n\t\t\t\tmerchantCode:'',\n\t\t\t\t// 支付金额\n\t\t\t\ttotalAmount:'',\n\t\t\t\t// 支付流水号\n\t\t\t\toutTradeNo:'',\n\t\t\t\t// 通知地址\n\t\t\t\tnotifyUrl:'',\n\t\t\t\tmoney:'0',\n\t\t\t\tbalanc:'',\n\t\t\t\tid:'',\n\t\t\t\ttimeStamp:\"\",\n\t\t\t\tnums:''\n\t\t\t}\n\t\t},\n\t\tonLoad:function(e){\n\t\t\t\n\t\t\tthis.content()\n\t\t\t\n\t\t\t\n\t\t\tvar chars = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'];\n\t\t\t\n\t\t\tvar nums = \"\";\n\t\t\t\n\t\t\tfor (var i = 0; i < 32; i++) {\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t   var id = parseInt(Math.random() * 61);\n\t\t\t\n\t\t\t    nums += chars[id];\n\t\t\t\t  \n\t\t\t}\n\t\t\t\n\t\t\tthis.nums = nums;\n\t\t\t\n\t\t\tthis.timeStamp = new Date().getTime();\n\t\t\t\n\t\t\t\n\t\t\tvar data = '{}';\n\t\t\tvar action = 'get_payconfig';\n\t\t\tthis.$utils.post(action,data).then(res=>{\n\t\t\t\tconsole.log('第三方参数',res)\n\t\t\t\tthis.appid = res.rs.appid;\n\t\t\t\tthis.key = res.rs.key;\n\t\t\t\tthis.merchantCode = res.rs.merchantCode;\n\t\t\t\tthis.openid = uni.getStorageSync('openid');\n\t\t\t})\n\t\t\tthis.login();\n\t\t},\n\t\tonShow:function(){\n\t\t\tif(this.outTradeNo){\n\t\t\t\tthis.chaxun();\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\t  // 充值类\n\t\t\t  content:function(e){\n\t\t\t\t  var data = '{}';\n\t\t\t\t  var action = 'get_recharge_give';\n\t\t\t\t  this.$utils.post(action,data).then(res=>{\n\t\t\t\t\t  console.log(res.rs)\n\t\t\t\t\t  this.balance = res.rs;\n\t\t\t\t\t  this.id = res.rs[0].id;\n\t\t\t\t  })\n\t\t\t  },\n\t\t\t  // 支付\n\t\t\t  button:function(e){\n\t\t\t\t  // 充值金额\n\t\t\t\t  \n\t\t\t\t  \n\t\t\t\tvar id = uni.getStorageSync('id');\n\t\t\t\t// 支付方式\n\t\t\t\tvar recharge_way = '微信支付';  \n\t\t\t\t\n\t\t\t\tif(this.money == 0){\n\t\t\t\t\tvar data = '{\"memberid\":\"'+id+'\",\"recharge_give_id\":\"'+this.id+'\",\"recharge_way\":\"'+recharge_way+'\"}';\n\t\t\t\t}else{\n\t\t\t\t\tvar data = '{\"memberid\":\"'+id+'\",\"money\":\"'+this.money+'\",\"recharge_way\":\"'+recharge_way+'\"}';\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tvar action = 'create_member_recharge';\n\t\t\t\t\t\t\t\n\t\t\t\tthis.$utils.post(action,data).then(res=>{ \n\t\t\t\t\tconsole.log('在线充值',res)\n\t\t\t\t\tif(res.sta==1){\n\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t\ttitle:'加载中',\n\t\t\t\t\t\t\tmask:true \n\t\t\t\t\t\t})\n\t\t\t\t\t  // 支付金额\n\t\t\t\t\t  this.totalAmount = res.money;\n\t\t\t\t\t  // this.totalAmount = '0.01';  \n\t\t\t\t\t  // 充值流水号\n\t\t\t\t\t  this.outTradeNo = res.serial_number\n\t\t\t\t\t  // 通知地址\n\t\t\t\t\t  this.notifyUrl  = config.URL+'api.php/index/set_agent_recharge?serial_number=' + res.serial_number\n\t\t\t\t\t  this.ipp();\n\t\t\t\t\t  // this.xiaochengxu()\t\n\t\t\t\t\t}else{\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle:res.msg,\n\t\t\t\t\t\t\ticon:\"none\"\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t})  \n\t\t\t\t\n\t\t\t  },\n\t\t\t  // 微信支付\n\t\t\t  wx:function(e){\n\t\t\t    var that = this;\n\t\t\t    let ip = this.ip;\n\t\t\t    let openid = this.openid;\n\t\t\t    var data = '{\"serial_number\":\"'+that.outTradeNo+'\",\"ip\":\"'+ip+'\",\"openid\":\"'+openid+'\",\"type\":\"recharge\"}';\n\t\t\t    var action = 'add_paylog_to_wx';\n\t\t\t    console.log(data)\n\t\t\t    this.$utils.post(action,data).then(res=>{\n\t\t\t  \t  console.log('获取参数',res)\n\t\t\t  \t  var serial_number = res.rs.serial_number;\n\t\t\t  \t  let arr=[];\n\t\t\t  \t   \n\t\t\t  \t  const date = {\n\t\t\t  \t  \t\t\t// 合作方标识\n\t\t\t  \t  \t\t\t   appId: 'appId=wx9c53a99b078435f5', \n\t\t\t  \t  \t\t\t   timeStamp:'timeStamp='+ this.timeStamp,\n\t\t\t  \t  \t\t\t   nonceStr:'nonceStr=' + this.nums,\n\t\t\t  \t  \t\t\t   package:'package=prepay_id='+ res.rs.prepay_id,\n\t\t\t  \t  \t\t\t   signType:'signType=MD5',\n\t\t\t  \n\t\t\t  \t  }\t\n\t\t\t  \t\n\t\t\t  \t  \t \n\t\t\t  \t  console.log('拼接前',date)\n\t\t\t  \t  \n\t\t\t  \t  \tfor(let i in date){\n\t\t\t  \t  \t\tarr.push(date[i])\n\t\t\t  \t  \t}\n\t\t\t  \t  \t\n\t\t\t  \t      arr.sort();\n\t\t\t  \t  \n\t\t\t  \t  let stringA = '';\n\t\t\t  \t  \n\t\t\t  \t  // 拼接字符串\n\t\t\t  \t   for(let i in arr){ \n\t\t\t  \t  \t if(i == arr.length-1){\n\t\t\t  \t  \t\tstringA += arr[i] ;\n\t\t\t  \t  \t}else{\n\t\t\t  \t  \t\tstringA += arr[i] + '&';\n\t\t\t  \t  \t}\n\t\t\t  \t  \t\t\t\t  \n\t\t\t  \t  } \n\t\t\t  \t  let stringSignTemp = stringA + '&key=dEEHizJM4cZtBy3Dlj4gVKwHMlM32IPv';\n\t\t\t  \t    \n\t\t\t  \t  console.log('拼接后',stringSignTemp)\n\t\t\t  \t  let sign = MD5.hexMD5(stringSignTemp);\n\t\t\t  \t  console.log(sign)\n\t\t\t  \t  \n\t\t\t  \t  uni.hideLoading();\n\t\t\t  \t  \n\t\t\t  \t  \n\t\t\t  \t  uni.requestPayment({\n\t\t\t  \t    timeStamp: String(this.timeStamp),\n\t\t\t  \t    nonceStr: this.nums,\n\t\t\t  \t    package: 'prepay_id=' + res.rs.prepay_id,\n\t\t\t  \t    signType: 'MD5',\n\t\t\t  \t    paySign: sign.toUpperCase(),\n\t\t\t  \t    success (res) {\n\t\t\t  \t      uni.hideLoading();\n\t\t\t  \t\t  \n\t\t\t  \t      uni.request({\n\t\t\t  \t          url: config.URL+'api.php/index/set_agent_recharge', \n\t\t\t  \t          data:{\n\t\t\t  \t      \t\t\t\t\t\t  serial_number:that.outTradeNo\n\t\t\t  \t      \t\t\t\t\t  },\n\t\t\t  \t          header: {\n\t\t\t  \t              'content-type' : \"application/x-www-form-urlencoded\" //自定义请求头信息\n\t\t\t  \t          }, \n\t\t\t  \t      \tmethod:'GET',    \n\t\t\t  \t      \t// 成功回调\n\t\t\t  \t          success: (res) => {\n\t\t\t  \t      \t\tconsole.log('微信成功回调',res)\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle:'充值成功',\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tthat.login();\n\t\t\t  \t          },\n\t\t\t  \t      })\n\t\t\t\t\t  \t\n\t\t\t  \t    },\n\t\t\t  \t    fail (res) {\n\t\t\t  \t\t\tuni.hideLoading(); \n\t\t\t  \t  \t  console.log(res)\n\t\t\t  \t  \t  uni.showToast({\n\t\t\t  \t  \t  \ttitle:'支付失败',\n\t\t\t  \t  \t\ticon:'none'\n\t\t\t  \t  \t  })\n\t\t\t  \t\t  that.commodity = ''\n\t\t\t  \t    }\n\t\t\t  \t  })\n\t\t\t  \t  \n\t\t\t  \t  \n\t\t\t    })\n\t\t\t  },\n\t\t\t  ipp:function(e){\n\t\t\t  \tvar that = this;\n\t\t\t  \t    // 获取IP地址\n\t\t\t  \t    uni.request({\n\t\t\t  \t      url: 'https://pv.sohu.com/cityjson?ie=utf-8',\n\t\t\t  \t      success: function (e) {\n\t\t\t  \t\t\t  console.log(e)\n\t\t\t  \t        var aaa = e.data.split(' ');\n\t\t\t  \t        var bbb = aaa[4]\n\t\t\t  \t        var ccc = bbb.replace('\"', '')\n\t\t\t  \t        var ddd = ccc.replace('\"', '')\n\t\t\t  \t        var eee = ddd.replace(',', '')\n\t\t\t  \t\t\tthat.ip = eee;\n\t\t\t  \t\t\tthat.wx(); \n\t\t\t  \t      }\n\t\t\t  \t    })\n\t\t\t  \t\n\t\t\t  },\n\t\t\t  \n\t\t\t  \n\t\t\t  // 选择变色  获取金额\n\t\t\t   bala:function(e){\n\t\t\t\t const index = e.currentTarget.dataset.index - 1;\n\t\t\t\t this.id = e.currentTarget.dataset.id;\n\t\t\t\t this.number = index;\n\t\t\t\t this.money = 0;\n\t\t\t   },\n\t\t\t  // 选择框\n\t\t\t price:function(e){\n\t\t\t\t this.number = '1000'\n\t\t\t\t this.money = e.detail.value;\n\t\t\t },\n\t\t\t// 路由\n\t\t\t left:function(e){\n\t\t\t\t uni.navigateTo({\n\t\t\t\t \turl:'./Query'\n\t\t\t\t })\n\t\t\t }, \n\t\t\t right:function(e){\n\t\t\t\t uni.navigateTo({\n\t\t\t\t \turl:'./Recharge'\n\t\t\t\t })\n\t\t\t },\n\t\t\t // 二维码\n\t\t\t code:function(e){\n\t\t\t \tthis.display = false\n\t\t\t },\n\t\t\t xiaochengxu:function(e){\n\t\t\t\tlet that = this;\n\t\t\t\tlet arr=[];\n\t\t\t\t \n\t\t\t\tconst date = {\n\t\t\t\t\t\t\t// 合作方标识\n\t\t\t\t\t\t\t  // appId: 'appId=' + 'EW_N3213842400',\n\t\t\t\t\t\t\t  appId: 'appId=' + this.appid,\n\t\t\t\t\t\t\t// 随机数\n\t\t\t\t\t\t\t   random:'random='+ this.nums,\n\t\t\t\t\t\t\t// 门店编号\n\t\t\t\t\t\t\t   // merchantCode:'merchantCode=' + 'EW_N5247492162',\n\t\t\t\t\t\t\t   merchantCode:'merchantCode=' + this.merchantCode,\n\t\t\t\t\t\t\t// 商户订单号\n\t\t\t\t\t\t\t   outTradeNo:'outTradeNo='+ this.outTradeNo,\n\t\t\t\t\t\t\t// 订单总金额\n\t\t\t\t\t\t\t   totalAmount:'totalAmount='+ this.totalAmount,\n\t\t\t\t\t\t\t// 支付渠道  活的\n\t\t\t\t\t\t\t   channel:'channel='+ 'WXPAY',\n\t\t\t\t\t\t\t// 支付交易类型\n\t\t\t\t\t\t\t   tradeType:'tradeType='+ 'MINIAPP',\n\t\t\t\t\t\t\t// 消费者用户标识\n\t\t\t\t\t\t\t   openId:'openId='+ this.openid,\n\t\t\t\t\t\t\t// 小程序appid\n\t\t\t\t\t\t\t   subAppId:'subAppId='+ 'wx9c53a99b078435f5',\n\t\t\t\t\t\t\t   notifyUrl:'notifyUrl=' + this.notifyUrl\n\t\t\t\t}\t\n\t\t\t\t\t\n\t\t\t\tconsole.log(date)\n\t\t\t\t\n\t\t\t\t\tfor(let i in date){\n\t\t\t\t\t\tarr.push(date[i])\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t    arr.sort();\n\t\t\t\t\n\t\t\t\tlet stringA = '';\n\t\t\t\t\n\t\t\t\t// 拼接字符串\n\t\t\t\t for(let i in arr){ \n\t\t\t\t\t if(i == arr.length-1){\n\t\t\t\t\t\tstringA += arr[i] ;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tstringA += arr[i] + '&';\n\t\t\t\t\t}\n\t\t\t\t\t\t\t\t  \n\t\t\t\t} \n\t\t\t\tlet stringSignTemp = stringA + '&key='  + this.key;\n\t\t\t\t  \n\t\t\t\t\n\t\t\t\tconsole.log(stringSignTemp)\n\t\t\t\t// 小写\n\t\t\t\tlet sign = MD5.hexMD5(stringSignTemp);\n\t\t\t\tconsole.log(sign)\n\t\t\t\t\n\t\t\t\tconst datt = {\n\t\t\t\t\t\t\t// 合作方标识\n\t\t\t\t\t\t\t  // appId:'appId=' + 'EW_N3213842400',\n\t\t\t\t\t\t\t  appId: 'appId=' + this.appid,\n\t\t\t\t\t\t\t//  签名\n\t\t\t\t\t\t\t   sign:'sign=' + sign,\n\t\t\t\t\t\t\t// 随机数\n\t\t\t\t\t\t\t   random:'random=' + this.nums,\n\t\t\t\t\t\t\t// 门店编号   \n\t\t\t\t\t\t\t   // merchantCode:'merchantCode=' + 'EW_N5247492162',\n\t\t\t\t\t\t\t   merchantCode:'merchantCode=' + this.merchantCode,\n\t\t\t\t\t\t\t// 商户订单号\n\t\t\t\t\t\t\t   outTradeNo:'outTradeNo=' + this.outTradeNo,\n\t\t\t\t\t\t\t// 订单总金额\n\t\t\t\t\t\t\t   totalAmount:'totalAmount=' + this.totalAmount,\n\t\t\t\t\t\t\t// 支付渠道  活的\n\t\t\t\t\t\t\t   channel:'channel=' + 'WXPAY',\n\t\t\t\t\t\t\t// 支付交易类型\n\t\t\t\t\t\t\t   tradeType:'tradeType=' + 'MINIAPP',\n\t\t\t\t\t\t\t// 消费者用户标识\n\t\t\t\t\t\t\t   openId:'openId=' + this.openid,\n\t\t\t\t\t\t\t// 小程序appid\n\t\t\t\t\t\t\t   subAppId:'subAppId=' + 'wx9c53a99b078435f5',\n\t\t\t\t\t\t\t   notifyUrl:'notifyUrl=' + this.notifyUrl\n\t\t\t\t}\n\t\t\t\tconsole.log(datt)\n\t\t\t\t\t let arrr =[];\n\t\t\t\t\t \n\t\t\t\t\t for(let i in datt){\n\t\t\t\t\t \t\tarrr.push(datt[i])\n\t\t\t\t\t \t}\n\t\t\t\t\t \t\n\t\t\t\t\t     arrr.sort();\n\t\t\t\t\t \n\t\t\t\t\t let string = '';\n\t\t\t\t\t \n\t\t\t\t\t // 拼接字符串\n\t\t\t\t\t  for(let i in arrr){ \n\t\t\t\t\t \t if(i == arrr.length-1){\n\t\t\t\t\t \t\tstring += arrr[i] ;\n\t\t\t\t\t \t}else{\n\t\t\t\t\t \t\tstring += arrr[i] + '&';\n\t\t\t\t\t \t}\n\t\t\t\t\t \t\t\t\t  \n\t\t\t\t\t }\n\t\t\t\t\t console.log('字符串',string)\n\t\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\t    url: 'https://api.liantuofu.com/open/precreate' , \n\t\t\t\t\t\t\t    data:string,\n\t\t\t\t\t\t\t    header: {\n\t\t\t\t\t\t\t        'content-type' : \"application/x-www-form-urlencoded\" //自定义请求头信息\n\t\t\t\t\t\t\t    }, \n\t\t\t\t\t\t\t\tmethod:'POST',    \n\t\t\t\t\t\t\t\t// 成功回调\n\t\t\t\t\t\t\t    success: (res) => {\n\t\t\t\t\t\t\t\t\tconsole.log(res.data)\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\twx.requestPayment({\n\t\t\t\t\t\t\t\t\t  timeStamp: res.data.timeStamp,\n\t\t\t\t\t\t\t\t\t  nonceStr: res.data.nonceStr,\n\t\t\t\t\t\t\t\t\t  package: res.data.payPackage,\n\t\t\t\t\t\t\t\t\t  signType: res.data.signType,\n\t\t\t\t\t\t\t\t\t  paySign: res.data.paySign,\n\t\t\t\t\t\t\t\t\t  success (res) {\n\t\t\t\t\t\t\t\t\t\t  that.login();\n\t\t\t\t\t\t\t\t\t   // 一级页面用switchTab   二级页面用redirectTo\n\t\t\t\t\t\t\t\t\t       wx.showModal({\n\t\t\t\t\t\t\t\t\t\t\t   title:'微信支付',\n\t\t\t\t\t\t\t\t\t\t\t   content:'支付成功',\n\t\t\t\t\t\t\t\t\t\t\t   cancelText:'个人中心',\n\t\t\t\t\t\t\t\t\t\t\t   confirmText:'再次充值',\n\t\t\t\t\t\t\t\t\t\t\t   success(res){\n\t\t\t\t\t\t\t\t\t\t\t\t   if(res.confirm){\n\t\t\t\t\t\t\t\t\t\t\t\t\t   console.log('再次充值')\n\t\t\t\t\t\t\t\t\t\t\t\t   }else if(res.cancel){\n\t\t\t\t\t\t\t\t\t\t\t\t\t   console.log('个人中心')\n\t\t\t\t\t\t\t\t\t\t\t\t\t   uni.switchTab({\n\t\t\t\t\t\t\t\t\t\t\t\t\t   \turl:'../personal/personal'\n\t\t\t\t\t\t\t\t\t\t\t\t\t   })\n\t\t\t\t\t\t\t\t\t\t\t\t   }\n\t\t\t\t\t\t\t\t\t\t\t\t   \n\t\t\t\t\t\t\t\t\t\t\t   }\n\t\t\t\t\t\t\t\t\t\t   })\t  \n\t\t\t\t\t\t\t\t\t  },\n\t\t\t\t\t\t\t\t\t  fail (res) {\n\t\t\t\t\t\t\t\t\t\t  console.log(res)\n\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t    },\n\t\t\t\t\t\t\t})\n\t\t\t},\n\t\t\t // 基本信息\n\t\t\t login:function (){\n\t\t\t \t\n\t\t\t \tvar rawdata = this.Data;\n\t\t\t \t// openid\n\t\t\t \tvar openid = uni.getStorageSync('openid');\n\t\t\t \t\t\n\t\t\t \t\t   //登录 \n\t\t\t \t\t\tvar data = '{\"wx_openid\":\"'+openid+'\"}';\n\t\t\t \t\t\tvar action = 'member_login';\n\t\t\t \t\t\t this.$utils.post(action,data).then(res=>{\n\t\t\t \t\t\t\t console.log('基本信息',res.rs)\n\t\t\t \n\t\t\t \t\t\t\t  // 余额\n\t\t\t \t\t\t\t  if(res.rs.balance==null||res.rs.balance==''){}else{\n\t\t\t\t\t\t\t\t  this.balanc = res.rs.balance;\n\t\t\t \t\t\t\t  }\t\t\t \t\t\t\t\t\n\t\t\t \t\t\t })\t\t\t \t\t\n\t\t\t },\n\t\t\t \n\t\t}\n\t}\n</script>\n\n<style>\npage{\n\tbackground-color: #F4F5F7;\n}\n.right{\n\tmargin-right: 0;\n}\n</style>\n","import mod from \"-!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./balance.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./balance.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1628904718001\n      var cssReload = require(\"D:/软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}