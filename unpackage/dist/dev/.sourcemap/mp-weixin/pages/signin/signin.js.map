{"version":3,"sources":["uni-app:///main.js","webpack:////Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/signin/signin.vue?643b","webpack:////Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/signin/signin.vue?b808","webpack:////Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/signin/signin.vue?255f","webpack:////Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/signin/signin.vue?42bf","uni-app:///pages/signin/signin.vue","webpack:////Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/signin/signin.vue?e260"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBACA,sBACA,4C,mDACAA,EAAWC,a;;;;2DCHX,2QACIC,EADJ,qMASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,0BACZ,aAAAF,E;;;;2GCvBf,2yC;;;;2GCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DCRvB,24BAAo1B,eAAG,G;;;;0ICmBv1B,kC,yDACA,CACA,KADA,WAEA,OACA,QACA,WACA,iBACA,kBACA,aACA,cACA,eAIA,mBAGA,cAEA,wCASA,GARA,iBAGA,YACA,uBACA,sCAGA,SACA,2BACA,+BACA,GACA,gBAKA,SACA,WADA,SACA,GACA,cACA,sBAGA,YANA,SAMA,GACA,gCAEA,gBATA,SASA,GAIA,mBACA,uCASA,eACA,YACA,cAGA,aAIA,YAhCA,WAgCA,WACA,kBACA,cACA,oBACA,wBAIA,eAxCA,SAwCA,GACA,WACA,sBACA,gBACA,eACA,OAEA,YACA,6BACA,eACA,YACA,cAEA,eAGA,aACA,8BACA,eAKA,IA/DA,SA+DA,GACA,WAEA,YAEA,6BACA,8BAIA,IACA,EADA,8HAKA,EAFA,mBAEA,gBACA,YACA,iCACA,OACA,aACA,uBAKA,gBACA,YACA,OACA,aACA,uBAMA,wBACA,wCAEA,+CAEA,8BACA,iBACA,qCAGA,8BAEA,+BAEA,mCAEA,uCAEA,iCAEA,2CAEA,+CACA,qCAEA,yCAEA,+CAEA,qCAEA,kDACA,qDAIA,gBACA,4BACA,WAEA,wBAyCA,aACA,aACA,2CACA,oBACA,UACA,sBACA,UACA,4BAQA,qCACA,kCACA,wBACA,sBACA,SACA,cAOA,6BACA,6BAGA,GAKA,SACA,oBACA,iCACA,eAEA,qCAEA,2CAQA,gBAtOA,SAsOA,GACA,eAEA,0BACA,mBAEA,uBAEA,eAIA,eAlPA,SAkPA,GACA,WACA,6BAGA,MAEA,sBACA,sCACA,YACA,iBAEA,4BACA,WACA,6CACA,6CACA,gBAKA,OAvQA,WAwQA,aAEA,aACA,aACA,eACA,YACA,oBACA,wBACA,YACA,2EAEA,SAIA,aACA,aACA,eACA,YACA,oBACA,wBACA,YACA,yBAEA,Y;;;;2DCxVA,wvCAAisC,eAAG,G","file":"pages/signin/signin.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/signin/signin.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./signin.vue?vue&type=template&id=23701386&\"\nvar renderjs\nimport script from \"./signin.vue?vue&type=script&lang=js&\"\nexport * from \"./signin.vue?vue&type=script&lang=js&\"\nimport style0 from \"./signin.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/signin/signin.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./signin.vue?vue&type=template&id=23701386&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./signin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./signin.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<view class=\"new-sign\"><image class=\"new-sign-img\" src=\"https://zhijianlw.com/static/web/img/Embellishment_2021_08_28.jpg\" mode=\"\"></image></view>\n\t\t<!-- <view class=\"sign-alt\">指间礼物</view> -->\n\t\t<!-- <button  open-type=\"getUserInfo\" @getuserinfo=\"bindGetUserInfo\" class=\"new-wxsign margin-auto\" style=\"margin-top: 80rpx;\">微信一键登录</button> -->\n\t\t<button  v-if='AuthStatus' @click=\"toLoginLink\" :disabled=\"!isChecked\" class=\"new-wxsign margin-auto\" style=\"margin-top: 80rpx;\">微信授权登录</button>\n\t\t<button  v-else class=\"new-wxsign margin-auto\" style=\"margin-top: 80rpx;\" open-type=\"getPhoneNumber\"\n\t\t            @getphonenumber=\"bindPhoneNumber\">微信授权手机号</button>\n\n\t\t<view class=\"sign-view\">\n\t\t\t<checkbox color=\"#FF0022\"class=\"flex\" style=\"transform:scale(0.5)\"\n\t\t\t@click=\"selectClick\" :checked=\"isChecked\"></checkbox>\n\t\t\t<text class=\"sign-text\">未注册的微信号将自动注册指间礼物账号，且表示已经同意</text>\n\t\t\t<text class=\"sign-text\" style=\"color: #E02020;\" @click=\"signintext\">注册协议</text>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\timport sr from 'sr-sdk-wxapp';\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tData:'',\n\t\t\t\treceive:'',\n\t\t\t\tparent_member:'',\n\t\t\t\tcardbag_number:'',\n\t\t\t\tisChecked: true,\n\t\t\t\tAuthStatus: true, // true: 用户信息 false : 手机号\n\t\t\t\ttelstring: ''\n\t\t\t}\n\t\t}, \n\t\t\n\t\tonLoad:function(e){\n\t\t\t// console.log('扫码进来的',e)\n\t\t\t\n\t\t    this.openid();\n\t\t\t\n\t\t\tlet telstring = uni.getStorageInfoSync('telstring');\n\t\t\tthis.telstring = telstring;\n\t\t  \n\t\t  // 登录领取红包\n\t\t if(e.receive){\n\t\t\t this.receive = e.receive;\n\t\t\t this.cardbag_number = e.cardbag_number;\n\t\t }\n\t\t // 是否扫码\n\t\t if(e.scene){\n\t\t\t this.parent_member = e.scene;\n\t\t\t var sign = uni.getStorageSync('sign')\n\t\t\t if(sign){\n\t\t\t\tthis.getRou();\n\t\t\t }\n\t\t }\n\t\t},\n\t\t\n\t\tmethods: {\n\t\t\tsignintext(e){\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl:'./signintext'\n\t\t\t\t})\n\t\t\t},\n\t\t\tselectClick(e){\n\t\t\t\tthis.isChecked = !this.isChecked;\n\t\t\t},\n\t\t\tbindGetUserInfo(e){\n\t\t\t\t// 用户信息\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tif(e.detail.rawData){\n\t\t\t\t   this.Data = JSON.parse(e.detail.rawData);\n\t\t\t\t   // if(id){\n\t\t\t\t   // \t// console.log('存在')\n\t\t\t\t   // \tuni.reLaunch({\n\t\t\t\t   // \t\turl:'../personal/personal'\n\t\t\t\t   // \t })\n\t\t\t\t   \t \n\t\t\t\t   // }else{\n\t\t\t\t   \t// console.log('登录')\n\t\t\t\t   \tuni.showLoading({\n\t\t\t\t   \t\ttitle:'登录中',\n\t\t\t\t   \t\tmask:'true'\n\t\t\t\t   \t})\n\t\t\t\t   \t \n\t\t\t\t   \tthis.zhu();\n\t\t\t\t   // }\t\n\t\t\t\t}\n\t\t\t},\n\t\t\ttoLoginLink() {\n\t\t\t    uni.getUserProfile({\n\t\t\t        desc: '用于完善资料',\n\t\t\t        success: (res) => {\n\t\t\t            this.uniGetUserInfo(res);\n\t\t\t        }\n\t\t\t    });\n\t\t\t},\n\t\t\tuniGetUserInfo(e){\n\t\t\t\tlet that = this;\n\t\t\t\t            const OK = \"getUserProfile:ok\"\n\t\t\t\t            if (e.errMsg == OK) {\n\t\t\t\t                if (!e.userInfo) {\n\t\t\t\t                    return;\n\t\t\t\t                }\n\t\t\t\t                if(e.rawData){\n\t\t\t\t                   that.Data = JSON.parse(e.rawData);\n\t\t\t\t                   \tuni.showLoading({\n\t\t\t\t                   \t\ttitle:'登录中',\n\t\t\t\t                   \t\tmask:'true'\n\t\t\t\t                   \t})\n\t\t\t\t                   \tthat.zhu(e);\n\t\t\t\t                }\n\t\t\t\t            } else {\n\t\t\t\t                uni.showToast({\n\t\t\t\t                    title: '温馨提示:为了您更好的体验,请授权用户信息',\n\t\t\t\t                    icon: 'none',\n\t\t\t\t                })\n\t\t\t\t            }\n\t\t\t},\n\t\t\n\t\t\tzhu(e){\n\t\t\t\tlet that = this;\n\t\t\t\t// 基本信息\n\t\t\t\tvar rawdata = this.Data; \n\t\t\t\t// openid\n\t\t\t\tvar openid = uni.getStorageSync('openid');\n\t\t\t    uni.setStorageSync('rawdata',rawdata)\n\t\t\t\t// 推荐人id parent_member  \n\t\t\t\t// 手机号  Phone\n\n\t\t\t\tlet nickName = rawdata.nickName.replace(/(\\u00a9|\\u00ae|[\\u2000-\\u3300]|\\ud83c[\\ud000-\\udfff]|\\ud83d[\\ud000-\\udfff]|\\ud83e[\\ud000-\\udfff])/g, \"\");\n\t\t\t\tlet data;\n\n\t\t\t\tif(this.parent_member){\n\t\t\t\t\t// console.log('扫码')\n\t\t\t\t\tdata = JSON.stringify({\n\t\t\t\t\t\twx_openid: openid,\n\t\t\t\t\t\tparent_member: this.parent_member,\n\t\t\t\t\t\tname: nickName,\n\t\t\t\t\t\tsex: rawdata.gender,\n\t\t\t\t\t\thead_img: rawdata.avatarUrl\n\t\t\t\t\t});\n\t\t\t\t\t// var data ='{\"wx_openid\":\"'+openid+'\",\"parent_member\":\"'+this.parent_member+'\",\"name\":\"'+nickName+'\",\"sex\":\"'+rawdata.gender+'\",\"head_img\":\"'+rawdata.avatarUrl+'\"}';\n\t\t\t\t}else{\n\t\t\t\t\t// console.log('没有扫码')\n\t\t\t\t\tdata = JSON.stringify({\n\t\t\t\t\t\twx_openid: openid,\n\t\t\t\t\t\tname: nickName,\n\t\t\t\t\t\tsex: rawdata.gender,\n\t\t\t\t\t\thead_img: rawdata.avatarUrl\n\t\t\t\t\t});\n\t\t\t\t  // var data ='{\"wx_openid\":\"'+openid+'\",\"name\":\"'+nickName+'\",\"sex\":\"'+rawdata.gender+'\",\"head_img\":\"'+rawdata.avatarUrl+'\"}';\n\t\t\t\t}\n\t\t\t\t// console.log(data)\n\t\t\t\t // 注册接口\n\t\t\t\t var action = 'member_register';\n\t\t\t\t  this.$utils.post(action,data).then(res=>{  \n\t\t\t\t\t// console.log('注册',res)\n\t\t\t\t\tif( res.msg === \"操作成功！\"  || res.msg=== '该用户已经注册,请勿重复注册！'){\n\t\t\t\t\t   //登录   \n\t\t\t\t\t\tvar data = '{\"wx_openid\":\"'+openid+'\"}';\n\t\t\t\t\t\tvar action = 'member_login';\n\t\t\t\t\t\t that.$utils.post(action,data).then(res=>{\n\t\t\t\t\t\t\t // console.log('基本信息',res.rs)\n\t\t\t\t\t\t\t // 全部\n\t\t\t\t\t\t\t uni.setStorageSync('sign',res.rs)\n\t\t\t\t\t\t\t // 会员id\n\t\t\t\t\t\t\t   uni.setStorageSync('id',res.rs.id)\n\t\t\t\t\t\t\t // 会员昵称\n\t\t\t\t\t\t\t   uni.setStorageSync('name',res.rs.name)\n\t\t\t\t\t\t\t // 会员唯一标识\n\t\t\t\t\t\t\t   uni.setStorageSync('keynum',res.rs.keynum)\n\t\t\t\t\t\t\t // 会员性别\n\t\t\t\t\t\t\t   uni.setStorageSync('sex',res.rs.sex)\n\t\t\t\t\t\t\t // 会员头像\n\t\t\t\t\t\t\t   uni.setStorageSync('head_img',res.rs.head_img)\n\t\t\t\t\t\t\t // 会员级别\n\t\t\t\t\t\t\t   uni.setStorageSync('level_name',res.rs.level_name)\n\t\t\t\t\t\t\t   uni.setStorageSync('level',res.rs.level)\n\t\t\t\t\t\t\t // 会员余额\n\t\t\t\t\t\t\t   uni.setStorageSync('balance',res.rs.balance)\n\t\t\t\t\t\t\t // 会员指尖币余额\n\t\t\t\t\t\t\t   uni.setStorageSync('zj_balance',res.rs.zj_balance)\n\t\t\t\t\t\t\t // 会员手机号\n\t\t\t\t\t\t\t  uni.setStorageSync('phone',res.rs.phone)\n\t\t\t\t\t\t\t // 折扣\n\t\t\t\t\t\t\t if(res.rs.discount_name==null||res.rs.discount_name==''){}else{\n\t\t\t\t\t\t\t \tuni.setStorageSync('discount_name',res.rs.discount_name)  \n\t\t\t\t\t\t\t }\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\tif(that.telstring == 'phone_number'){\n\t\t\t\t\t\t\t\tthat.getRou();\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tthat.AuthStatus = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t //  if(that.receive){\n\t\t\t\t\t\t\t\t//   uni.hideLoading();\n\t\t\t\t\t\t\t\t//   uni.showToast({\n\t\t\t\t\t\t\t\t//    \ttitle:'登录成功',  \n\t\t\t\t\t\t\t\t//    \ticon:\"success\",\n\t\t\t\t\t\t\t\t//    \tmask:'true', \n\t\t\t\t\t\t\t\t//    \tsuccess: (res) => {\n\t\t\t\t\t\t\t\t//    \t\tsetTimeout(function(e){\n\t\t\t\t\t\t\t\t//    \t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t//    \t\t\t\turl:'../redEnvelopes/redEnvelopes?cardbag_number=' + that.cardbag_number\n\t\t\t\t\t\t\t\t//    \t\t\t})\n\t\t\t\t\t\t\t\t//    \t\t}\n\t\t\t\t\t\t\t\t//    \t\t,1500) \n\t\t\t\t\t\t\t\t//    \t}\n\t\t\t\t\t\t\t\t//   })  \n\t\t\t\t\t\t\t //  }else{\n\t\t\t\t\t\t\t\t//  uni.hideLoading();\n\t\t\t\t\t\t\t\t//  // that.getMemberPhone(e);\n\t\t\t\t\t\t\t\t// // 登录跳转\n\t\t\t\t\t\t\t //     uni.showToast({\n\t\t\t\t\t\t\t //     \ttitle:'登录成功',\n\t\t\t\t\t\t\t //     \ticon:\"success\",\n\t\t\t\t\t\t\t //     \tmask:'true',\n\t\t\t\t\t\t\t //     \tsuccess: (res) => {\n\t\t\t\t\t\t\t //     \t\tsetTimeout(function(e){\n\t\t\t\t\t\t\t //     \t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t //     \t\t\t\t// url:'../personal/personal' \n\t\t\t\t\t\t\t\t// \t\t\t\turl:'../index/index'\n\t\t\t\t\t\t\t //     \t\t\t})\n\t\t\t\t\t\t\t //     \t\t}\n\t\t\t\t\t\t\t //     \t\t,1500) \n\t\t\t\t\t\t\t //     \t}\n\t\t\t\t\t\t\t //    })  \n\t\t\t\t\t\t\t //  }\n\t\t\t\t\t\t\t  \n\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t })\n\t\t\t\t\t}else{\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: '注册失败',\n\t\t\t\t\t\t\tcontent: '可能由于微信昵称包含特殊符号原因导致注册失败，建议修改昵称后重试',\n\t\t\t\t\t\t\tsuccess: function (res) {\n\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\tconsole.log('用户点击确定');\n\t\t\t\t\t\t\t\t} else if (res.cancel) {\n\t\t\t\t\t\t\t\t\tconsole.log('用户点击取消');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\t\t\t\n\t\t\t\t  })\n\t\t\t\t    \n\t\t\t\t// 腾讯有数\n\t\t\t\tsr.track('register_wxapp',{})\n\t\t\t\tsr.track('login_wxapp',{})\n\t\t\t\tsr.startReport();\n\t\t\t\tsr.setContext({\n\t\t\t\t    wx_user: { // 首次添加\n\t\t\t\t        open_id: openid\n\t\t\t\t    }\n\t\t\t\t})\n\t\t\t},\n\n\t\t\t\n\t\t\t// 获取openid\n\t\t\topenid:function(){\n\t\t\t\tvar openid = uni.getStorageSync('openid');\n\t\t\t\t\t\t\n\t\t\t\t// 判断是否获取\n\t\t\t\tif(openid){\n\t\t\t\t\t// console.log('已获取openid')\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t  // 获取openid\n\t\t\t\t  uni.login({\n\t\t\t\t  \tsuccess: (res) => {\n\t\t\t\t  \t    var data = '{\"wx_code\":\"'+res.code+'\"}';\n\t\t\t\t  \t\tvar action = 'get_openid';\n\t\t\t\t  \n\t\t\t\t  \t\t  this.$utils.post(action,data).then(res=>{\n\t\t\t\t  \t\t\t// console.log('openid',res)\n\t\t\t\t  \t\t\tuni.setStorageSync('openid',res.openid);\n\t\t\t\t  \t\t  })\n\t\t\t\t  \t\n\t\t\t\t  \t\t} \n\t\t\t\t  }) \t\n\t\t\t\t} \n\t\t\t},\n\t\t\t// 授权手机号\n\t\t\t    bindPhoneNumber(e) {\n\t\t\t\t\tconsole.log(e)\n\t\t\t        // 用户同意授权\n\t\t\t        const OK = 'getPhoneNumber:ok'\n\t\t\t        if (e.detail.errMsg == OK) {\n\t\t\t            // 判断 session_key 有无到期\n\t\t\t            this.getMemberPhone(e)\n\t\t\t        } else {\n\t\t\t\t\t\tthis.getRou();\n\t\t\t\t\t}\n\t\t\t    },\n\t\t\t// 获取\n\t\t\tgetMemberPhone(e){\n\t\t\t\tlet that = this;\n\t\t\t\tvar openid = uni.getStorageSync('openid');\n\t\t\t\t\t\t\n\t\t\t\t// 判断是否获取\n\t\t\t\tif(openid){\n\t\t\t\t\t\n\t\t\t\t\t\t\tvar data = JSON.stringify({\n\t\t\t\t\t\t\t\tencrypted_data: e.detail.encryptedData,\n\t\t\t\t\t\t\t\twx_openid: openid,\n\t\t\t\t\t\t\t\tiv: e.detail.iv\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tvar action = 'get_member_phone_number';\n\t\t\t\t\t\t\tvar controller = 'member';\n\t\t\t\t\t\t\tthis.$utils.postNew(action,data,controller).then(res=>{\n\t\t\t\t\t\t\t\tuni.setStorageSync('telstring','phone_number');\n\t\t\t\t\t\t\t\tthat.getRou();\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\n\t\t\t\t} \n\t\t\t},\n\t\t\tgetRou(){\n\t\t\t\tif(this.receive){\n\t\t\t\t\t\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle:'登录成功',  \n\t\t\t\t\t\ticon:\"success\",\n\t\t\t\t\t\tmask:'true', \n\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\tsetTimeout(function(e){\n\t\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t\turl:'../redEnvelopes/redEnvelopes?cardbag_number=' + this.cardbag_number\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t},1500) \n\t\t\t\t\t\t}\n\t\t\t\t\t})  \n\t\t\t\t}else{\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle:'登录成功',\n\t\t\t\t\t\ticon:\"success\",\n\t\t\t\t\t\tmask:'true',\n\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\tsetTimeout(function(e){\n\t\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t\turl:'../index/index'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t},1500) \n\t\t\t\t\t\t}\n\t\t\t\t\t})  \n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n@import '@/common/index.css';\npage{\n\tbackground-color: #FFFFFF;\n}\n.new-sign{\n\twidth: 100%;\n\theight: 370rpx;\n}\n.new-sign-img{\n\twidth: 100%;\n\theight: 100%;\n}\n\n.new-wxsign {\n\twidth: 608rpx;\n\theight: 80rpx;\n\tbackground: #52A91C;\n\tborder-radius: 40rpx;\n\tfont-size: 34rpx;\n\tcolor: #FFFFFF;\n    text-align: center;\n}\n.sign-view{\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-top: 36rpx;\n\tjustify-content: center;\n}\n.sign-text{\n\tfont-size: 20rpx;\n\tcolor: #AAAAAA;\n}\n\n</style>\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./signin.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./signin.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}