{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/HI BOY/Desktop/zhijianliwu20210716/pages/shopping/receive.vue?5377","webpack:///C:/Users/HI BOY/Desktop/zhijianliwu20210716/pages/shopping/receive.vue?4b6b","webpack:///C:/Users/HI BOY/Desktop/zhijianliwu20210716/pages/shopping/receive.vue?7b05","webpack:///C:/Users/HI BOY/Desktop/zhijianliwu20210716/pages/shopping/receive.vue?cfae","uni-app:///pages/shopping/receive.vue","webpack:///C:/Users/HI BOY/Desktop/zhijianliwu20210716/pages/shopping/receive.vue?b37e","webpack:///C:/Users/HI BOY/Desktop/zhijianliwu20210716/pages/shopping/receive.vue?0bce"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,oG;AACAA,UAAU,CAACC,gBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;AACa;;;AAGnE;AACyK;AACzK,gBAAgB,+KAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACzDA;AAAA;AAAA;AAAA;AAAqnB,CAAgB,2nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACwEzoB,4F;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,+CACA,sDACA,0CAEA,kC,eACA,EACA,IADA,kBACA,CACA,SACA,SADA,EAEA,iBAFA,EAGA,aAHA,EAIA,QAJA,EAKA,KALA,EAMA;AACA,mBAPA,EAQA;AACA,oBATA,EAUA;AACA,mBAXA,EAYA;AACA,kBAbA,EAcA;AACA,eAfA,EAgBA;AACA,eAjBA,EAkBA,aAlBA,EAmBA,aAnBA,EAoBA,WApBA,EAqBA,4BArBA,EAsBA,yBAtBA,GAwBA,CA1BA,EA2BA,6CACA,+BACA,gBACA,wCACA,uCACA,wDACA,mCANA,CAOA;AACA,2BACA,uCACA,sCACA,CAHA,MAGA,CACA,8BACA,6BACA,CAGA,iFACA,kCACA,oDACA,yBACA,8CACA,8CACA,8CACA,oCACA,sEACA,gEACA,4BACA,yCADA,CAEA;AACA,+CAHA,CAIA;AACA,OACA,0CACA,iBACA,CAFA,MAEA,0CACA,iBACA,CAFA,MAEA,CACA,iBACA,CACA,yFACA,qCACA,oDACA,4BADA,CAEA;AACA;AACA,0BACA;AACA,iCACA,oBACA;AACA;AACA,mCADA,GACA,GADA,GACA,kBADA;AAEA,4BAHA;;AAKA,WAPA,MAOA;AACA;AACA;AACA,SAZA,MAYA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,4BADA,GACA,qBADA,GACA;AACA,+BAFA,GAEA,WAFA,GAEA,cAFA;AAGA,0BAHA,GAGA,oCAHA;AAIA,iCAJA,GAIA,2BAJA;AAKA,uCALA,GAKA;AACA,mCAPA;;AASA,WAbA,MAaA;;AAEA,WAFA,MAEA;AACA;AACA,2BADA;AAEA,0BAFA;;AAIA;;AAEA,SAzBA,MAyBA;AACA;AACA;;AAEA,OA7CA;;AA+CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAnFA;;AAqFA;AACA;AACA;AACA;AACA,uCADA;AAEA,OAJA;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA,KAJA,MAIA;AACA;AACA;AACA;AACA,GArJA;AAsJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,aADA;AAEA;AACA;;AAEA;;AAEA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WATA;;;AAYA,SAjCA;AAkCA,OAtCA;;;AAyCA,KAzDA;;AA2DA;AACA;AACA;AACA;AACA,KA/DA;;AAiEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA,KA1EA;AA2EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KArFA;;AAuFA;AACA;AACA;AACA;AACA,uBADA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,6BADA;AAEA,4BAFA;AAGA,0BAHA;;AAKA;AACA;AACA,wEADA;AAEA,uBAFA,mBAEA,GAFA,EAEA;AACA;;AAEA;;AAEA,iBAPA;AAQA,oBARA,gBAQA,GARA,EAQA;AACA;AACA;AACA,qCADA;AAEA,gCAFA;AAGA,8BAHA;;AAKA,iBAfA;;;;AAmBA;AACA;AA7BA,iBA8BA;AACA;AACA;;AAEA;AACA;AACA;AACA,sCADA,GACA,qBADA,GACA;AACA,qCAFA,GAEA,YAFA,GAEA,aAFA;AAGA,uCAHA,GAGA,oBAHA;AAIA,6CAJA,GAIA,SAJA;AAKA,0CALA,GAKA,mBANA;;AAQA;AACA,iBAVA,EAUA,GAVA;;;AAaA;AACA;AACA;AACA,iBAHA,EAGA,IAHA;AAIA,eArBA,MAqBA;AACA;AACA;;AAEA;AACA;AACA;AACA,sCADA,GACA,qBADA,GACA;AACA,qCAFA,GAEA,YAFA,GAEA,aAFA;AAGA,uCAHA,GAGA,oBAHA;AAIA,6CAJA,GAIA,SAJA;AAKA,0CALA,GAKA,mBANA;;AAQA;AACA,iBAVA,EAUA,GAVA;;AAYA;AACA;AACA;AACA,iBAHA,EAGA,IAHA;;;AAMA;AACA,WAhFA,MAgFA;AACA;AACA;AACA,4BADA;AAEA,0BAFA;;AAIA;AACA,SAzFA;AA0FA,OAlGA,MAkGA;;AAEA;AACA,uBADA;AAEA,sBAFA;AAGA,sBAHA;AAIA;AACA;AACA;AACA;AACA,kCADA,GACA,mBAFA;;AAIA,aALA,EAKA,IALA;AAMA,WAXA;;AAaA;;AAEA,KA5MA,EAtJA,E;;;;;;;;;;;;;AC9EA;AAAA;AAAA;AAAA;AAA+4B,CAAgB,o3BAAG,EAAC,C;;;;;;;;;;;ACAn6B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/shopping/receive.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/shopping/receive.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./receive.vue?vue&type=template&id=4d449096&\"\nvar renderjs\nimport script from \"./receive.vue?vue&type=script&lang=js&\"\nexport * from \"./receive.vue?vue&type=script&lang=js&\"\nimport style0 from \"./receive.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/shopping/receive.vue\"\nexport default component.exports","export * from \"-!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./receive.vue?vue&type=template&id=4d449096&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.gift === \"0\" ? _vm.$utils.imageUrl(_vm.head_img) : null\n  var g1 =\n    _vm.gift === \"0\"\n      ? _vm.$utils.osspath_url(\"/xcx-static/wishes/bot.png\")\n      : null\n  var g2 =\n    _vm.gift === \"0\"\n      ? _vm.$utils.osspath_url(\"/xcx-static/wishes/per_img.png\")\n      : null\n  var g3 =\n    _vm.gift === \"1\"\n      ? _vm.$utils.osspath_url(\"/xcx-static/wishes/mb_recording.png\")\n      : null\n  var g4 =\n    _vm.gift === \"1\"\n      ? _vm.$utils.osspath_url(\"/xcx-static/wishes/cd.png\")\n      : null\n  var g5 =\n    _vm.gift === \"1\"\n      ? _vm.$utils.osspath_url(\"/xcx-static/wishes/piay_icon1.png\")\n      : null\n  var g6 =\n    _vm.gift === \"1\"\n      ? _vm.$utils.osspath_url(\"/xcx-static/wishes/piay_icon.png\")\n      : null\n  var g7 =\n    _vm.gift === \"1\"\n      ? _vm.$utils.osspath_url(\"/xcx-static/wishes/on.png\")\n      : null\n  var g8 =\n    _vm.gift === \"2\"\n      ? _vm.$utils.osspath_url(\"/xcx-static/wishes/mb_movie.png\")\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        g2: g2,\n        g3: g3,\n        g4: g4,\n        g5: g5,\n        g6: g6,\n        g7: g7,\n        g8: g8\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./receive.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./receive.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"\">\r\n\t\t<!-- 文字祝福 -->\r\n\t\t<view class=\"receive\" v-if=\"gift==='0'\">\r\n\t\t\t<view class=\"receive-yello\">\r\n\t\t\t\t<image class=\"receive-head\" :src=\"$utils.imageUrl(head_img)\" mode=\"\"></image>\r\n\t\t\t\t<text class=\"receive-cat\">{{name}}</text>\r\n\t\t\t\t<view class=\"zhufu\">\r\n\t\t\t\t\t<text class=\"receive-one\">{{zhufu_msg}}</text>\r\n\t\t\t\t\t<text class=\"receive-two\">{{send_talk_msg}}</text>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<image class=\"receive-bot\" :src=\"$utils.osspath_url('/xcx-static/wishes/bot.png')\" mode=\"\"></image>\r\n\t\t\t\t<image class=\"receive-bar\" :src=\"$utils.osspath_url('/xcx-static/wishes/per_img.png')\" mode=\"\"></image>\r\n\t\t\t\t<view class=\"money\">\r\n\t\t\t\t\t<text class=\"chai1\" @click=\"open\">拆</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 语音 -->\r\n\t\t<view class=\"sound-border\" v-if=\"gift==='1'\">\r\n\t\t\t<image class=\"sound-bg\" :src=\"$utils.osspath_url('/xcx-static/wishes/mb_recording.png')\" mode=\"\"></image>\r\n\t\t\t<image class=\"sound-head\" :src=\"present_memberid_headimg\" mode=\"\"></image>\r\n\t\t\t<text class=\"sound-name\">{{present_memberid_name}}</text>\r\n\t\t\t<image class=\"sound-cd\" :src=\"$utils.osspath_url('/xcx-static/wishes/cd.png')\" mode=\"\"></image>\r\n             \r\n\t\t\t <image class=\"sound-san\" @click=\"audioPlay\" v-show=\"!radio\"\r\n\t\t\t \t:src=\"$utils.osspath_url('/xcx-static/wishes/piay_icon1.png')\" mode=\"\"></image>\r\n\t\t\t <image class=\"sound-san\" @click=\"audioPlay\" v-show=\"radio\"\r\n\t\t\t \t:src=\"$utils.osspath_url('/xcx-static/wishes/piay_icon.png')\" mode=\"\"></image>\r\n\t\t\t\r\n\t\t\t<image class=\"sound-on\" @click=\"audioPlay\" :class=\"stop==0?'sound-on':'rotate'\" :src=\"$utils.osspath_url('/xcx-static/wishes/on.png')\" mode=\"\"></image>\r\n\r\n\r\n\t\t\t<view class=\"slider\" @click=\"audioPlay\">\r\n\t\t\t\t<movable-area class=\"progress\" :style=\"'width:'+w+'px'\">\r\n\t\t\t\t\t<!-- 按钮 -->\r\n\t\t\t\t\t<movable-view direction=\"horizontal\" damping=\"1000\" @change=\"scroll\" @touchstart=\"star\"\r\n\t\t\t\t\t\t@touchend=\"to\" class=\"progress-one\" :x=\"movable_x\">\r\n\t\t\t\t\t\t<view class=\"progress-view\">\r\n\t\t\t\t\t\t\t<view class=\"progress-circular\"></view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</movable-view>\r\n\t\t\t\t</movable-area>\r\n\t\t\t\t<!-- 进度条 -->\r\n\t\t\t\t<progress :percent=\"schedule\" class=\"b\" data-index=\"index\" activeColor='#D8D8D8'\r\n\t\t\t\t\tbackgroundColor='#767676' border-radius=\"10\" stroke-width=\"8\" />\r\n\t\t\t</view>\r\n\t\t\t<text class=\"line\">熊猫送了您一份礼物，赶紧领取吧</text>\r\n\t\t\t<text class=\"chai\" @click=\"open\">拆</text>\r\n\t\t</view>\r\n\r\n        \r\n        <!-- 视频 -->\r\n        <view class=\"sound-border\" v-if=\"gift==='2'\">\r\n           \t<image class=\"sound-bg\" :src=\"$utils.osspath_url('/xcx-static/wishes/mb_movie.png')\"\r\n           \t\tmode=\"\"></image>\r\n\t\t\t\t<image class=\"sound-head\" :src=\"present_memberid_headimg\" mode=\"\"></image>\r\n\t\t\t\t<text class=\"sound-name\">{{present_memberid_name}}</text>\r\n           \t<view class=\"template-btm-information-video\"><video :src=\"zhufu_mp4\" controls></video>\r\n           \t</view>\r\n           \t\r\n           \t<text class=\"line\">熊猫送了您一份礼物，赶紧领取吧</text>\r\n           \t<text class=\"chai\" @click=\"open\">拆</text>\r\n        </view>\r\n\r\n\t\t\r\n\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport config from '../../common/config.js';\r\n\tconst recorderManager = uni.getRecorderManager();\r\n\tconst innerAudioContext = uni.createInnerAudioContext();\r\n\tconst audioCtx = uni.createAudioContext('')\r\n\r\n\tinnerAudioContext.autoplay = true;\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tgift: '1',\r\n\t\t\t\tsend_talk_msg: '',\r\n\t\t\t\tzhufu_msg: '',\r\n\t\t\t\tname: '',\r\n\t\t\t\tw: '',\r\n\t\t\t\t// 进度条位置\r\n\t\t\t\tschedule: '0',\r\n\t\t\t\t// 按钮位置\r\n\t\t\t\tmovable_x: '0',\r\n\t\t\t\t// 按钮移动距离\r\n\t\t\t\tdistance: '0',\r\n\t\t\t\t// 总时长\r\n\t\t\t\tduration: '',\r\n\t\t\t\t// 1播放  0不播放\r\n\t\t\t\tstop: '0',\r\n\t\t\t\t// 页面宽度\r\n\t\t\t\twidth: '',\r\n\t\t\t\tzhufu_mp4:'',\r\n\t\t\t\tzhufu_mp3:'',\r\n\t\t\t\tradio: true,\r\n\t\t\t\tpresent_memberid_headimg:'',\r\n\t\t\t\tpresent_memberid_name:''\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad: function(e) {\r\n\t\t\tthis.url = config.URL;\r\n\t\t\tlet that = this;\r\n\t\t\tlet merberid = uni.getStorageSync('id')\r\n\t\t\tthis.sign = uni.getStorageSync('sign');\r\n\t\t\tlet send_talk_msg = uni.getStorageSync(\"send_talk_msg\")\r\n\t\t\tthis.send_talk_msg = send_talk_msg\r\n\t\t\t// 拿到传过来的礼包号\r\n\t\t\tif (e.cardbag_number) {\r\n\t\t\t\tthis.cardbag_number = e.cardbag_number;\r\n\t\t\t\tvar cardbag_number = e.cardbag_number;\r\n\t\t\t} else {\r\n\t\t\t\tthis.cardbag_number = e.scene;\r\n\t\t\t\tvar cardbag_number = e.scene;\r\n\t\t\t}\r\n\r\n\r\n\t\t\tlet data = '{\"cardbag_number\":\"' + cardbag_number + '\",\"cardbag_detail_id\":\"0\"}';\r\n\t\t\tvar action = 'get_cardbag_detail';\r\n\t\t\tthis.$utils.post(action, data).then(res => {\r\n\t\t\t\tconsole.log('礼包详情', res)\r\n\t\t\t\tthis.zhufu_msg = res.cardbag_theme.zhufu_msg\r\n\t\t\t\tthis.zhufu_mp3 = res.cardbag_theme.zhufu_mp3\r\n\t\t\t\tthis.zhufu_mp4=res.cardbag_theme.zhufu_mp4\r\n\t\t\t\tthis.send_talk_msg = send_talk_msg\r\n\t\t\t\tthis.present_memberid_headimg=res.cardbag.present_memberid_headimg\r\n\t\t\t\tthis.present_memberid_name=res.cardbag.present_memberid_name\r\n\t\t\t\tif (res.cardbag.type == 3) {\r\n\t\t\t\t\tvar time = Date.parse(new Date()) / 1000;\r\n\t\t\t\t\t// console.log('当前时间戳',time)\r\n\t\t\t\t\tvar fixedtime = res.cardbag.fixed_time\r\n\t\t\t\t\t// console.log('开奖时间戳',fixedtime)\r\n\t\t\t\t}\r\n\t\t\t\tif (res.cardbag_theme.zhufu_type == \"1\") {\r\n\t\t\t\t\tthis.gift = '1'\r\n\t\t\t\t} else if (res.cardbag_theme.zhufu_type == \"0\") {\r\n\t\t\t\t\tthis.gift = '0'\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.gift = '2'\r\n\t\t\t\t}\r\n\t\t\t\tvar data = '{\"cardbag_number\":\"' + e.cardbag_number + '\",\"memberid\":\"' + merberid + '\"}';\r\n\t\t\t\tvar action = 'check_receive_cardbag';\r\n\t\t\t\tthis.$utils.post(action, data).then(re => {\r\n\t\t\t\t\tconsole.log('判断礼包是否领取', re)\r\n\t\t\t\t\t// sta  0不可领  1可领取\r\n\t\t\t\t\t// 定时开奖   0未参与不调走  1参与没返回id之类的\r\n\t\t\t\t\tif (re.sta == 1) {\r\n\t\t\t\t\t\t// 定时开奖未领取到礼包还能进去的\r\n\t\t\t\t\t\tif (time > fixedtime) {\r\n\t\t\t\t\t\t\tthis.display = '0';\r\n\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\turl: '../redEnvelopes/redEnvelopes?cardbag=' + cardbag_number +\r\n\t\t\t\t\t\t\t\t\t'&cardbag_detail_id=' + '0' + '&cardbag_number=' +\r\n\t\t\t\t\t\t\t\t\tcardbag_number,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.display = '1';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (re.sta == 0) {\r\n\t\t\t\t\t\tthis.display = '1';\r\n\r\n\t\t\t\t\t\tif (re.cardbag_number) {\r\n\t\t\t\t\t\t\tthis.number = re.cardbag_number;\r\n\t\t\t\t\t\t\tthis.cardbag_detail_id = re.cardbag_detail_id\r\n\t\t\t\t\t\t\tthis.display = '0';\r\n\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\turl: '../redEnvelopes/redEnvelopes?cardbag_number=' + re\r\n\t\t\t\t\t\t\t\t\t.cardbag_number + '&cardbag_detail_id=' + re\r\n\t\t\t\t\t\t\t\t\t.cardbag_detail_id + '&cardbag=' + cardbag_number +\r\n\t\t\t\t\t\t\t\t\t'&head_img=' + res.cardbag.present_memberid_headimg +\r\n\t\t\t\t\t\t\t\t\t'&all_details_num=' + res.cardbag.all_details_num +\r\n\t\t\t\t\t\t\t\t\t'&present_memberid_name=' + res.cardbag\r\n\t\t\t\t\t\t\t\t\t.present_memberid_name,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else if (time < fixedtime) {\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: re.msg,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.display = '1';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t})\r\n\r\n\t\t\t\t// 模板信息\r\n\t\t\t\tthis.template = res.cardbag_theme;\r\n\t\t\t\t// 判断当前礼包是否为定时开奖\r\n\t\t\t\tthis.type = res.cardbag.type;\r\n\t\t\t\t// 礼包信息\r\n\t\t\t\tthis.cardbag = res.cardbag;\r\n\t\t\t\t// 头像 昵称\r\n\t\t\t\tthis.head_img = res.cardbag.present_memberid_headimg;\r\n\t\t\t\tthis.name = res.cardbag.present_memberid_name;\r\n\t\t\t\t// 是否领取\r\n\t\t\t\tthis.all_details_num = res.cardbag.all_details_num\r\n\t\t\t\tthis.id = res.cardbag.present_memberid;\r\n\r\n\t\t\t})\r\n              \r\n\t\t\t  // 音频用到的宽度\r\n\t\t\t  uni.getSystemInfo({\r\n\t\t\t  \tsuccess: (res) => {\r\n\t\t\t  \t\tthat.width = res.screenWidth,\r\n\t\t\t  \t\t\tthat.w = res.screenWidth * 0.57\r\n\t\t\t  \t},\r\n\t\t\t  })\r\n\t\t\t  \r\n\t\t\t//判断是否登录\r\n\t\t\tvar id = uni.getStorageSync('id')\r\n\t\t\tif (id) {\r\n\t\t\t\t// console.log('登录')\r\n\t\t\t\tthis.idd = id;\r\n\t\t\t\tthis.sign = '200'\r\n\t\t\t} else {\r\n\t\t\t\t// console.log('未登录')\r\n\t\t\t\tthis.sign = '0'\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 播放录音\r\n\t\t\taudioPlay: function() {\r\n\t\t\t\t// 开始播放\r\n\t\t\t\tthis.stop = 1;\r\n\t\t\t\t// 左边小喇叭动\r\n\t\t\t\t// this.radio = 1;\r\n\t\t\t\tthis.radio = !this.radio\r\n\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tconsole.log('播放')\r\n                 let zhufu_mp3=this.zhufu_mp3\r\n\t\t\t\t// 播放路径\r\n\t\t\t\tinnerAudioContext.src = zhufu_mp3\r\n\t\t\t\tinnerAudioContext.play();\r\n\r\n\t\t\t\tsetTimeout(() => {\r\n\r\n\t\t\t\t\tinnerAudioContext.currentTime\r\n\r\n\t\t\t\t\tinnerAudioContext.onTimeUpdate((res) => {\r\n\t\t\t\t\t\tconsole.log('总时长', innerAudioContext.duration)\r\n\t\t\t\t\t\tconsole.log('当前播放进度', innerAudioContext.currentTime)\r\n\r\n\t\t\t\t\t\t// 已播放进度条\r\n\t\t\t\t\t\tlet schedule = innerAudioContext.currentTime / innerAudioContext.duration *\r\n\t\t\t\t\t\t\t100;\r\n\t\t\t\t\t\t// 白色圆点\r\n\t\t\t\t\t\tlet x = (that.width * 0.57 - that.width * 0.57 * 0.07) * schedule / 100;\r\n\r\n\t\t\t\t\t\tif (this.stop == 0) {\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// 白色圆点\r\n\t\t\t\t\t\t\tthis.movable_x = x;\r\n\t\t\t\t\t\t\t// 进度条\r\n\t\t\t\t\t\t\tthis.schedule = schedule;\r\n\t\t\t\t\t\t\tthis.duration = innerAudioContext.duration;\r\n\t\t\t\t\t\t\tconsole.log(innerAudioContext.duration / innerAudioContext.currentTime)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// 播放结束\r\n\t\t\t\t\t\tinnerAudioContext.onEnded((res) => {\r\n\t\t\t\t\t\t\tconsole.log('结束', res)\r\n\t\t\t\t\t\t\t// 左边小喇叭停止\r\n\t\t\t\t\t\t\tthat.radio = 0;\r\n\t\t\t\t\t\t\tthis.stop=0\r\n\t\t\t\t\t\t\t// 按钮    最右边\r\n\t\t\t\t\t\t\tthis.movable_x = that.width * 0.57;\r\n\t\t\t\t\t\t\t// 进度条  满\r\n\t\t\t\t\t\t\tthis.schedule = 100\r\n\t\t\t\t\t\t})\r\n\r\n\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\r\n\r\n\t\t\t},\r\n\r\n            // 滑动\r\n            scroll: function(e) {\r\n            \tconsole.log(e)\r\n            \tthis.distance = e.detail.x\r\n            },\r\n            \r\n            // 按住\r\n            star: function(e) {\r\n            \tthis.stop = 0;\r\n            \tthis.click = 0;\r\n            \tconsole.log('暂停')\r\n            \tinnerAudioContext.pause()\r\n            \tinnerAudioContext.offTimeUpdate((res) => {\r\n            \t\tconsole.log('取消监听进度条', res)\r\n            \t})\r\n            },\r\n            // 停止\r\n            to: function(e) {\r\n            \tlet that = this;\r\n            \tlet s = this.distance;\r\n            \tlet time = s / (that.width * 0.57 - that.width * 0.57 * 0.07) * 100;\r\n            \tconsole.log('跳转位置', this.duration * time / 100)\r\n            \tinnerAudioContext.seek(this.duration * time / 100)\r\n            \tthis.schedule = time;\r\n            \tthis.movable_x = s;\r\n                this.stop=0\r\n            }, \r\n\r\n\t\t\topen: function(e) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tif (this.sign == '200') {\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle: '正在领取'\r\n\t\t\t\t\t})\r\n\t\t\t\t\t// 领取红包\r\n\t\t\t\t\tvar data = '{\"cardbag_number\":\"' + this.cardbag_number + '\",\"memberid\":\"' + this.idd + '\"}';\r\n\t\t\t\t\tvar action = 'receive_cardbag';\r\n\t\t\t\t\t// console.log(data)\r\n\t\t\t\t\tthis.$utils.post(action, data).then(res => {\r\n\t\t\t\t\t\tconsole.log('领取卡包', res)\r\n\t\t\t\t\t\tif (res.sta == 1) {\r\n\r\n\t\t\t\t\t\t\t// 存入本地缓存\r\n\t\t\t\t\t\t\tuni.setStorageSync('new_cardbag_number', res)\r\n\r\n\t\t\t\t\t\t\t// 定时开奖的话  未到开奖时间提示\r\n\t\t\t\t\t\t\tif (this.type == 3) {\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t// 提示参与成功\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '成功参与',\r\n\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t// 调用订阅消息\r\n\t\t\t\t\t\t\t\tuni.requestSubscribeMessage({\r\n\t\t\t\t\t\t\t\t\ttmplIds: ['K7Go9Ex49p5hfB8qm3LhggEDJoZ1p2mKu2lyspAsqM0'],\r\n\t\t\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\t\t\t// console.log(res)\r\n\r\n\t\t\t\t\t\t\t\t\t\tthat.dingyue();\r\n\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tfail(res) {\r\n\t\t\t\t\t\t\t\t\t\t// console.log('失败',res) \r\n\t\t\t\t\t\t\t\t\t\twx.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: res.errMsg,\r\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// 即时开奖\r\n\t\t\t\t\t\t\telse if (this.type == 4) {\r\n\t\t\t\t\t\t\t\tinnerAudioContext.src = that.auto;\r\n\t\t\t\t\t\t\t\tinnerAudioContext.play();\r\n\r\n\t\t\t\t\t\t\t\tsetTimeout(function(e) {\r\n\t\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\t\turl: '../redEnvelopes/redEnvelopes?cardbag_number=' +\r\n\t\t\t\t\t\t\t\t\t\t\tres.cardbag_number + '&cardbag_detail_id=' + res\r\n\t\t\t\t\t\t\t\t\t\t\t.cardbag_detail_id + '&head_img=' + that.head_img +\r\n\t\t\t\t\t\t\t\t\t\t\t'&all_details_num=' + that.all_details_num +\r\n\t\t\t\t\t\t\t\t\t\t\t'&present_memberid_name=' + that.name +\r\n\t\t\t\t\t\t\t\t\t\t\t'&old_cardbag_number=' + that.cardbag_number,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t}, 500)\r\n\r\n\r\n\t\t\t\t\t\t\t\tsetTimeout(function(e) {\r\n\t\t\t\t\t\t\t\t\t// console.log('停止')\r\n\t\t\t\t\t\t\t\t\tinnerAudioContext.stop();\r\n\t\t\t\t\t\t\t\t}, 2200)\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tinnerAudioContext.src = that.auto;\r\n\t\t\t\t\t\t\t\tinnerAudioContext.play();\r\n\r\n\t\t\t\t\t\t\t\tsetTimeout(function(e) {\r\n\t\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\t\turl: '../redEnvelopes/redEnvelopes?cardbag_number=' +\r\n\t\t\t\t\t\t\t\t\t\t\tres.cardbag_number + '&cardbag_detail_id=' + res\r\n\t\t\t\t\t\t\t\t\t\t\t.cardbag_detail_id + '&head_img=' + that.head_img +\r\n\t\t\t\t\t\t\t\t\t\t\t'&all_details_num=' + that.all_details_num +\r\n\t\t\t\t\t\t\t\t\t\t\t'&present_memberid_name=' + that.name +\r\n\t\t\t\t\t\t\t\t\t\t\t'&old_cardbag_number=' + that.cardbag_number,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t}, 500)\r\n\r\n\t\t\t\t\t\t\t\tsetTimeout(function(e) {\r\n\t\t\t\t\t\t\t\t\t// console.log('停止')\r\n\t\t\t\t\t\t\t\t\tinnerAudioContext.stop();\r\n\t\t\t\t\t\t\t\t}, 2200)\r\n\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请先登录',\r\n\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\tmask: 'true',\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tsetTimeout(function(e) {\r\n\t\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\t\turl: '../signin/signin?receive=' + 'on' +\r\n\t\t\t\t\t\t\t\t\t\t'&cardbag_number=' + that.cardbag_number\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}, 1500)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t@import '@/common/receive.css';\r\n\t@import '@/common/sound.css';\r\n\r\n\t.zhufu {\r\n\t\twidth: 556rpx;\r\n\t\theight: 180rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\tflex-wrap: wrap;\r\n\t\tline-height: 40rpx;\r\n\t\tmargin-top: 30rpx;\r\n\t}\r\n\t.progress-one {\r\n\t\twidth: 35rpx;\r\n\t\theight: 35rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tbackground-color: #fff;\r\n\t\tposition: absolute;\r\n\t\ttop: 65px;\r\n\t}\r\n\t.template-btm-information-video{\r\n\t\tposition: absolute;\r\n\t\ttop: 180rpx;\r\n\t\tleft: 25rpx;\r\n\t}\r\n\t.b{\r\n\t\twidth: 410rpx;\r\n\t\theight: 50rpx;\r\n\t\tmargin-top: -26rpx;\r\n\t}\r\n\t.rotate{\r\n\t\ttransform: translate(-40rpx,20rpx);\r\n\t\tanimation: 2s;\r\n\t}\r\n</style>\n","import mod from \"-!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./receive.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./receive.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1628904721156\n      var cssReload = require(\"D:/软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}