{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/HI BOY/Desktop/zhijianliwu20210716/pages/shopping/must.vue?674b","webpack:///C:/Users/HI BOY/Desktop/zhijianliwu20210716/pages/shopping/must.vue?570c","webpack:///C:/Users/HI BOY/Desktop/zhijianliwu20210716/pages/shopping/must.vue?d55a","webpack:///C:/Users/HI BOY/Desktop/zhijianliwu20210716/pages/shopping/must.vue?8a3a","uni-app:///pages/shopping/must.vue","webpack:///C:/Users/HI BOY/Desktop/zhijianliwu20210716/pages/shopping/must.vue?8f21","webpack:///C:/Users/HI BOY/Desktop/zhijianliwu20210716/pages/shopping/must.vue?a3a3"],"names":["createPage","Page"],"mappings":"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A;AAEA,oBAFA;AAGA,wBAHA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA,oBADA;AAEA,wBAFA;AAGA,wBAHA;;AAKA;AACA;AACA;AACA;;;;AAIA,KAjBA;;AAmBA,GAnEA;;;;;AAwEA;AACA;AACA;AACA;AACA;AACA;AACA,qBADA;AAEA,oBAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA,6BADA;AAEA,qCAFA;AAGA,uCAHA;AAIA,uCAJA;AAKA,mCALA;AAMA,yCANA;AAOA,6BAPA;;AASA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,uBADA;;AAGA;AACA,+DADA;;AAGA;AACA;AACA;AACA;AACA,OAXA,MAWA;AACA;AACA;AACA;AACA,sCADA;;AAGA;AACA;AACA;AACA;AACA;AACA,4DADA;AAEA;AACA;AACA;AACA;AACA,4CADA;AAEA,+BAFA;AAGA,qCAHA;AAIA,iCAJA;;AAMA;AACA;AACA;AACA;;AAEA;AACA;AACA,mDAFA;AAGA;AACA,2BAJA;AAKA,qDALA;AAMA;AACA,oBADA,CACA,SAPA;AAQA,0CARA;;;AAWA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,mBAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA,uDADA;;AAGA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA,2BADA,CADA;AAGA,uCAHA;AAIA;AACA,2BALA;AAMA,iCANA;AAOA,6CAPA;AAQA,yBARA,mBAQA,GARA,EAQA;AACA;AACA;AACA,kFADA;AAEA;AACA;AACA,kCAFA,EAFA;;AAMA;AACA,2EADA,CACA;AADA,uBANA;AASA,mCATA;AAUA;AACA;AACA,yBADA,EACA;AACA;AACA,2BADA;AAEA,gCAFA;AAGA,2BAHA;;AAKA;AACA,uCADA;AAEA,sCAFA;;AAIA;AACA,gCADA;AAEA,0BAFA;;AAIA;AACA,uCADA;AAEA,0BAFA;;AAIA;AACA,uCADA;AAEA,0BAFA;;AAIA;AACA,sCADA;AAEA,0BAFA;;AAIA;AACA,+EADA;;AAGA,uBAzCA;;AA2CA,mBArDA;AAsDA,sBAtDA,gBAsDA,GAtDA,EAsDA;AACA;AACA;AACA;AACA,mCADA;AAEA,kCAFA;;AAIA;AACA,mBA9DA;;AAgEA,eA7GA;AA8GA,aAzHA;;AA2HA,SA/HA;AAgIA,OAtIA,MAsIA;AACA;AACA,sBADA;AAEA,2CAFA;;AAIA;AACA,KA5JA;AA6JA,GA9PA;;AAgQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBADA;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,yCAFA;AAGA,kDAHA;AAIA,2CAJA;AAKA,wDALA;AAMA,gCANA;;;;;AAWA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA,2CADA;AAEA,6BAFA;AAGA,gDAHA;AAIA,uBAJA;AAKA,mCALA;AAMA,eANA,mBAMA,GANA,EAMA;AACA;AACA;AACA,wEADA;AAEA;AACA,4CADA,EAFA;;AAKA;AACA,iEADA,CACA;AADA,aALA;AAQA,yBARA;AASA;AACA;AACA;AACA,aAZA;;AAcA;AACA,yBADA;AAEA,2BAFA;AAGA,8BAHA;AAIA,+BAJA;AAKA,mBALA,mBAKA,GALA,EAKA;AACA;AACA;AACA;AACA,eAHA,MAGA;AACA;AACA;AACA;AACA,uCADA;;AAGA;AACA,aAhBA;;;AAmBA,SAzCA;AA0CA,YA1CA,gBA0CA,GA1CA,EA0CA;AACA;AACA;AACA;AACA,yBADA;AAEA,wBAFA;;AAIA;AACA,SAlDA;;;;AAsDA,KAnGA;AAoGA,GA9WA;;AAgXA;AACA;AACA;AACA,GAnXA;AAoXA;AACA;AACA,GAtXA;AAuXA;AACA;AACA,sBADA;;AAGA,GA3XA;;AA6XA;AACA;AACA;AACA,KAFA;AAGA;AACA;AACA;AACA;AACA;AACA,OAJA,MAIA;AACA;AACA;AACA;AACA;AACA,GA3YA,YA3HA,E;;;;;;;;;;;;;ACtIA;AAAA;AAAA;AAAA;AAA44B,CAAgB,i3BAAG,EAAC,C;;;;;;;;;;;ACAh6B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/shopping/must.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/shopping/must.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./must.vue?vue&type=template&id=804172b2&\"\nvar renderjs\nimport script from \"./must.vue?vue&type=script&lang=js&\"\nexport * from \"./must.vue?vue&type=script&lang=js&\"\nimport style0 from \"./must.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/shopping/must.vue\"\nexport default component.exports","export * from \"-!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./must.vue?vue&type=template&id=804172b2&\"","var components\ntry {\n  components = {\n    uniPopup: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup/uni-popup\" */ \"@/uni_modules/uni-popup/components/uni-popup/uni-popup.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.list, function(item, __i0__) {\n    var $orig = _vm.__get_orig(item)\n\n    var g0 = _vm.$utils.imageUrl(item.head_img)\n    var g1 = _vm.$utils.cut_str(item.goodsname, 15)\n    return {\n      $orig: $orig,\n      g0: g0,\n      g1: g1\n    }\n  })\n\n  var l1 = _vm.__map(_vm.couponList, function(item, __i1__) {\n    var $orig = _vm.__get_orig(item)\n\n    var g2 =\n      item.status == 0\n        ? _vm.$utils.date_time(item.coupon_type_info.begin_time)\n        : null\n    var g3 =\n      item.status == 0\n        ? _vm.$utils.date_time(item.coupon_type_info.end_time)\n        : null\n    return {\n      $orig: $orig,\n      g2: g2,\n      g3: g3\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        l1: l1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./must.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./must.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"must\">\r\n\t\t<!-- 订单地址 -->\r\n\t\t<view class=\"must-address\" @click=\"choiceAddress\">\r\n\t\t\t<block v-if=\"address.id != ''\">\r\n\t\t\t\t<view class=\"must-address-name\">{{address.name}} {{address.phone}}</view>\r\n\t\t\t\t<view class=\"must-address-add\">{{address.address}}</view>\r\n\t\t\t\t<text class=\"icon icon-z-right\"></text>\r\n\t\t\t</block>\r\n\t\t\t<block v-else>\r\n\t\t\t\t<view class=\"text\">选择地址</view>\r\n\t\t\t\t<text class=\"icon icon-z-right\"></text>\r\n\t\t\t</block>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 订单详情 -->\r\n\t\t<view class=\"must-list\">\r\n\t\t\t<view class=\"must-list-xq\" v-for=\"item in list\" :key=\"item.id\">\r\n\t\t\t\t<view class=\"must-list-bg\">\r\n\t\t\t\t\t<image class=\"must-list-img\" :src=\"$utils.imageUrl(item.head_img)\" mode=\"\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"must-guige\">\r\n\t\t\t\t\t<view class=\"guige-1\">\r\n\t\t\t\t\t\t<text class=\"must-guige-title\">{{$utils.cut_str(item.goodsname,15)}}</text>\r\n\t\t\t\t\t\t<text class=\"must-guige-price\">{{item.price}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"guige-2\">\r\n\t\t\t\t\t\t<text class=\"must-guige-box\">规格：{{item.shopping_cart_goods_item}}</text>\r\n\t\t\t\t\t\t<view class=\"must-guige-right\">x{{item.num}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t<!-- \t<view class=\"fenshus fens\">共1份</view> -->\r\n\t\t\t\r\n\t\t\t<!-- 订单价格信息 -->\r\n\t\t\t<view class=\"message\">\r\n\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t<text class=\"message-title\">商品总价：</text>\r\n\t\t\t\t\t<text class=\"message-price\">￥{{sum}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t<text class=\"message-title\">运费：</text>\r\n\t\t\t\t\t<text class=\"message-price\">￥0.00</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t<text class=\"message-title\">优惠券：</text>\r\n\t\t\t\t\t<view class=\"message-price\" v-if=\"coupon_name\">无</view>\r\n\t\t\t\t\t<view class=\"message-price yhj\" v-else @click=\"open\">\r\n\t\t\t\t\t\t<text style=\"color: #EC1815;\">{{money1}}</text>\r\n\t\t\t\t\t\t<text class=\"iconfont icon-youjiantou message-jiantou1\"></text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t<text class=\"message-title\">余额：</text>\r\n\t\t\t\t\t<text class=\"message-price\">¥{{balance}}</text>\r\n\t\t\t\t\t<!-- <view class=\"\" > -->\r\n\t\t\t\t\t<text class=\"circle iconfont icon-ico2\" @click=\"switch2Change\" v-show=\"!use_balance\"></text>\r\n\t\t\t\t\t<text class=\"circle iconfont icon-ico1\" @click=\"switch2Change\" v-show=\"use_balance\"></text>\r\n\t\t\t\t\t<!-- </view> -->\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<uni-popup ref=\"popup\" backgroundColor=\"#FAFAFA\" type=\"bottom\">\r\n\t\t\t\t<view class=\"youhuijuan\">\r\n\t\t\t\t\t<text class=\"you-title\">可用优惠券</text>\r\n\t\t\t\t\t<!-- <view v-for=\"item in couponList\" :key=\"item.id\">\r\n\t\t\t\t\t\t<view class=\"you-left\" v-if=\"item.status==0\">\r\n\t\t\t\t\t\t\t<text class=\"l-price\">{{item.coupon_type_info.money}}</text>\r\n\t\t\t\t\t\t\t<text class=\"l-man\">满{{item.coupon_type_info.full_money}}元可用</text>\r\n\t\t\t\t\t\t\t<text\r\n\t\t\t\t\t\t\t\tclass=\"l-date\">有效期：{{$utils.date_time(item.coupon_type_info.begin_time)}}~{{$utils.date_time(item.coupon_type_info.end_time)}}</text>\r\n\t\t\t\t\t\t\t<text class=\"l-moth\">{{item.coupon_type_info.coupon_name}}</text>\r\n\t\t\t\t\t\t\t<text class=\"l-quan\">全场通用劵</text>\r\n\r\n\t\t\t\t\t\t\t<view class=\"you-right\" @click=\"check\" :data-id=\"item.id\">\r\n\t\t\t\t\t\t\t\t<text v-show=\"!item.gou\" class=\"iconfont icon-gouxuan checks\"></text>\r\n\t\t\t\t\t\t\t\t<text v-show=\"item.gou\" class=\"iconfont icon-gouxuancopy checked\"></text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\t\r\n\t\t\t\t\t</view> -->\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"juan-wrap\" v-for=\"item in couponList\" :key=\"item.id\">\r\n\t\t\t\t\t\t<view class=\"juan-list\" v-if=\"item.status==0\">\r\n\t\t\t\t\t\t\t<view class=\"juan-list-left\">\r\n\t\t\t\t\t\t\t\t<text class='z-circle z-circle-top'></text>\r\n\t\t\t\t\t\t\t\t<text class='z-circle z-circle-bottom'></text>\r\n\t\t\t\t\t\t\t\t<view class=\"z-box\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"juan-list-left-top\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"z-price-logo\">￥</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"z-price\">{{item.coupon_type_info.money}}</text>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"z-man\">满{{item.coupon_type_info.full_money}}元可用</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"juan-list-left-center\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"z-moth\">{{item.coupon_type_info.coupon_name}}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"z-quan\">(全场通用劵)</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"juan-list-left-bottom\">有效期：{{$utils.date_time(item.coupon_type_info.begin_time)}}~{{$utils.date_time(item.coupon_type_info.end_time)}}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"juan-list-right\" @click=\"check\" :data-id=\"item.id\">\r\n\t\t\t\t\t\t\t\t<text v-show=\"!item.gou\" class=\"iconfont icon-gouxuan checks\"></text>\r\n\t\t\t\t\t\t\t\t<text v-show=\"item.gou\" class=\"iconfont icon-gouxuancopy checked\"></text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"wucou\" style=\"text-align: center;\">\r\n\t\t\t\t\t\t<!-- <text class=\"wucou\">暂无优惠券</text> -->\r\n\t\t\t\t\t\t<image src=\"../../static/empty_page_xm.png\" mode=\"widthFix\" style=\"width: 50%\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<button class=\"sure-btn\" type=\"warn\" @click=\"coupon1\">确定</button>\r\n\t\t\t\t</view>\r\n\t\t\t</uni-popup>\r\n\t\t\t<!-- 合计 -->\r\n\t\t\t<view class=\"hj\">\r\n\t\t\t\t<text class=\"jiage\">合计：</text>\r\n\t\t\t\t<text class=\"jiage sum-price\">￥{{price_zhe}}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 底部合计 -->\r\n\t\t<view class=\"must-bottom heji\">\r\n\t\t\t<text style=\"color: #EB1615; font-size: 30rpx;\">￥</text>\r\n\t\t\t<text class=\"must-bottom-price\">{{price_zhe}}</text>\r\n\t\t\t<view class=\"pay clearfix\">\r\n\t\t\t\t<button class=\"shop-payment shop-payment-active \" @click=\"forsubmit\" v-if=\"com==false\">立即付款</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport MD5 from \"../../common/md5.js\";\r\n\timport drawQrcode from \"../../common/weapp.qrcode.min.js\";\r\n\timport config from '../../common/config.js';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tstatus: '',\r\n\t\t\t\tsum: 0,\r\n\t\t\t\tmoney: 0,\r\n\t\t\t\tmoney1: 0,\r\n\t\t\t\taddress: {},\r\n\t\t\t\tcom: '',\r\n\t\t\t\tcoupon_id: '',\r\n\t\t\t\tcoupon_number: '',\r\n\t\t\t\tcoupon_name: '',\r\n\t\t\t\tcoupon_money: '',\r\n\t\t\t\tshowa: '',\r\n\t\t\t\tuse_balance: true, //余额的选中\r\n\t\t\t\tbalance: 0,\r\n\t\t\t\tshowa: 1,\r\n\t\t\t\topenid: '',\r\n\t\t\t\tsta: 1,\r\n\t\t\t\tdelivery_mode: '快递',\r\n\t\t\t\tdelivery_mode_arr: [\"快递\", \"同城\", \"自提\"],\r\n\t\t\t\tcoupon_numbers: 0,\r\n\t\t\t\tcoupon_number1: 0,\r\n\t\t\t\tlist: [],\r\n\t\t\t\tgou: true,\r\n\t\t\t\tcouponList: [],\r\n\t\t\t\tbuy_type:'',\r\n\t\t\t\tprice_zhe:''\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad: function(e) {\r\n\r\n\t\t\t// 余额\r\n\t\t\tthis.balance = uni.getStorageSync('balance');\r\n\t\t\tthis.use_balance = 0;\r\n\t\t\tthis.use_zj_balance = 1;\r\n\t\t\tthis.openid = uni.getStorageSync('openid');\r\n\t\t\tthis.id = uni.getStorageSync('id');\r\n\r\n\t\t\t//流水单号\r\n\t\t\tvar chars = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I',\r\n\t\t\t\t'J',\r\n\t\t\t\t'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', 'a', 'b', 'c', 'd',\r\n\t\t\t\t'e', 'f', 'g',\r\n\t\t\t\t'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'\r\n\t\t\t];\r\n\r\n\t\t\tvar nums = \"\";\r\n\r\n\t\t\tfor (var i = 0; i < 32; i++) {\r\n\t\t\t\t0.\r\n\r\n\r\n\t\t\t\tvar id = parseInt(Math.random() * 61);\r\n\r\n\t\t\t\tnums += chars[id];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.nums = nums;\r\n\r\n\t\t\t//商品展示\r\n\t\t\tlet type = e.type\r\n\t\t\tthis.buy_type=type\r\n\t\t\tlet memberid = uni.getStorageSync('id')\r\n\t\t\tthis.memberid = memberid;\r\n\t\t\tvar data = '{\"memberid\":\"' + memberid + '\",\"buy_type\":\"' + type + '\"}';\r\n\r\n\t\t\tvar action = 'get_buy_shopping_cart';\r\n\t\t\tthis.$utils.post(action, data).then(res => {\r\n\t\t\t\tconsole.log('商品信息', res)\r\n\t\t\t\tlet icon = \"success\"\r\n\t\t\t\tif (res.sta != 1) {\r\n\t\t\t\t\ticon = \"none\";\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: icon,\r\n\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.list = res.rs.goodslist\r\n\t\t\t\tthis.sum = res.rs.price_zhe\r\n\t\t\t})\r\n\t\t\tvar action = 'get_coupon_number_list';\r\n\t\t\tthis.$utils.post(action, data).then(res => {\r\n\t\t\t\tconsole.log('优惠券', res)\r\n\t\t\t\tlet icon = \"success\"\r\n\t\t\t\tif (res.sta != 1) {\r\n\t\t\t\t\ticon = \"none\";\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: icon,\r\n\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.couponList = res.rs\r\n\t\t\t\tthis.count = res.count\r\n\r\n\t\t\t})\r\n\t\t\t// 是否有优惠券\r\n\t\t\tif (e.coupon_number) {\r\n\t\t\t\tthis.coupon_number = e.coupon_number;\r\n\t\t\t\tthis.coupon_name = '-¥' + e.coupon_name;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tonShow: function(e) {\r\n\t\t\tthis.$set(this.address, 'id', uni.getStorageSync('member_area_id'));\r\n\t\t\tthis.$set(this.address, 'name', uni.getStorageSync('member_area_linkman'));\r\n\t\t\tthis.$set(this.address, 'phone', uni.getStorageSync('member_area_linktel'));\r\n\t\t\tthis.$set(this.address, 'address', uni.getStorageSync('member_area_address'));\r\n\r\n\r\n\t\t\tthis.coupon_id = uni.getStorageSync('coupon_id');\r\n\t\t\tthis.coupon_keynum = uni.getStorageSync('coupon_keynum');\r\n\t\t\tthis.coupon_money = uni.getStorageSync('coupon_money');\r\n\t\t\tthis.coupon_number = uni.getStorageSync('coupon_number');\r\n\t\t\t\r\n\t\t\t//计算总计金额\r\n\t\t\tthis.caltotalmoney()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tchoiceAddress: function() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '../Add/Add?cardbag_number=5',\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 余额选中\r\n\t\t\tswitch2Change() {\r\n\t\t\t\tthis.use_balance = !this.use_balance\r\n\t\t\t},\r\n\r\n\t\t\tswitch2Change() {\r\n\t\t\t\tconsole.log(11)\r\n\t\t\t\tthis.use_balance = !this.use_balance\r\n\t\t\t\tconsole.log(\"余额\", this.use_balance);\r\n\t\t\t},\r\n\r\n\t\t\t// 选择优惠券\r\n\t\t\tcoupon1: function(e) {\r\n\t\t\t\tthis.money1 = this.money\r\n\t\t\t\tthis.coupon_number1 = this.coupon_number\r\n\t\t\t\tthis.$refs.popup.close()\r\n\t\t\t\t\r\n\t\t\t\t//计算总计金额\r\n\t\t\t\tthis.caltotalmoney()\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tcaltotalmoney:function (e){\r\n\t\t\t\tlet fenshu=this.fenshu\r\n\t\t\t\t//这里要判断下类型，如果是直接送礼份数取出来实际的，如果是拼手气的话，份数是固定的1\r\n\t\t\t\tlet memberid = uni.getStorageSync('id')\r\n\t\t\t\tlet buy_type=this.buy_type\r\n\t\t\t\t//如果show=1是拼手气红包，如果show=2是直接送礼\r\n\t\t\t\tif(this.show==1 ||  this.show==0){\r\n\t\t\t\t\tfenshu=1;\r\n\t\t\t\t}\r\n\t\t\t\t//玩法等于1是直接送礼,直接送礼有多份概念，其他没有\r\n\t\t\t\tif(this.wanfa!='1'){\r\n\t\t\t\t\tfenshu=1\r\n\t\t\t\t}\r\n\t\t\t\tlet money1=this.money1\r\n\t\t\t\tlet action = \"get_fenshu_price\";\r\n\t\t\t\tlet data = JSON.stringify({\r\n\t\t\t\t\tmemberid: memberid,\r\n\t\t\t\t\tfenshu:fenshu,\r\n\t\t\t\t\tbuy_type:buy_type\r\n\t\t\t\t});\r\n\t\t\t\tthis.$utils.post(action, data).then(res => {\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tlet icon = \"success\"\r\n\t\t\t\t\tif (res.sta != 1) {\r\n\t\t\t\t\t\ticon = \"none\";\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon: icon,\r\n\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\treturn \r\n\t\t\t\t\t}\r\n\t\t\t\t\t//赋值总价 ,只有订单确认页面才会减去money1是优惠券的金额\r\n\t\t\t\t\tthis.price_zhe=res.rs.price_zhe-money1\r\n\r\n\t\t\t\t\t\r\n\t\t\t\r\n\t\t\t\t})\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t},\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t//立即付款\r\n\t\t\tforsubmit: function(e) {\r\n\t\t\t\tconsole.log(\"立即付款\")\r\n\t\t\t\t// console.log(e)\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif (this.sta == 0) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请先登录',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(this.sta + \"1111\")\r\n\t\t\t\t// 优惠券\r\n\t\t\t\t// let coupon_number = \"202106071635207977209222\";\r\n\t\t\t\tlet coupon_number = this.coupon_number1;\r\n\t\t\t\tlet data = JSON.stringify({\r\n\t\t\t\t\tmemberid: this.memberid,\r\n\t\t\t\t\tmember_area_id: this.address.id,\r\n\t\t\t\t\tdelivery_type: this.delivery_mode,\r\n\t\t\t\t\tcoupon_number: this.coupon_number,\r\n\t\t\t\t\tuse_balance: this.use_balance,\r\n\t\t\t\t\tuse_zj_balance: this.use_zj_balance,\r\n\t\t\t\t\tbuy_type: this.buy_type\r\n\t\t\t\t});\r\n\t\t\t\tconsole.log(data)\r\n\t\t\t\tvar action = 'create_buy_order';\r\n\t\t\t\tthis.$utils.post(action, data).then(res => {\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet  ordernumber=res.ordernumber\r\n\t\t\t\t\tconsole.log(\"付款\");\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tif (res.pay_status == 1) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"支付成功\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\turl: '../shopping/payment?ordernumber='+ordernumber\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tuni.setStorageSync('coupon', '');\r\n\t\t\t\t\t\tuni.setStorageSync('coupon_keynum', '');\r\n\t\t\t\t\t\tuni.setStorageSync('coupon_number', '');\r\n\t\t\t\t\t\tuni.setStorageSync('coupon_money', '');\r\n\t\t\t\t\t} else if (res.pay_status == 0) {\r\n\t\t\t\t\t\t// 获取流水单号\r\n\t\t\t\t\t\tlet action = 'get_buy_order_pay_info';\r\n\t\t\t\t\t\tlet data = JSON.stringify({\r\n\t\t\t\t\t\t\tordernumber: res.ordernumber\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.$utils.post(action, data).then(res => {\r\n\t\t\t\t\t\t\tconsole.log(\"获取流水号\", res);\r\n\t\t\t\t\t\t\tlet serial_number = res.rs.serial_number;\r\n\t\t\t\t\t\t\t// 获取ip\r\n\t\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\t\turl: 'https://zhijianlw.com/api.php/index/getip',\r\n\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t\t\t\t\tlet action = 'add_paylog_to_wx';\r\n\t\t\t\t\t\t\t\t\tlet data = JSON.stringify({\r\n\t\t\t\t\t\t\t\t\t\tserial_number: serial_number,\r\n\t\t\t\t\t\t\t\t\t\tip: res.data.ip,\r\n\t\t\t\t\t\t\t\t\t\topenid: this.openid,\r\n\t\t\t\t\t\t\t\t\t\ttype: 'buy_order',\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tthis.$utils.post(action, data).then(res => {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log('获取参数', res)\r\n\t\t\t\t\t\t\t\t\t\tvar serial_number = res.rs.serial_number;\r\n\t\t\t\t\t\t\t\t\t\tlet arr = [];\r\n\r\n\t\t\t\t\t\t\t\t\t\tconst date = {\r\n\t\t\t\t\t\t\t\t\t\t\t// 合作方标识\r\n\t\t\t\t\t\t\t\t\t\t\tappId: 'appId=wx9c53a99b078435f5',\r\n\t\t\t\t\t\t\t\t\t\t\ttimeStamp: 'timeStamp=' + this\r\n\t\t\t\t\t\t\t\t\t\t\t\t.timeStamp,\r\n\t\t\t\t\t\t\t\t\t\t\tnonceStr: 'nonceStr=' + this.nums,\r\n\t\t\t\t\t\t\t\t\t\t\tpackage: 'package=prepay_id=' + res\r\n\t\t\t\t\t\t\t\t\t\t\t\t.rs.prepay_id,\r\n\t\t\t\t\t\t\t\t\t\t\tsignType: 'signType=MD5',\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\tconsole.log('拼接前', date)\r\n\r\n\t\t\t\t\t\t\t\t\t\tfor (let i in date) {\r\n\t\t\t\t\t\t\t\t\t\t\tarr.push(date[i])\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\tarr.sort();\r\n\r\n\t\t\t\t\t\t\t\t\t\tlet stringA = '';\r\n\r\n\t\t\t\t\t\t\t\t\t\t// 拼接字符串\r\n\t\t\t\t\t\t\t\t\t\tfor (let i in arr) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (i == arr.length - 1) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tstringA += arr[i];\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\tstringA += arr[i] + '&';\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t// let stringSignTemp = stringA + '&key='  + '730ed24645b1a54e82a3d2bcff63db37';\r\n\t\t\t\t\t\t\t\t\t\tlet stringSignTemp = stringA +\r\n\t\t\t\t\t\t\t\t\t\t\t'&key=dEEHizJM4cZtBy3Dlj4gVKwHMlM32IPv';\r\n\r\n\t\t\t\t\t\t\t\t\t\tconsole.log('拼接后', stringSignTemp)\r\n\t\t\t\t\t\t\t\t\t\tlet sign = MD5.hexMD5(stringSignTemp);\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(sign)\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\r\n\t\t\t\t\t\t\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\t\t\t\t\t\t\ttimeStamp: String(this\r\n\t\t\t\t\t\t\t\t\t\t\t\t.timeStamp),\r\n\t\t\t\t\t\t\t\t\t\t\tnonceStr: this.nums,\r\n\t\t\t\t\t\t\t\t\t\t\tpackage: 'prepay_id=' + res.rs\r\n\t\t\t\t\t\t\t\t\t\t\t\t.prepay_id,\r\n\t\t\t\t\t\t\t\t\t\t\tsignType: 'MD5',\r\n\t\t\t\t\t\t\t\t\t\t\tpaySign: sign.toUpperCase(),\r\n\t\t\t\t\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\turl: 'https://zhijianlw.com/api.php/index/set_agent_cardbag',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tserial_number: that\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.outTradeNo\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'content-type': \"application/x-www-form-urlencoded\" //自定义请求头信息\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// 成功回调\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess: (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tres) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.log(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'微信成功回调',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: '支付成功',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.setStorageSync(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'coupon',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.setStorageSync(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'coupon_keynum',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.setStorageSync(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'coupon_number',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.setStorageSync(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'coupon_money',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\turl: '../shopping/payment?ordernumber='+ordernumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tfail(res) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: '支付失败',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\tthat.commodity = ''\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\t\ttitle: res.msg ? res.msg : \"支付错误\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 微信支付\r\n\t\t\twx: function(e) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tlet cardbag_number = this.cardbag_number;\r\n\t\t\t\t// let  cardbag_number = \"202009251006539216673724\"\r\n\t\t\t\tlet ip = this.ip;\r\n\t\t\t\tlet openid = this.openid;\r\n\t\t\t\tvar data = '{\"serial_number\":\"' + that.outTradeNo + '\",\"ip\":\"' + ip + '\",\"openid\":\"' + openid +\r\n\t\t\t\t\t'\",\"type\":\"cardbag\"}';\r\n\t\t\t\tvar action = 'add_paylog_to_wx';\r\n\t\t\t\tconsole.log(data)\r\n\t\t\t\tthis.$utils.post(action, data).then(res => {\r\n\t\t\t\t\tconsole.log('获取参数', res)\r\n\t\t\t\t\tvar serial_number = res.rs.serial_number;\r\n\t\t\t\t\tlet arr = [];\r\n\r\n\t\t\t\t\tconst date = {\r\n\t\t\t\t\t\t// 合作方标识\r\n\t\t\t\t\t\tappId: 'appId=wx9c53a99b078435f5',\r\n\t\t\t\t\t\ttimeStamp: 'timeStamp=' + this.timeStamp,\r\n\t\t\t\t\t\tnonceStr: 'nonceStr=' + this.nums,\r\n\t\t\t\t\t\tpackage: 'package=prepay_id=' + res.rs.prepay_id,\r\n\t\t\t\t\t\tsignType: 'signType=MD5',\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\tconsole.log('拼接前', date)\r\n\r\n\t\t\t\t\tfor (let i in date) {\r\n\t\t\t\t\t\tarr.push(date[i])\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tarr.sort();\r\n\r\n\t\t\t\t\tlet stringA = '';\r\n\r\n\t\t\t\t\t// 拼接字符串\r\n\t\t\t\t\tfor (let i in arr) {\r\n\t\t\t\t\t\tif (i == arr.length - 1) {\r\n\t\t\t\t\t\t\tstringA += arr[i];\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tstringA += arr[i] + '&';\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// let stringSignTemp = stringA + '&key='  + '730ed24645b1a54e82a3d2bcff63db37';\r\n\t\t\t\t\tlet stringSignTemp = stringA + '&key=dEEHizJM4cZtBy3Dlj4gVKwHMlM32IPv';\r\n\r\n\t\t\t\t\tconsole.log('拼接后', stringSignTemp)\r\n\t\t\t\t\tlet sign = MD5.hexMD5(stringSignTemp);\r\n\t\t\t\t\tconsole.log(sign)\r\n\r\n\r\n\t\t\t\t\tuni.hideLoading();\r\n\r\n\t\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\t\ttimeStamp: String(this.timeStamp),\r\n\t\t\t\t\t\tnonceStr: this.nums,\r\n\t\t\t\t\t\tpackage: 'prepay_id=' + res.rs.prepay_id,\r\n\t\t\t\t\t\tsignType: 'MD5',\r\n\t\t\t\t\t\tpaySign: sign.toUpperCase(),\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\t\turl: 'https://zhijianlw.com/api.php/index/set_agent_cardbag',\r\n\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\tserial_number: that.outTradeNo\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t\t\t'content-type': \"application/x-www-form-urlencoded\" //自定义请求头信息\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\t\t\t\t// 成功回调\r\n\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\tconsole.log('微信成功回调', res)\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\ttitle: '微信支付',\r\n\t\t\t\t\t\t\t\tcontent: '支付成功',\r\n\t\t\t\t\t\t\t\tcancelText: '查看订单',\r\n\t\t\t\t\t\t\t\tconfirmText: '立即赠送',\r\n\t\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log('点击立即赠送')\r\n\t\t\t\t\t\t\t\t\t\tthat.zengsong()\r\n\t\t\t\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log('点击查看详情')\r\n\t\t\t\t\t\t\t\t\t\tlet cardbag_number = that.cardbag_number;\r\n\t\t\t\t\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\t\t\t\t\turl: '../order/order'\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail(res) {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '支付失败',\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tthat.commodity = ''\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\r\n\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//配送方式\r\n\t\t\tdeliveryModeChange: function(e) {\r\n\t\t\t\tconsole.log('picker发送选择改变，携带值为', e.target.value)\r\n\t\t\t\tthis.delivery_mode_index = e.target.value\r\n\t\t\t},\r\n\t\t\topen() {\r\n\t\t\t\tthis.$refs.popup.open('bottom')\r\n\t\t\t},\r\n\t\t\tpay() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: './payment'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//领取优惠券\r\n\t\t\tcheck: function(e) {\r\n\t\t\t\tthis.couponList.forEach(item => {\r\n\t\t\t\t\tthis.$set(item, 'gou', \"\")\r\n\t\t\t\t})\r\n\t\t\t\tfor (var i = 0; i < this.couponList.length; i++) {\r\n\t\t\t\t\tif (e.currentTarget.dataset.id == this.couponList[i].id) {\r\n\t\t\t\t\t\tthis.couponList[i].gou = 1\r\n\t\t\t\t\t\tthis.money = this.couponList[i].coupon_type_info.money\r\n\t\t\t\t\t\tthis.coupon_number = this.couponList[i].coupon_number\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.couponList[i].gou = 0\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(this.couponList)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t@import url('../../static/font/iconfont.css');\r\n\t@import '@/common/must.css';\r\n\t.must{\r\n\t\tpadding-bottom: 120rpx;\r\n\t}\r\n\t.must-address {\r\n\t\theight: auto;\r\n\t\tpadding: 40rpx 100rpx 30rpx 56rpx;\r\n\t\tbackground-color: #fff;\r\n\t\tmargin-top: 20rpx;\r\n\t\tposition: relative;\r\n\t}\r\n\t\r\n\t.must-address .icon {\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #333;\r\n\t\tposition: absolute;\r\n\t\tright: 32rpx;\r\n\t\ttop: 50%;\r\n\t\ttransform: translateY(-50%);\r\n\t}\r\n\t\r\n\t.must-address-name {\r\n\t\tposition: static;\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #333;\r\n\t\tfont-weight: bold;\r\n\t\tline-height: 1.8em;\r\n\t\tmargin-bottom: 10rpx;\r\n\t}\r\n\t\r\n\t.must-address-add {\r\n\t\tposition: static;\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #666;\r\n\t\tline-height: 1.8em;\r\n\t}\r\n\t.fenshus{\r\n\t\twidth: 100%;\r\n\t\tbackground-color: #fff;\r\n\t\theight: 100rpx;\r\n\t\tline-height: 100rpx;\r\n\t\ttext-align: right;\r\n\t\tpadding: 0 38rpx;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\t\r\n\t.circle{\r\n\t\tposition: static;\r\n\t\tmargin-left: 10rpx;\r\n\t}\r\n\t.icon-ico2{\r\n\t\tcolor: #999\r\n\t}\r\n\t.message-jiantou1{\r\n\t\tdisplay: inline-block;\r\n\t\tcolor: #999;\r\n\t\tmargin: 0 0 0 6rx;\r\n\t\tfont-size: 28rpx;\r\n\t}\r\n\t.hj{\r\n\t\tpadding: 32rpx 64rpx;\r\n\t\ttext-align: right;\r\n\t}\r\n\t.hj .sum-price{\r\n\t\tmargin-right: 0;\r\n\t}\r\n\t\r\n\t.heji{\r\n\t\tdisplay: flex;\r\n\t\tpadding: 12rpx 35rpx;\r\n\t\tbottom: 0!important;\r\n\t\talign-items: center;\r\n\t\theight: auto!important;\r\n\t}\r\n\t.pay {\r\n\t/* \tposition: absolute;\r\n\t\tleft: 408rpx;\r\n\t\ttop: -22rpx; */\r\n\t\ttext-align: right;\r\n\t\tflex: 1;\r\n\t\twidth: 60%;\r\n\t\tdisplay: inline-block;\r\n\t}\r\n\t.pay button{\r\n\t\theight: 80rpx;\r\n\t\tfloat: right;\r\n\t\tline-height: 80rpx;\r\n\t\tborder-radius: 40rpx;\r\n\t\twidth: 278rpx;\r\n\t\ttext-align: center;\r\n\t\tmargin: 0;\r\n\t}\r\n\t.must-bottom-price{\r\n\t\tfont-size: 44rpx;\r\n\t\tposition: static;\r\n\t}\r\n\t\r\n\r\n\t.delivery {\r\n\t\tmargin-top: 200rpx;\r\n\t}\r\n\r\n\t.pick {\r\n\t\tmargin-top: 198rpx;\r\n\t}\r\n\r\n\t.wucou {\r\n\t\t/* display: flex; */\r\n\t\t/* justify-content: center; */\r\n\t\tmargin: 60rpx 0;\r\n\t\t/* color: #999999; */\r\n\t}\r\n\t.heji{\r\n\t\tposition: fixed;\r\n\t\tbottom: 10rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\t.must-address{\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\t.zonghe{\r\n\t\tposition: absolute;\r\n\t\tmargin-top: 320rpx;\r\n\t}\r\n\t.youhuijuan{\r\n\t\ttext-align: center;\r\n\t\theight: auto;\r\n\t\tpadding-bottom: 20rpx;\r\n\t}\r\n\t.jiage{\r\n\t\tfont-size: 15px;\r\n\t\tfont-family: \"苹方 中等\";\r\n\t\tcolor: #333333;\r\n\t}\r\n\t.sure-btn{\r\n\t\twidth: 500rpx;\r\n\t\tborder-radius: 50px;\r\n\t\t/* position: absolute; */\r\n\t\t/* bottom: 20rpx; */\r\n\t\t/* left: 130rpx; */\r\n\t}\r\n\t\r\n\t.juan-wrap{\r\n\t\tpadding: 26rpx;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t.juan-list{\r\n\t\tbox-shadow: 0px 0px 4px 0px rgba(231, 231, 231, 0.5);\r\n\t\tmargin-bottom: 20rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tborder-radius: 20rpx;\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\t.juan-list-left{\r\n\t\ttext-align: left;\r\n\t\tborder-right: 1rpx dotted #FFCAC3;\r\n\t\tposition: relative;\r\n\t\tflex:1;\r\n\t\tpadding: 26rpx 20rpx 26rpx 32rpx;\r\n\t}\r\n\t.juan-list-left .z-circle{\r\n\t\tposition: absolute;\r\n\t\tdisplay: inline-block;\r\n\t\tborder-radius: 50%;\r\n\t\twidth: 40rpx;\r\n\t\tbackground-color: #FAFAFA;\r\n\t\theight: 40rpx;\r\n\t}\r\n\t.z-box{\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 30rpx;\r\n\t}\r\n\t.juan-list-left .z-circle-top{\r\n\t\ttop: -20rpx;\r\n\t\tright: -20rpx;\r\n\t}\r\n\t.juan-list-left .z-circle-bottom{\r\n\t\tbottom: -20rpx;\r\n\t\tright: -20rpx;\r\n\t}\r\n\t.juan-list-left .juan-list-left-top{\r\n\t\tpadding-right: 40rpx;\r\n\t}\r\n\t.juan-list-left .juan-list-left-top .z-price-logo{\r\n\t\tcolor: #FB503D;\r\n\t\tfont-size: 28rpx;\r\n\t\tvertical-align: bottom;\r\n\t\tdisplay: inline-block;\r\n\t}\r\n\t.juan-list-left .juan-list-left-top .z-price{\r\n\t\tcolor: #FB503D;\r\n\t\tfont-size: 50rpx;\r\n\t\tvertical-align: bottom;\r\n\t\tdisplay: inline-block;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\t.juan-list-left .juan-list-left-top .z-man,.juan-list-left .juan-list-left-center .z-quan{\r\n\t\tcolor: #666;\r\n\t\tfont-size: 28rpx;\r\n\t\tmargin-top: 20rpx;\r\n\t}\r\n\t.juan-list-left .juan-list-left-center .z-moth{\r\n\t\tcolor: #333;\r\n\t\tfont-size: 36rpx;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\t.juan-list-left .juan-list-left-center{\r\n\t\tcolor: #666;\r\n\t\tfont-size: 28rpx;\r\n\t\tvertical-align: bottom;\r\n\t\ttext-align: left;\r\n\t\tflex: 1;\r\n\t}\r\n\t.juan-list-left .juan-list-left-bottom{\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999;\r\n\t\ttext-align: left;\r\n\t}\r\n\t.juan-list-right{\r\n\t\ttext-align: center;\r\n\t\theight: 100%;\r\n\t\twidth: 212rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding-right: 20rpx;\r\n\t}\r\n\t.juan-list-right .checks, .juan-list-right .checked{\r\n\t\tposition: static;\r\n\t\tmargin: 0;\r\n\t}\r\n</style>\n","import mod from \"-!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./must.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./must.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1628904723081\n      var cssReload = require(\"D:/软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}