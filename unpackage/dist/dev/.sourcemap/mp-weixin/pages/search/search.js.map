{"version":3,"sources":["uni-app:///main.js","webpack:////Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/search/search.vue?dd06","webpack:////Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/search/search.vue?b5e5","webpack:////Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/search/search.vue?8534","webpack:////Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/search/search.vue?a13d","uni-app:///pages/search/search.vue","webpack:////Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/search/search.vue?e0f1"],"names":["createPage","Page","renderjs","component","options","__file","components","uniPopup","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBACA,sBACA,4C,mDACAA,EAAWC,a;;;;2DCHX,2QACIC,EADJ,qMASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,0BACZ,aAAAF,E;;;;2GCvBf,2yC;;;;2GCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,SAAU,WACR,OAAO,4NAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DCjCvB,24BAAo1B,eAAG,G;;;;0ICsFv1B,0CAEA,8B,6jCACA,CACA,YACA,oBAEA,KAJA,WAKA,OACA,OACA,iBACA,qBACA,cACA,aACA,aACA,iBACA,SACA,YACA,YACA,aACA,OACA,YACA,eACA,iBACA,YACA,UACA,aACA,iBAGA,OA3BA,SA2BA,GACA,iEACA,eACA,IACA,kBACA,qBACA,gBACA,kBACA,wBACA,wBACA,+BACA,gBACA,kBACA,yBAIA,WAEA,mBACA,WACA,qBACA,6CACA,wBAIA,yBACA,WACA,qBACA,6CACA,gCACA,uBACA,uBACA,mCAGA,6BACA,uBACA,uBACA,0BACA,MAEA,yBACA,wBAEA,SACA,kBACA,kCACA,GASA,0BACA,YAEA,kBACA,WACA,kCACA,0DACA,6DACA,iBACA,sBACA,oBACA,eACA,oBACA,wBArBA,aACA,YACA,mBAwBA,sBACA,sCAEA,0BACA,YAEA,kBACA,WACA,kCACA,0DACA,6DACA,iBACA,sBACA,oBACA,eACA,oBACA,wBAKA,yBACA,0BACA,8DAEA,yBACA,gBACA,YACA,gBAGA,yBACA,oCACA,oBACA,uDACA,iBACA,kCACA,wBAEA,uBACA,uDACA,oCACA,oBACA,kCAEA,OA3EA,SA2EA,KAGA,6BACA,+CACA,kCACA,wBAEA,eAnFA,SAmFA,cACA,OACA,kBAGA,WACA,gBACA,WACA,4BACA,kBACA,gCACA,wBACA,iBACA,eACA,uBACA,yBACA,0BACA,+BAEA,6CAgBA,GAfA,MACA,cACA,gBACA,WACA,mBAEA,eACA,mCACA,eAEA,WAKA,oBACA,+BACA,cACA,uCACA,CACA,KACA,gBACA,sBAEA,KACA,gBACA,sBAEA,oCAMA,YAzIA,WA0IA,YACA,kBACA,kEAEA,aA9IA,SA8IA,GACA,WACA,mBAEA,WAlJA,SAkJA,GACA,wBAEA,kCACA,GAOA,WACA,iBACA,sBACA,oBACA,eACA,oBACA,wBAZA,aACA,YACA,oBAaA,UACA,kBACA,oCAEA,sBACA,wCAEA,sBACA,sB;;;;2DChVA,wvCAAisC,eAAG,G","file":"pages/search/search.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/search/search.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./search.vue?vue&type=template&id=4cedc0c6&\"\nvar renderjs\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./search.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/search/search.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=template&id=4cedc0c6&\"","var components\ntry {\n  components = {\n    uniPopup: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup/uni-popup\" */ \"@/uni_modules/uni-popup/components/uni-popup/uni-popup.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<view class=\"post-search-top-fixed\">\n\t\t\t<view class=\"post-search-top flex-vertically\">\n\t\t\t\t<view class=\"search-text flex-vertically\" @click=\"searchKeword(Key)\">\n\t\t\t\t\t<icon type=\"search\" size=\"14\" class=\"search-icon\"/>\n\t\t\t\t\t<input v-if=\"isShowView == 1\" type=\"text\" name=\"input\" confirm-type=\"search\" focus @confirm=\"search\" @input=\"onKeyInput\" v-model=\"Key\" placeholder=\"搜索热门礼物\">\n\t\t\t\t\t<view v-else class=\"search-result-view\" @click.stop=\"clearKeword\">\n\t\t\t\t\t\t<view class=\"search-result-text\">{{Key}}</view>\n\t\t\t\t\t\t<image class=\"search-result-img\" src=\"../../static/icon_close_reason.png\"></image>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"post-search-right\" @click=\"search\">搜索</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<view class=\"post-search-content\" v-if=\"hasProduct\">\n\t\t\t<view class=\"post-search-title flex-between\" v-show=\"hasHistory\">\n\t\t\t\t<view class=\"post-search-title-left\">历史搜索</view>\n\t\t\t\t<view class=\"search-title-img\" @click=\"daleteHistory\"><image class=\"img\" src=\"../../static/delete.png\" mode=\"\"></image></view>\n\t\t\t</view>\n\t\t\t<view class=\"search-ul\" v-show=\"hasHistory\">\n\t\t\t\t<view class=\"post-search-li\" v-for=\"item in historySearchList\" @click=\"searchKey\" :data-itemkey=\"item\" :key=\"index\">{{ item }}</view>\n\t\t\t</view>\n\t\t\t<view class=\"post-search-title flex-between\" style=\"margin-top: 20rpx;\" v-show=\"hasHot\">\n\t\t\t\t<view class=\"post-search-title-left\">热门搜索</view>\n\t\t\t</view>\n\t\t\t<view class=\"search-ul\" v-show=\"hasHot\">\n\t\t\t\t<view class=\"post-search-li\" v-for=\"item in hotSearchList\" @click=\"searchKey\" :data-itemkey=\"item\" :key=\"index\">{{ item }}</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<view v-else style=\"padding-top: 200rpx;\">\n\t\t\t<view class=\"search-type\">\n\t\t\t\t<view class=\"search-type-content flex-between\" style=\"align-items: center;\">\n\t\t\t\t\t<view class=\"search-type-nav\" data-index='0' @click=\"clickHandler\" :data-conditionkey=\"recommendData.key\">\n\t\t\t\t\t\t<view class=\"search-type-title\">{{recommendData.name}}</view>\n\t\t\t\t\t\t<image class=\"search-type-img\" v-if=\"indexCurrent == 0\" src=\"../../static/icon_current_slices.png\"></image>\n\t\t\t\t\t\t<view class=\"search-type-empty\" v-else></view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"search-type-nav\" data-index='1' @click=\"clickHandler\" :data-conditionkey=\"salesData.key\">\n\t\t\t\t\t\t<view class=\"search-type-title\">{{salesData.name}}</view>\n\t\t\t\t\t\t<image class=\"search-type-img\" v-if=\"indexCurrent == 1\" src=\"../../static/icon_current_slices.png\"></image>\n\t\t\t\t\t\t<view class=\"search-type-empty\" v-else></view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"search-type-nav-price\" style=\"flex-direction: row;\" data-index='2' @click=\"clickPopUp\" :data-conditionkey=\"priceData.key\">\n\t\t\t\t\t\t<view class=\"search-type-nav-ar\" style=\"flex-direction: column;\">\n\t\t\t\t\t\t\t<view class=\"search-type-title\">{{priceData.name}}</view>\n\t\t\t\t\t\t\t<image class=\"search-type-img\" v-if=\"indexCurrent == 2\" src=\"../../static/icon_current_slices.png\"></image>\n\t\t\t\t\t\t\t<view class=\"search-type-empty\" v-else></view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<image class=\"search-type-img-ar\" src=\"../../static/drop_down_arrow.png\"></image>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view v-if=\"postList.length > 0\">\n\t\t\t\t<search-product :postList=\"postList\" :state=\"state\"></search-product>\n\t\t\t</view>\n\t\t\t<view class=\"post-bottom\" v-if=\"isAll && postList.length > 0\">\n\t\t\t\t<view class=\"post-bottom-line\"></view>\n\t\t\t\t<view class=\"post-bottom-text\">我是有底线的</view>\n\t\t\t\t<view class=\"post-bottom-line\"></view>\n\t\t\t</view>\n\t\t\t<view class=\"apply-success-view\" v-if=\"postList.length==0\">\n\t\t\t\t<image src=\"https://zhijianlw.com/static/web/img/empty_page_xm.png\" class=\"apply-success-img\"></image>\n\t\t\t\t<view class=\"apply-success-text\">当前搜索暂无数据～</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<view class=\"post-scroll-top\" @click=\"goToScrollTop\">\n\t\t\t<image class=\"post-scroll-top-img\" src=\"https://zhijianlw.com/static/web/img/post-scroll-top-img.png\" mode=\"widthFix\"></image>\n\t\t</view>\n\t\t\n\t\t<!-- 价格弹框\t -->\n\t\t<uni-popup ref=\"popupSearch\" type=\"top\" :animation=\"false\" :maskClick=\"true\" @change=\"change\">\n\t\t\t<view class=\"popup-search\">\n\t\t\t\t<view class=\"popup-search-item\" @click=\"bindPickerChange\" v-for=\"(item, index) in rsdataList\" :key=\"index\" :data-pricekey=\"item.price_key\">\n\t\t\t\t\t<view class=\"popup-search-title-default\" :class=\"[pricekey==item.price_key?'popup-search-title':'']\">{{item.price_name}}</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</uni-popup>\n\t</view>\n</template>\n\n<script>\n\timport config from '../../common/config.js';\n\timport searchProductList from \"@/components/own-components/search-product.vue\";\n\timport sr from 'sr-sdk-wxapp';\n\texport default {\n\t\tcomponents:{\n\t\t\t\"search-product\": searchProductList,\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tKey: \"\",\n\t\t\t\thotSearchList:[],\n\t\t\t\thistorySearchList:[],\n\t\t\t\trsdataList: [],\n\t\t\t\tpriceData: '',\n\t\t\t\tsalesData: '',\n\t\t\t\trecommendData: '',\n\t\t\t\tisAll: false,\n\t\t\t\tpageSize: 10,\n\t\t\t\tpageIndex: 1,\n\t\t\t\tpostNumber: 0,\n\t\t\t\turl:\"\",\n\t\t\t\tpostList: [],\n\t\t\t\tindexCurrent: 0,\n\t\t\t\tconditionkey: '1',\n\t\t\t\tpricekey: '',\n\t\t\t\tkeynum: \"\",\n\t\t\t\tisShowView: 1,\n\t\t\t\tcoupon_type: ''\n\t\t\t} \n\t\t},\n\t\tonLoad(options) {\n\t\t\tthis.historySearchList = uni.getStorageSync(\"historySearchList\")||[];\n\t\t\tconsole.log(options)\n\t\t\tif(options){\n\t\t\t\tif(options.keynum && options.name){\n\t\t\t\t\tthis.keynum = options.keynum;\n\t\t\t\t\tthis.Key = options.name;\n\t\t\t\t\tthis.isShowView = 2;\n\t\t\t\t\tthis.getProductList(1);\n\t\t\t\t} else if(options.coupon_type && options.name){\n\t\t\t\t\tthis.coupon_type = options.coupon_type;\n\t\t\t\t\tthis.Key = options.name;\n\t\t\t\t\tthis.isShowView = 2;\n\t\t\t\t\tthis.getProductList(1);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tlet that = this;\n\t\t\t//热门 历史搜索\n\t\t\tlet action = \"search_hot_key\";\n\t\t\tlet controller = 'search';\n\t\t\tlet data = JSON.stringify({});\n\t\t\tthis.$utils.postNew(action,data,controller).then(res=>{\n\t\t\t\tthat.hotSearchList = res.rs;\n\t\t\t})\n\t\t\t\n\t\t\t//搜索条件\n\t\t\tlet action1 = \"serach_condition\";\n\t\t\tlet controller1 = 'search';\n\t\t\tlet data1 = JSON.stringify({});\n\t\t\tthis.$utils.postNew(action1,data1,controller1).then(res=>{\n\t\t\t\tthat.rsdataList = res.rs.price.rs_data;\n\t\t\t\tthat.priceData = res.rs.price;\n\t\t\t\tthat.salesData = res.rs.sales;\n\t\t\t\tthat.recommendData = res.rs.recommend;\n\t\t\t})\n\t\t},\n\t\tonPullDownRefresh:function(){\n\t\t\tthis.getProductList(1);\n\t\t\tsetTimeout(()=>{\n\t\t\t\tuni.stopPullDownRefresh();\n\t\t\t}, 500);\n\t\t},\n\t\tonReachBottom:function(){\n\t\t\tthis.getProductList(2);\n\t\t},\n\t\tmethods: {\n\t\t\tsearch:function(){\n\t\t\t\tlet Key = this.Key.replace(/[ ]/g,\"\");\n\t\t\t\tif(!Key){\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon:\"none\",\n\t\t\t\t\t\ttitle: \"请输入搜索内容\"\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//新增腾讯有数\n\t\t\t\tsr.track('search', {\n\t\t\t\t    \"keyword\": Key,\n\t\t\t\t});\n\t\t\t\tthis.isShowView = 2;\n\t\t\t\tthis.Key = Key;\n\t\t\t\tthis.historySearchList.unshift(Key);\n\t\t\t\tthis.historySearchList = [...new Set(this.historySearchList)];\n\t\t\t\tuni.setStorageSync(\"historySearchList\", this.historySearchList);\n\t\t\t\tthis.pricekey = \"\";\n\t\t\t\tthis.conditionkey = \"1\";\n\t\t\t\tthis.indexCurrent = 0;\n\t\t\t\tthis.keynum = \"\";\n\t\t\t\tthis.coupon_type = \"\";\n\t\t\t\tthis.getProductList(1);\n\t\t\t\t// uni.navigateTo({\n\t\t\t\t// \turl:'../product-list/product-list?type=search&key=' + Key\n\t\t\t\t// })\n\t\t\t},\n\t\t\tsearchKey:function(e) {\n\t\t\t\tlet itemkey = e.currentTarget.dataset.itemkey;\n\t\t\t\t//新增腾讯有数\n\t\t\t\tsr.track('search', {\n\t\t\t\t    \"keyword\": itemkey,\n\t\t\t\t});\n\t\t\t\tthis.isShowView = 2;\n\t\t\t\tthis.Key = itemkey;\n\t\t\t\tthis.historySearchList.unshift(itemkey);\n\t\t\t\tthis.historySearchList = [...new Set(this.historySearchList)];\n\t\t\t\tuni.setStorageSync(\"historySearchList\", this.historySearchList);\n\t\t\t\tthis.pricekey = \"\";\n\t\t\t\tthis.conditionkey = \"1\";\n\t\t\t\tthis.indexCurrent = 0;\n\t\t\t\tthis.keynum = \"\";\n\t\t\t\tthis.coupon_type = \"\";\n\t\t\t\tthis.getProductList(1);\n\t\t\t\t// uni.navigateTo({\n\t\t\t\t// \turl:'../product-list/product-list?type=search&key=' + Key\n\t\t\t\t// })\n\t\t\t},\n\t\t\tdaleteHistory: function(){\n\t\t\t\tthis.historySearchList=[];\n\t\t\t\tuni.setStorageSync(\"historySearchList\", this.historySearchList);\n\t\t\t},\n\t\t\tgoToScrollTop: function(){\n\t\t\t\tuni.pageScrollTo({\n\t\t\t\t\tscrollTop: 0, \n\t\t\t\t\tduration: 1000\n\t\t\t\t})\n\t\t\t},\n\t\t\tclickHandler: function(e){\n\t\t\t\tlet index = e.currentTarget.dataset.index;\n\t\t\t\tthis.indexCurrent = index;\n\t\t\t\tthis.conditionkey = e.currentTarget.dataset.conditionkey;\n\t\t\t\tthis.pricekey = \"\";\n\t\t\t\tthis.$refs['popupSearch'].close();\n\t\t\t\tthis.getProductList(1);\n\t\t\t},\n\t\t\tclickPopUp: function(e){\n\t\t\t\tthis.conditionkey = e.currentTarget.dataset.conditionkey;\n\t\t\t\tlet index = e.currentTarget.dataset.index;\n\t\t\t\tthis.indexCurrent = index;\n\t\t\t\tthis.$refs['popupSearch'].open();\n\t\t\t},\n\t\t\tchange(e) {\n\t\t\t\n\t\t\t},\n\t\t\tbindPickerChange: function(e) {\n\t\t\t\tthis.pricekey = e.currentTarget.dataset.pricekey;\n\t\t\t\tthis.$refs['popupSearch'].close();\n\t\t\t\tthis.getProductList(1);\n\t\t\t},\n\t\t\tgetProductList(typeNumber){\n\t\t\t\tif(typeNumber == 1){\n\t\t\t\t\tthis.pageIndex = 1;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tlet that = this;\n\t\t\t\tlet action = \"search_list\";\n\t\t\t\tlet controller = 'search';\n\t\t\t\tlet level = uni.getStorageSync(\"level\");\n\t\t\t\tlet data = JSON.stringify({\n\t\t\t\t\tcondition_key:this.conditionkey,\n\t\t\t\t\tprice_key:this.pricekey,\n\t\t\t\t\tkeyword:this.Key,\n\t\t\t\t\tmember_level: level,\n\t\t\t\t\tpageSize: this.pageSize,\n\t\t\t\t\tpageIndex: this.pageIndex,\n\t\t\t\t\tgoodsclassify: this.keynum,\n\t\t\t\t\tcoupon_type: this.coupon_type\n\t\t\t\t});\n\t\t\t\tthis.$utils.postNew(action,data,controller).then(res=>{\n\t\t\t\t\tif(typeNumber == 1){\n\t\t\t\t\t\tthat.pageIndex++;\n\t\t\t\t\t\tthat.postList = res.rs;\n\t\t\t\t\t\tthat.isAll = false;\n\t\t\t\t\t\tthis.goToScrollTop();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(res.rs.length>0){\n\t\t\t\t\t\t\tthat.postList = that.postList.concat(res.rs);\n\t\t\t\t\t\t\tthat.pageIndex++;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthat.isAll = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// 腾讯有数\n\t\t\t\t\tif(res.rs && res.rs.length > 0){\n\t\t\t\t\t\tfor (var i = 0; i < res.rs.length; i++) {\n\t\t\t\t\t\t\tlet item = res.rs[i];\n\t\t\t\t\t\t\tsr.track('expose_sku_component',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t   \"sku\": {\n\t\t\t\t\t\t\t\t\t \"sku_id\": item.sku+'', // 若商品无sku_id时，可传spu_id信息\n\t\t\t\t\t\t\t\t\t \"sku_name\": item.goodsname // 若商品无sku_name时，可传spu_name信息\n\t\t\t\t\t\t\t\t   },\n\t\t\t\t\t\t\t\t   \"spu\": {\n\t\t\t\t\t\t\t\t\t\t\"spu_id\": item.sku+'', // 若商品无spu_id时，可传sku_id信息\n\t\t\t\t\t\t\t\t\t\t\"spu_name\": item.goodsname // 若商品无spu_name时，可传sku_name信息\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t   \"primary_image_url\": item.head_img\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tclearKeword() {\n\t\t\t\tthis.Key = '';\n\t\t\t\tthis.isShowView = 1;\n\t\t\t\tthis.historySearchList = uni.getStorageSync(\"historySearchList\")||[];\n\t\t\t},\n\t\t\tsearchKeword(Key) {\n\t\t\t\tthis.Key = Key;\n\t\t\t\tthis.isShowView = 1;\n\t\t\t},\n\t\t\tonKeyInput(e){\n\t\t\t\tthis.Key = e.detail.value;\n\t\t\t\t\n\t\t\t\tlet Key = this.Key.replace(/[ ]/g,\"\");\n\t\t\t\tif(!Key){\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon:\"none\",\n\t\t\t\t\t\ttitle: \"请输入搜索内容\"\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tthis.Key = Key;\n\t\t\t\tthis.pricekey = \"\";\n\t\t\t\tthis.conditionkey = \"1\";\n\t\t\t\tthis.indexCurrent = 0;\n\t\t\t\tthis.keynum = \"\";\n\t\t\t\tthis.coupon_type = \"\";\n\t\t\t\tthis.getProductList(1);\n\t\t\t}\n\t\t},\n\t\tcomputed:{\n\t\t\thasHot: function(){\n\t\t\t\treturn this.hotSearchList.length>0;\n\t\t\t},\n\t\t\thasHistory: function(){\n\t\t\t\treturn this.historySearchList.length>0;\n\t\t\t},\n\t\t\thasProduct: function(){\n\t\t\t\treturn this.Key == '';\n\t\t\t}\n\t\t}\n\t\t\n\t}\n</script>\n\n<style>\n\tpage{\n\t\tbackground: #FFFFFF;\n\t}\n\t.search-type {\n\t    /* border-top: 2rpx solid #F4F5F7; */\n\t    height: 100rpx;\n\t    background-color: #FFF;\n\t    padding-bottom: 10rpx;\n\t    padding-top: 10rpx;\n\t    position: fixed;\n        top: 50px;\n        z-index: 999;\n        width: 100%;\n\t}\n\t.search-type-content {\n\t    width: 600rpx;\n\t    margin: 0 auto;\n\t    height: 80rpx;\n\t    /* padding-top: 21rpx; */\n\t}\n\t\n\t.search-type-nav-price {\n\t    display: flex;\n\t\tjustify-content: center;\n\t\tflex-direction: column;\n\t}\n\t.search-type-nav {\n\t    display: flex;\n\t    align-items: center;\n\t\tjustify-content: center;\n\t\tflex-direction: column;\n\t}\n\t.search-type-nav-ar{\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\t\n\t}\n\t.search-type-title{\n\t\tfont-size: 30rpx;\n\t\tcolor: #333333;\n\t\tline-height: 42rpx;\n\t}\n\t.search-type-img{\n\t\twidth: 31rpx;\n\t\theight: 20rpx;\n\t}\n\t.search-type-img-ar{\n\t\twidth: 30rpx;\n\t\theight: 30rpx;\n\t\tmargin-left: 5rpx;\n\t\tmargin-top: 6rpx;\n\t}\n\t.search-type-empty{\n\t\twidth: 31rpx;\n\t\theight: 20rpx;\n\t}\n\t.post-search-top-fixed{\n\t\tposition: fixed;\n\t\tbackground: #FFFFFF;\n\t\ttop: 0;\n\t\tz-index: 999;\n\t\twidth: 100%;\n\t}\n\t.post-search-top{\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tpadding: 0rpx 30rpx 0rpx 24rpx;\n\t\theight: 100rpx;\n\t\t/* width: 696rpx; */\n\t}\n\t.search-ul{\n\t\tdisplay: flex;\n\t\tjustify-content: start;\n\t\tflex-wrap: wrap;\n\t}\n\t.post-search-li{\n\t\tpadding: 0rpx 26rpx;\n\t\tmargin: 0rpx 20rpx 20rpx;\n\t\tmargin-left: 0rpx;\n\t\theight: 46rpx;\n\t\tbackground: #F5F5F5;\n\t\tborder-radius: 23rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tcolor: #666666;\n\t\tfont-size: 24rpx;\n\t} \n\t.search-text{\n\t\twidth: 607rpx;\n\t\theight: 58rpx;\n\t\tborder: 4rpx solid #F5F5F5;\n\t\tmargin: 0;\n\t\tbackground-color: #F5F5F5;\n\t}\n\t.search-text input{\n\t\tpadding: 0;\n\t\twidth: 100%;\n\t\tfont-size: 24rpx;\n\t}\n\t.search-icon{\n\t\tcolor: #FF0137;\n\t\tmargin-left: 20rpx;\n\t\tmargin-right: 20rpx;\n\t}\n\t.post-search-right{\n\t\theight: 42rpx;\n\t\tfont-size: 30rpx;\n\t\tcolor: #333333;\n\t\tline-height: 42rpx;\n\t}\n\t\n\t.post-search-content{\n\t\twidth: 696rpx;\n\t\tmargin: 0rpx auto 23rpx auto;\n\t\tpadding-top: 120rpx;\n\t}\n\t\n\t.post-search-title-left{\n\t\tfont-size: 30rpx;\n\t\tcolor: #333333;\n\t}\n\t\n\t.post-search-title{\n\t\twidth: 100%;\n\t    margin-bottom: 26rpx;\n\t}\n\t\n\t.post-list {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tbackground: #F8F8F8;\n\t\tpadding: 20rpx 25rpx;\n\t}\n\t\n\t.post-bottom{\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tcolor: #B3B3B3;\n\t\ttext-align: center;\n\t\tpadding-top: 24rpx;\n\t\tpadding-bottom: 48rpx;\n\t\tjustify-content: center;\n\t\tbackground: #F8F8F8;\n\t}\n\t.post-bottom-text{\n\t\tfont-size: 24rpx;\n\t\tcolor: #B3B3B3;\n\t\tline-height: 33rpx;\n\t\tmargin: 0rpx 18rpx;\n\t}\n\t.post-bottom-line{\n\t\twidth: 240rpx;\n\t\theight: 1px;\n\t\tbackground: #E0E0E0;\n\t}\n\t\n\t.post-scroll-top{\n\t\tposition: fixed;\n\t\tbottom: 200rpx;\n\t\tright: 35rpx;\n\t\theight: 90rpx;\n\t\twidth: 90rpx;\n\t}\n\t\n\t.post-scroll-top-img{\n\t\theight: 90rpx;\n\t\twidth: 90rpx;\n\t}\n\t\n\t.apply-success-view{\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t}\n\t.apply-success-img{\n\t\twidth: 255rpx;\n\t\theight: 180rpx;\n\t\tmargin-top: 172rpx;\n\t}\n\t.apply-success-text{\n\t\tpadding: 60rpx 80rpx;\n\t\ttext-align: center;\n\t\tfont-size: 28rpx;\n\t\tcolor: #666666;\n\t\tline-height: 48rpx;\n\t}\n\t\n\t.popup-search{\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tbackground: #FFFFFF;\n\t\t/* border-radius: 10rpx 10rpx 3rpx 3rpx; */\n\t\twidth: 234rpx;\n\t\t/* height: 450rpx; */\n\t\tbox-shadow: 0px 0px 8rpx 0px rgba(212, 212, 212, 0.5);\n\t\tposition: absolute;\n\t    top: 200rpx;\n\t    right: 0rpx;\n\t}\n\t\n\t.popup-search-item{\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\theight: 64rpx;\n\t\twidth: 100%;\n\t\tjustify-content: center;\n\t}\n\t.popup-search-title-default{\n\t\tfont-size: 26rpx;\n\t\tcolor: #333333;\n\t\tline-height: 37rpx;\n\t\tpadding-bottom: 4rpx;\n\t\tborder-bottom: 4rpx solid #FFFFFF;\n\t}\n\t.popup-search-title{\n\t\tfont-size: 26rpx;\n\t\tcolor: #333333;\n\t\tline-height: 37rpx;\n\t\tpadding-bottom: 4rpx;\n\t\tborder-bottom: 4rpx solid #FF0137;\n\t}\n\t.search-result-view{\n\t\t/* height: 50rpx; */\n\t\tbackground: #D8D8D8;\n\t\tborder-radius: 25rpx;\n\t\tpadding: 6rpx 26rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\t.search-result-text{\n\t\tfont-size: 24rpx;\n\t\tcolor: #333333;\n\t\tline-height: 33rpx;\n\t}\n\t.search-result-img{\n\t\twidth: 14rpx;\n\t\theight: 14rpx;\n\t\tmargin-left: 6rpx;\n\t}\n</style>\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}