{"version":3,"sources":["uni-app:///main.js","webpack:////Users/user/zhjian20210728/devzhijian/zhijianliwu/pagesub/CinemaTicket/CinemaSeatSelect.vue?f641","webpack:////Users/user/zhjian20210728/devzhijian/zhijianliwu/pagesub/CinemaTicket/CinemaSeatSelect.vue?e6f6","webpack:////Users/user/zhjian20210728/devzhijian/zhijianliwu/pagesub/CinemaTicket/CinemaSeatSelect.vue?9130","webpack:////Users/user/zhjian20210728/devzhijian/zhijianliwu/pagesub/CinemaTicket/CinemaSeatSelect.vue?7eed","uni-app:///pagesub/CinemaTicket/CinemaSeatSelect.vue","webpack:////Users/user/zhjian20210728/devzhijian/zhijianliwu/pagesub/CinemaTicket/CinemaSeatSelect.vue?4307"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBACA,sBACA,8D,mDACAA,EAAWC,a;;;;2DCHX,ySACIC,EADJ,qMASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,4CACZ,aAAAF,E;;;;2GCvBf,qzC;;;;2GCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DCRvB,q5BAA81B,eAAG,G;;;;mrECqHj2B,CACA,KADA,WAEA,OACA,YACA,gBACA,gBACA,aACA,gBACA,YACA,aACA,gBACA,WACA,YACA,mBACA,QACA,QACA,cACA,CACA,wEACA,WAEA,CACA,wEACA,WAEA,CACA,wEACA,YAGA,UACA,cACA,iBACA,UACA,YACA,aACA,UACA,aACA,YACA,cACA,kBACA,cACA,YACA,WACA,UAGA,mBACA,WACA,kBACA,0BACA,yBACA,qBAGA,iBACA,oBACA,gDACA,gCAMA,OAhEA,WAiEA,yBAEA,SACA,iBADA,WAEA,eACA,cAEA,WACA,wBACA,UACA,kBACA,kBAEA,6CAGA,GADA,iBACA,UAiBA,GAhBA,sBACA,gCACA,yBACA,kCAEA,kCACA,gCACA,0BAEA,qBAGA,uBACA,4BAGA,sBACA,8CACA,aACA,SACA,+CACA,0CACA,kCAGA,yBAEA,kBACA,eACA,kBACA,sBAEA,uBACA,kBACA,KAEA,oBAIA,iBAEA,wBAIA,gBACA,aACA,gBACA,YACA,eAEA,uBACA,gBACA,YAEA,SAIA,wCAEA,mBAEA,qCACA,yBACA,kBACA,KAEA,qBACA,iBACA,uBACA,kBACA,wBAEA,yBAIA,mCACA,YACA,yBAEA,uBACA,wBACA,MAKA,4BACA,WACA,IA+CA,OA9CA,uBAEA,kBAKA,GAHA,0BACA,uBAEA,iBACA,eACA,sBACA,+BACA,uBACA,+BAKA,WACA,eACA,sBACA,+BACA,uBACA,+BAIA,6EACA,gFAEA,kFACA,gFAEA,iBACA,6EACA,iFAGA,gBAGA,eACA,cAEA,iBAGA,GAGA,2BAGA,IAFA,QACA,IACA,oBACA,iBACA,0BACA,KAIA,IADA,QACA,oBACA,oBACA,0BACA,KAGA,kCACA,8BACA,IACA,IACA,IACA,mBACA,iCACA,MACA,OAEA,MACA,QAEA,YACA,WAEA,sBACA,sBACA,iBACA,wCAIA,uBAIA,IAHA,SACA,YACA,gBACA,cAEA,IADA,SACA,mBACA,2BACA,YAGA,UAEA,oBAEA,gBACA,iBACA,WAIA,sBACA,oCACA,4BACA,yDACA,wBAEA,2BAGA,8BACA,sBAGA,wBACA,IACA,gBACA,6BACA,KAEA,mBAGA,4BACA,wBACA,gBACA,0BACA,aAKA,aAFA,6BACA,6BACA,EAEA,2BACA,cAIA,eACA,2BACA,mBAMA,aADA,6BACA,EACA,2BACA,cAIA,oBACA,iBAGA,8BACA,wBACA,gBACA,0BACA,aAEA,8BAMA,YALA,aACA,sCACA,YACA,eAKA,+BACA,+BAEA,gBACA,gBAEA,WACA,MAEA,OACA,MAEA,UACA,cACA,CAEA,4BAMA,YALA,aACA,sCACA,YACA,eAKA,+BAEA,gBAEA,WACA,MAEA,UAEA,oBACA,gBACA,gBAEA,yBACA,WACA,8BASA,4CACA,wCAGA,KAOA,CACA,oBAMA,YALA,aACA,qBACA,YACA,eAKA,eACA,cAEA,qBAlBA,aACA,iBACA,YACA,oBAjBA,aACA,mBACA,YACA,gBAiCA,wBAGA,mBACA,UACA,aACA,uBACA,WAEA,SAGA,2CAEA,iBACA,SAGA,2CACA,sBAGA,4BAGA,yBAOA,uCAIA,IAJA,WAEA,IACA,IAHA,WAIA,GACA,aAUA,GATA,QACA,+BACA,wCAEA,UACA,+BACA,yCAGA,OACA,cAEA,oBAEA,mDAEA,oBAEA,SACA,eACA,2BAEA,IACA,KACA,MAGA,KACA,qBAEA,CACA,cAEA,iBAEA,6BACA,sBAEA,iBAGA,eACA,0BACA,iBAKA,GADA,IACA,KACA,oBAnDA,kDA8BA,SA9BA,6CA0DA,uBACA,WACA,KACA,iBACA,KACA,2BACA,oBAIA,kBACA,kBACA,gBACA,YAEA,+BACA,UACA,6CACA,SACA,gBACA,cACA,mGAGA,aACA,sBACA,YACA,eAIA,aACA,YACA,YACA,mBAMA,yBAEA,8BAEA,6BACA,aACA,aACA,sBAGA,wBACA,oBACA,KACA,gBACA,iBACA,UAEA,gBACA,oBACA,CACA,SAEA,gBACA,aACA,QAGA,gBAGA,sBAOA,IANA,IAKA,EALA,wCACA,OACA,OAEA,KAEA,iBAGA,GADA,oBACA,OAIA,gCACA,SACA,UAIA,eACA,aACA,iBACA,YACA,mBAJA,CAQA,QAEA,4BACA,qBAEA,0DACA,+BAEA,yCAGA,0DACA,+BAEA,yCACA,YACA,GAEA,IACA,MAIA,IAnDA,EAmDA,KAnDA,IAqDA,MArDA,IAqDA,0CACA,6BACA,IADA,EACA,KADA,IAEA,GAFA,IAEA,0CACA,iBAEA,KACA,QANA,8BASA,KACA,SAEA,0BAEA,iCApEA,8BAsEA,qBACA,IACA,gBACA,6BACA,KAEA,oBAGA,iCACA,SACA,KACA,KAQA,OANA,4BAEA,uCAEA,uCAEA,aACA,EAGA,2BACA,0DACA,gBAGA,aACA,EAEA,aACA,EAEA,MAIA,yCACA,KACA,KAEA,cACA,iBACA,UACA,eAEA,SATA,eAYA,GAEA,qEAEA,kBACA,QAEA,iDACA,KACA,KACA,aAEA,2BACA,WAEA,YA3BA,EAYA,wDAKA,QALA,eAUA,UAQA,eAEA,qBAEA,GADA,QACA,aACA,MAGA,GADA,UACA,aACA,MAIA,iCACA,aAEA,eACA,SAGA,iCACA,SAKA,WACA,8BACA,GAGA,GAGA,kDACA,IAEA,IACA,KACA,KALA,WAMA,GACA,aAMA,MALA,QACA,iEACA,UACA,uEAEA,OACA,IACA,IACA,KACA,QAEA,YAGA,iDACA,IACA,KACA,KACA,aAEA,2BACA,MAEA,UAEA,cAEA,4BACA,IACA,UACA,iBALA,IAjCA,EAMA,sDAWA,QAXA,eAgCA,UAMA,WACA,8BACA,GAGA,GAEA,kCAEA,IAFA,EAEA,UACA,UAHA,IAIA,GAJA,IAIA,0CACA,iBALA,wCAOA,GAPA,IAOA,0CACA,0BACA,0BATA,8BAYA,aACA,qCACA,cAGA,sBAlwBA,SAkwBA,GACA,WAEA,2BACA,2BAGA,UAEA,UA3wBA,WA4wBA,0BAEA,WA9wBA,SA8wBA,GACA,qCACA,cACA,eACA,yBAEA,gBApxBA,WAqxBA,WACA,gCACA,YACA,kBACA,oBACA,kBACA,YACA,kBAEA,6CACA,UACA,uBACA,kC;;;;2DCz9BA,kwCAA2sC,eAAG,G","file":"pagesub/CinemaTicket/CinemaSeatSelect.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pagesub/CinemaTicket/CinemaSeatSelect.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./CinemaSeatSelect.vue?vue&type=template&id=166603c8&\"\nvar renderjs\nimport script from \"./CinemaSeatSelect.vue?vue&type=script&lang=js&\"\nexport * from \"./CinemaSeatSelect.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CinemaSeatSelect.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pagesub/CinemaTicket/CinemaSeatSelect.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./CinemaSeatSelect.vue?vue&type=template&id=166603c8&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./CinemaSeatSelect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./CinemaSeatSelect.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view style=\"display: flex;flex-direction: column;\">\r\n\t\t\r\n\t\t<!--座位示例图  -->\r\n\t\t<view class=\"seatDemosBack\" v-if=\"loadComplete\">\r\n\t\t\t<view class=\"seatDemos\">\r\n\t\t\t\t<block v-for=\"(seatTypeItem, index) in seatTypeList\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"seatDemo\">\r\n\t\t\t\t\t\t<image class=\"seatDemoImg\" mode=\"widthFix\" :src=\"seatTypeItem.icon\"></image>\r\n\t\t\t\t\t\t<view class=\"seatDemoItem\"> {{seatTypeItem.name}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!--以下是座位图区域  -->\r\n\t\t<!-- 这里官方有个bug https://developers.weixin.qq.com/community/develop/doc/82f5ab098a15982c89076af83e3631a1 -->\r\n\t\t<!-- bindscale=\"handleScale\" bindchange=\"handleChange\" bindtouchstart=\"handleMoveStart\" bindtouchend='handleMoveEnd' -->\r\n\t\t<movable-area scale-area=\"true\" class=\"defaultArea\" :style=\"'height:'+ seatArea + 'px; width:750rpx;margin-top:20rpx;position:relative;'\">\r\n\t\t\t<movable-view class='movableOne' bindscale=\"handleScale\" :style=\"'height'+seatArea+'px; width:'+ seatAreaWidth + 'rpx;'\"\r\n\t\t\t\tscale=\"true\" direction=\"all\" scale-max=\"2\" scale-min=\"0.8\" out-of-bounds=\"true\" @scale=\"scaleEventHandle\">\r\n\t\t\t\t<view class='seatArea' style=\"display: flex;justify-content: center;flex-direction: column;align-items: center;\">\r\n\t\t\t\t\t<!-- :style=\"'width:'+(seatScaleHeight * maxX)+ 'px;height:'+(seatScaleHeight * maxY)+ 'px'\"> -->\r\n\t\t\t\t\t<!--中轴线  -->\r\n\t\t\t\t\t<!-- <view class='alignLine'></view> -->\r\n\t\t\t\t\t<!-- <view class='hallName'>\r\n\t\t\t\t\t\t<text>{{hallName}}</text>\r\n\t\t\t\t\t</view> -->\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"visual_screen\">\r\n\t\t\t\t\t   <view class=\"screen\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"visual_title\" v-if=\"hallName\">{{hallName}}</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view :style=\"'width:'+(seatScaleHeight * maxX)+ 'px;height:'+(seatScaleHeight * maxY)+ 'px;margin-top: 20rpx;position: relative;display: flex;'\">\r\n\t\t\t\t\t\t<view style=\"position: relative;display: flex;\">\r\n\t\t\t\t\t\t\t<view v-for=\"(item, index) in seatList\" :key=\"index\" class='seatTap' @click.stop='clickSeat'\r\n\t\t\t\t\t\t\t\t:data-index='index'\r\n\t\t\t\t\t\t\t\t:style=\"'left:'+((item.columnNo-1)* seatScaleHeight)+'px;top:'+((item.rowNo-1) * seatScaleHeight)+'px;'\">\r\n\t\t\t\t\t\t\t\t<image :src=\"item.nowIcon\" class='normal' />\r\n\t\t\t\t\t\t\t\t<!-- <view style=\"width:20rpx;height: 20rpx;border: 1px solid #007AFF;\"></view> -->\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</movable-view>\n\t\t\t<view class=\"area-left\" :style=\"'position: fixed;top:'+((seatList[0].rowNo-1) * seatScaleHeight)+'px;left: 10px;margin-top:200rpx;height:'+(seatScaleHeight * maxY)+'px;'\">\n\t\t\t\t<view class=\"area-left-number\" :style=\"'top:'+(item * seatScaleHeight)+'px;height:'+seatScaleHeight+'px;'\" v-for=\"(item, index) in areaLift\" :key=\"index\">{{item}}</view>\n\t\t\t</view>\r\n\t\t</movable-area>\r\n\t\t<!--下部分座位示例图  -->\r\n\t\t<!-- 用户选中的座位详情 -->\r\n\t\t<view class=\"css-bottom\">\r\n\t\t\t<view class=\"css-bottom-1\">\r\n\t\t\t\t<view class=\"css-bottom-1-1\">\r\n\t\t\t\t\t<view class=\"css-bottom-1-1-1\">{{movieInfo.name}}</view>\r\n\t\t\t\t\t<view class=\"css-bottom-1-1-2\" @click=\"clickShow\"><view class=\"css-bottom-1-1-2-1\">切换场次</view><image class=\"css-bottom-1-1-2-2\" :src=\"isShow ? 'https://zhijianlw.com/static/web/img/icon_css_back_2021_10_23_02.png':'https://zhijianlw.com/static/web/img/icon_css_back_2021_10_23.png'\"></image></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"css-bottom-1-1-2\" style=\"margin-top: 16rpx;\"><view class=\"css-bottom-1-2\">{{showInfo.showTimeWeek}}</view><view class=\"css-bottom-1-3\">{{showInfo.showTimeStr}} {{showInfo.showVersionType}}</view></view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 场次-->\r\n\t\t\t<view class='selectSeatInfo' style=\"padding-left: 26rpx;padding-right: 26rpx;\" v-if=\"isShow\">\r\n\t\t\t\t<scroll-view class=\"scrollTime\" scroll-x=\"true\">\r\n\t\t\t\t\t<view style=\"display: flex;\">\r\n\t\t\t\t\t\t<view :class=\"item.isSelectTime == 1 ? 'scrollTimeItem' : 'scrollTimeItemDefault'\" v-for=\"(item, index) in show_list\" :key=\"index\" @click='clickTimes' :data-showid=\"item.showId\" :data-index=\"index\">\r\n\t\t\t\t\t\t\t<view class='scrollTimeTitle'>{{item.showTime}}</view>\r\n\t\t\t\t\t\t\t<view class='scrollTimeContent'>{{item.showVersionType}}</view>\r\n\t\t\t\t\t\t\t<view class='scrollTimePrice'>￥{{item.salePrice}}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class='selectSeatInfo' style=\"padding-left: 26rpx;padding-right: 26rpx;\" v-if=\"hidden!='hidden'\">\r\n\t\t\t\t<scroll-view class=\"scrollSeat\" scroll-x=\"true\">\r\n\t\t\t\t\t<view style=\"display: flex;\">\r\n\t\t\t\t\t<!-- 普通座位 -->\r\n\t\t\t\t\t\t<view class='scrollItem'v-for=\"(selectedSeatItem, index) in selectedSeat\" :key=\"index\" @click='clickSeat' :data-index='selectedSeatItem.orgIndex'>\r\n\t\t\t\t\t\t\t<view class='scrollTextTop'>\r\n\t\t\t\t\t\t\t\t{{selectedSeatItem.seatNo}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class='scrollTextBottom'>\r\n\t\t\t\t\t\t\t\t￥{{selectedSeatItem.price}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<image src=\"https://zhijianlw.com/static/web/img/icon_css_close_2021_10_23.png\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 快速选座 -->\r\n\t\t\t<!-- <view class='selectSeatInfo' v-if=\"hidden=='hidden'\">\r\n\t\t\t\t<scroll-view class=\"scrollSeat\" scroll-x=\"true\">\r\n\t\t\t\t\t<view class='quickItem' @click='quickSeat' data-num='1'>\r\n\t\t\t\t\t\t1人座\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class='quickItem' @click='quickSeat' data-num='2'>\r\n\t\t\t\t\t\t2人座\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class='quickItem' @click='quickSeat' data-num='3'>\r\n\t\t\t\t\t\t3人座\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class='quickItem' @click='quickSeat' data-num='4'>\r\n\t\t\t\t\t\t4人座\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view> -->\r\n\t\t\t<view style=\"height: 110rpx;\"></view>\r\n\t\t\t<!-- 以下是确认选座 -->\r\n\t\t\t<view class='css-bottom-comfirm'>\r\n\t\t\t\t<view class='css-bottom-comfirm-1' @click='confirmHandle'>{{totalPrice}}元 确认选座</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tseatList: [],\r\n\t\t\t\tselectedSeat: [],\r\n\t\t\t\thallName: undefined,\r\n\t\t\t\tscaleValue: 1,\r\n\t\t\t\thidden: \"hidden\",\r\n\t\t\t\tmaxSelect: 6,\r\n\t\t\t\ttotalPrice: 0,\r\n\t\t\t\tloadComplete: false,\r\n\t\t\t\ttimer: null,\r\n\t\t\t\tseatArea: '',\r\n\t\t\t\tseatScaleHeight: '',\r\n\t\t\t\tmaxX: '',\r\n\t\t\t\tmaxY: '',\r\n\t\t\t\tseatTypeList: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"icon\": 'https://zhijianlw.com/static/web/img/icon_film_2021_10_28_03.png',\r\n\t\t\t\t\t\t\"name\": '可选'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"icon\": 'https://zhijianlw.com/static/web/img/icon_film_2021_10_28_01.png',\r\n\t\t\t\t\t\t\"name\": '已选'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"icon\": 'https://zhijianlw.com/static/web/img/icon_film_2021_10_28_02.png',\r\n\t\t\t\t\t\t\"name\": '已售'\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tshowId: '',\r\n\t\t\t\tcinemaName: '',\r\n\t\t\t\tshowSeatsList: [],\r\n\t\t\t\tprice:'0',\r\n\t\t\t\tshowInfo: '',\r\n\t\t\t\tmovieInfo: '',\r\n\t\t\t\tisShow: '',\r\n\t\t\t\tshow_list:[],\r\n\t\t\t\tareaLift: [],\r\n\t\t\t\tscaleNumber: 1,\r\n\t\t\t\tseatAreaWidth: 750,\r\n\t\t\t\tthrottle: null,\r\n\t\t\t\tcinemaid: '',\r\n\t\t\t\tmovieId: '',\r\n\t\t\t\tdate: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad: function(options) {\r\n\t\t\tlet that = this;\r\n\t\t\tthat.showId = options.showId;\r\n\t\t\tthat.cinemaName = options.cinemaName;\r\n\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\ttitle: that.cinemaName\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tuni.getSystemInfo({\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tthat.seatArea = res.screenHeight - (500 * res.screenWidth / 750)\r\n\t\t\t\t\tthat.rpxToPx = res.screenWidth / 750\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\t// this.getFilmShowSeats();\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.getFilmShowSeats();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetFilmShowSeats() {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '加载中'\r\n\t\t\t\t})\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tlet action = 'get_film_show_seats';\r\n\t\t\t\tlet controller = 'films';\r\n\t\t\t\tlet data = JSON.stringify({\r\n\t\t\t\t\tshowId: that.showId\r\n\t\t\t\t})\r\n\t\t\t\tthis.$utils.postNew(action, data, controller).then(res => {\r\n\t\t\t\t\t// let result = this.json;\r\n\t\t\t\t\twx.hideLoading();\r\n\t\t\t\t\tif (res.sta == 1) {\r\n\t\t\t\t\t\tif(res.rs && res.rs.showInfo){\r\n\t\t\t\t\t\t\tthat.price = res.rs.showInfo.salePrice;\r\n\t\t\t\t\t\t\tthat.showInfo = res.rs.showInfo;\r\n\t\t\t\t\t\t\tthat.hallName = res.rs.showInfo.hallName;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthat.cinemaid = res.rs.showInfo.cinemaId;\r\n\t\t\t\t\t\t\tthat.movieId = res.rs.showInfo.movieId;\r\n\t\t\t\t\t\t\tthat.date = res.rs.showInfo.date;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthat.getFilmShowList();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(res.rs && res.rs.movieInfo){\r\n\t\t\t\t\t\t\tthat.movieInfo = res.rs.movieInfo;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(res.rs && res.rs.seatsInfo){\r\n\t\t\t\t\t\t\tlet seatList = that.prosessSeatList(res.rs.seatsInfo.seats);\r\n\t\t\t\t\t\t\tthat.seatList = seatList;\r\n\t\t\t\t\t\t\tlet areaList = []\r\n\t\t\t\t\t\t\tif(res.rs.seatsInfo && res.rs.seatsInfo.seats.length > 0){\r\n\t\t\t\t\t\t\t\tres.rs.seatsInfo.seats.forEach(element => {\r\n\t\t\t\t\t\t\t\t\tareaList.push(element.seatNo.split('排')[0])\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthat.areaLift = [...new Set(areaList)]\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthat.selectedSeat = [];\r\n\t\t\t\t\t\t\tthat.totalPrice = 0;\r\n\t\t\t\t\t\t\tthat.hidden = \"hidden\";\r\n\t\t\t\t\t\t\tthat.seatArea = that.seatArea;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t\t\t//计算X和Y坐标最大值\r\n\t\t\t\t\t\t\tthat.prosessMaxSeat(seatList);\r\n\t\t\t\t\t\t\t//计算左侧座位栏的数组\r\n\t\t\t\t\t\t\t// that.seatToolArr()\r\n\t\t\t\t\t\t\t//按每排生成座位数组对象\r\n\t\t\t\t\t\t\tthat.creatSeatMap()\r\n\t\t\t\t\t\t\t//确认最佳坐标座位\r\n\t\t\t\t\t\t\tthat.creatBestSeat()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '获取座位图失败',\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\t\t\tdelta: 1, // 回退前 delta(默认为1) 页面\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tscaleEventHandle: function(e){\r\n\t\t\t\t// 节流阀  => 50 毫秒监听一次\r\n\t\t\t\t      if (this.throttle) return;\r\n\t\t\t\t      \r\n\t\t\t\t      this.throttle = setTimeout(() => {\r\n\t\t\t\t        clearTimeout(this.throttle);\r\n\t\t\t\t        this.throttle = null;\r\n\t\t\t\t      }, 100)\r\n\t\t\t\t\t  \r\n\t\t\t\tlet scaleNumber = e.detail.scale\r\n\t\t\t\tif(parseFloat(scaleNumber) <= 1){\r\n\t\t\t\t\tthis.seatAreaWidth = 750\r\n\t\t\t\t} else if(parseFloat(scaleNumber) > 1.5){\r\n\t\t\t\t\tthis.seatAreaWidth = 1200\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.seatAreaWidth = 1000\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//解决官方bug\r\n\t\t\thandleScale: function(e) {\r\n\t\t\t\tif (this.timer) {\r\n\t\t\t\t\tclearTimeout(this.timer)\r\n\t\t\t\t}\r\n\t\t\t\tlet timer = setTimeout(() => {\r\n\t\t\t\t\tthis.seatArea = this.seatArea\r\n\t\t\t\t}, 200)\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 顶级顶部返回按钮时候\r\n\t\t\t */\r\n\t\t\tprosessSeatList: function(seatList) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet resSeatList = seatList\r\n\t\t\t\tresSeatList.forEach(element => {\r\n\t\t\t\t\t// 获取座位的类型的首字母\r\n\t\t\t\t\tlet firstNumber = element.loverSeat\r\n\t\t\t\t\t// 在原来的对象中加入两个属性  otherLoveSeatIndex 对应情侣座位的原数组下标 otherLoveSeatId  对应情侣座位的Id\r\n\t\t\t\t\telement.otherLoveSeatIndex = null\r\n\t\t\t\t\telement.otherLoveSeatId = null\r\n\t\t\t\t\t// 座位的类型的首字母为 '1' 是情侣首座 处理情侣首座位\r\n\t\t\t\t\tif (firstNumber === '1' || firstNumber === '2') {\r\n\t\t\t\t\t\tfor (const index in resSeatList) {\r\n\t\t\t\t\t\t\tif (resSeatList[index].rowNo === element.rowNo &&\r\n\t\t\t\t\t\t\t\tresSeatList[index].columnNo === element.columnNo + 1) {\r\n\t\t\t\t\t\t\t\telement.otherLoveSeatIndex = index\r\n\t\t\t\t\t\t\t\telement.otherLoveSeatId = resSeatList[index].seatId\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 座位的类型的首字母为 '2' 是情侣次座 处理情侣次座位\r\n\t\t\t\t\tif (firstNumber === '0') {\r\n\t\t\t\t\t\tfor (const index in resSeatList) {\r\n\t\t\t\t\t\t\tif (resSeatList[index].rowNo === element.rowNo &&\r\n\t\t\t\t\t\t\t\tresSeatList[index].columnNo === element.columnNo - 1) {\r\n\t\t\t\t\t\t\t\telement.otherLoveSeatIndex = index\r\n\t\t\t\t\t\t\t\telement.otherLoveSeatId = resSeatList[index].seatId\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telement.nowIcon = 'https://zhijianlw.com/static/web/img/icon_film_2021_10_28_03.png'\r\n\t\t\t\t\telement.defautIcon = 'https://zhijianlw.com/static/web/img/icon_film_2021_10_28_03.png'\r\n\t\t\t\t\t\r\n\t\t\t\t\t\telement.selectedIcon = 'https://zhijianlw.com/static/web/img/icon_film_2021_10_28_01.png';\r\n\t\t\t\t\t\telement.soldedIcon = 'https://zhijianlw.com/static/web/img/icon_film_2021_10_28_02.png'\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (element.status == 'LK') {\r\n\t\t\t\t\t\t\telement.nowIcon = 'https://zhijianlw.com/static/web/img/icon_film_2021_10_28_02.png'\r\n\t\t\t\t\t\t\telement.defautIcon = 'https://zhijianlw.com/static/web/img/icon_film_2021_10_28_02.png'\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telement.price = that.price\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 加入属性canClick 判断座位是否可以点击\r\n\t\t\t\t\tif (element.status == 'LK') {\r\n\t\t\t\t\t\telement.canClick = false\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\telement.canClick = true\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\treturn resSeatList\r\n\t\t\t},\r\n\t\t\t//计算最大座位数,生成影厅图大小\r\n\t\t\tprosessMaxSeat: function(value) {\r\n\t\t\t\tlet seatList = value\r\n\t\t\t\tlet maxY = 0;\r\n\t\t\t\tfor (let i = 0; i < seatList.length; i++) {\r\n\t\t\t\t\tlet tempY = seatList[i].rowNo;\r\n\t\t\t\t\tif (parseInt(tempY) > parseInt(maxY)) {\r\n\t\t\t\t\t\tmaxY = tempY;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tlet maxX = 0;\r\n\t\t\t\tfor (var i = 0; i < seatList.length; i++) {\r\n\t\t\t\t\tvar tempX = seatList[i].columnNo;\r\n\t\t\t\t\tif (parseInt(tempX) > parseInt(maxX)) {\r\n\t\t\t\t\t\tmaxX = tempX;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tlet seatRealWidth = parseInt(maxX) * 30 * this.rpxToPx\r\n\t\t\t\tlet seatRealheight = parseInt(maxY) * 30 * this.rpxToPx\r\n\t\t\t\tlet seatScale = 1;\r\n\t\t\t\tlet seatScaleX = 1;\r\n\t\t\t\tlet seatScaleY = 1;\r\n\t\t\t\tlet seatAreaWidth = 750 * this.rpxToPx\r\n\t\t\t\tlet seatAreaHeight = this.seatArea - 200 * this.rpxToPx\r\n\t\t\t\tif (seatRealWidth > seatAreaWidth) {\r\n\t\t\t\t\tseatScaleX = seatAreaWidth / seatRealWidth\r\n\t\t\t\t}\r\n\t\t\t\tif (seatRealheight > seatAreaHeight) {\r\n\t\t\t\t\tseatScaleY = seatAreaHeight / seatRealheight\r\n\t\t\t\t}\r\n\t\t\t\tif (seatScaleX < 1 || seatScaleY < 1) {\r\n\t\t\t\t\tseatScale = seatScaleX < seatScaleY ? seatScaleX : seatScaleY\r\n\t\t\t\t}\r\n\t\t\t\tthis.maxY = parseInt(maxY)\r\n\t\t\t\tthis.maxX = parseInt(maxX)\r\n\t\t\t\tthis.seatScale = seatScale\r\n\t\t\t\tthis.seatScaleHeight = seatScale * 30 * this.rpxToPx\r\n\r\n\t\t\t},\r\n\t\t\t// 座位左边栏的数组\r\n\t\t\tseatToolArr: function() {\r\n\t\t\t\tlet seatToolArr = []\r\n\t\t\t\tlet yMax = this.maxY\r\n\t\t\t\tlet seatList = this.seatList\r\n\t\t\t\tfor (let i = 1; i <= yMax; i++) {\r\n\t\t\t\t\tlet el = ''\r\n\t\t\t\t\tfor (let j = 0; j < seatList.length; j++) {\r\n\t\t\t\t\t\tif (parseInt(seatList[j].rowNo) === i) {\r\n\t\t\t\t\t\t\tel = seatList[j].row\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tseatToolArr.push(el)\r\n\t\t\t\t}\r\n\t\t\t\tthis.seatToolArr = seatToolArr\r\n\t\t\t},\r\n\t\t\tback: function() {\r\n\t\t\t\twx.navigateBack({\r\n\t\t\t\t\tdelta: 1, // 回退前 delta(默认为1) 页面\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 点击每个座位触发的函数\r\n\t\t\tclickSeat: function(event) {\r\n\t\t\t\tlet index = event.currentTarget.dataset.index;\r\n\t\t\t\tif (this.seatList[index].canClick) {\r\n\t\t\t\t\tif (this.seatList[index].nowIcon === this.seatList[index].selectedIcon) {\r\n\t\t\t\t\t\tthis.processSelected(index)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.processUnSelected(index)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (this.selectedSeat.length == 0) {\r\n\t\t\t\t\tthis.hidden = \"hidden\"\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet _selectedSeatList = this.selectedSeat\r\n\t\t\t\tlet totalPrice = 0\r\n\t\t\t\tfor (const key in _selectedSeatList) {\r\n\t\t\t\t\tlet price = parseFloat(_selectedSeatList[key].price);\r\n\t\t\t\t\ttotalPrice += price;\r\n\t\t\t\t}\r\n\t\t\t\tthis.totalPrice = totalPrice\r\n\t\t\t},\r\n\t\t\t// 处理已选的座位\r\n\t\t\tprocessSelected: function(index) {\r\n\t\t\t\tlet _selectedSeatList = this.selectedSeat\r\n\t\t\t\tlet seatList = this.seatList\r\n\t\t\t\tlet otherLoveSeatIndex = seatList[index].otherLoveSeatIndex\r\n\t\t\t\tif (otherLoveSeatIndex !== null) {\r\n\t\t\t\t\t// 如果是情侣座位\r\n\t\t\t\t\t// 改变这些座位的图标为初始图标\r\n\t\t\t\t\tseatList[index].nowIcon = seatList[index].defautIcon\r\n\t\t\t\t\tseatList[otherLoveSeatIndex].nowIcon = seatList[otherLoveSeatIndex].defautIcon\r\n\t\t\t\t\tfor (const key in _selectedSeatList) {\r\n\t\t\t\t\t\t// 移除id一样的座位\r\n\t\t\t\t\t\tif (_selectedSeatList[key].seatId === seatList[index].seatId) {\r\n\t\t\t\t\t\t\t_selectedSeatList.splice(key, 1)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 移除对应情侣座位\r\n\t\t\t\t\tfor (const key in _selectedSeatList) {\r\n\t\t\t\t\t\tif (_selectedSeatList[key].seatId === seatList[otherLoveSeatIndex].seatId) {\r\n\t\t\t\t\t\t\t_selectedSeatList.splice(key, 1)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 改变这些座位的图标为初始图标 并 移除id一样的座位\r\n\t\t\t\t\tseatList[index].nowIcon = seatList[index].defautIcon\r\n\t\t\t\t\tfor (const key in _selectedSeatList) {\r\n\t\t\t\t\t\tif (_selectedSeatList[key].seatId === seatList[index].seatId) {\r\n\t\t\t\t\t\t\t_selectedSeatList.splice(key, 1)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.selectedSeat = _selectedSeatList,\r\n\t\t\t\t\tthis.seatList = seatList\r\n\t\t\t},\r\n\t\t\t// 处理未选择的座位\r\n\t\t\tprocessUnSelected: function(index) {\r\n\t\t\t\tlet _selectedSeatList = this.selectedSeat\r\n\t\t\t\tlet seatList = this.seatList\r\n\t\t\t\tlet otherLoveSeatIndex = seatList[index].otherLoveSeatIndex\r\n\t\t\t\tif (otherLoveSeatIndex !== null) {\r\n\t\t\t\t\t// 如果选中的是情侣座位 判断选择个数不大于 maxSelect\r\n\t\t\t\t\tif (_selectedSeatList.length >= this.maxSelect - 1) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '最多只能选择' + this.maxSelect + '个座位哦~',\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 改变这些座位的图标为已选择图标\r\n\t\t\t\t\tseatList[index].nowIcon = seatList[index].selectedIcon\r\n\t\t\t\t\tseatList[otherLoveSeatIndex].nowIcon = seatList[otherLoveSeatIndex].selectedIcon\r\n\t\t\t\t\t// 记录 orgIndex属性 是原seatList数组中的下标值\r\n\t\t\t\t\tseatList[index].orgIndex = index\r\n\t\t\t\t\tseatList[otherLoveSeatIndex].orgIndex = otherLoveSeatIndex\r\n\t\t\t\t\t// 把选择的座位放入到已选座位数组中\r\n\t\t\t\t\tlet temp = {\r\n\t\t\t\t\t\t...seatList[index]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet tempLove = {\r\n\t\t\t\t\t\t...seatList[otherLoveSeatIndex]\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_selectedSeatList.push(temp)\r\n\t\t\t\t\t_selectedSeatList.push(tempLove)\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 如果选中的是非情侣座位 判断选择个数不大于 maxSelect\r\n\t\t\t\t\tif (_selectedSeatList.length >= this.maxSelect) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '最多只能选择' + this.maxSelect + '个座位哦~',\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 改变这些座位的图标为已选择图标\r\n\t\t\t\t\tseatList[index].nowIcon = seatList[index].selectedIcon\r\n\t\t\t\t\t// 记录 orgIndex属性 是原seatList数组中的下标值\r\n\t\t\t\t\tseatList[index].orgIndex = index\r\n\t\t\t\t\t// 把选择的座位放入到已选座位数组中\r\n\t\t\t\t\tlet temp = {\r\n\t\t\t\t\t\t...seatList[index]\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_selectedSeatList.push(temp)\r\n\t\t\t\t}\r\n\t\t\t\tthis.selectedSeat = _selectedSeatList\r\n\t\t\t\tthis.seatList = seatList\r\n\t\t\t\tthis.hidden = \"\"\r\n\t\t\t},\r\n\t\t\tconfirmHandle: function() {\r\n\t\t\t\tlet that = this\r\n\t\t\t\tif (that.selectedSeat.length === 0) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请至少选择一个座位~',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t// 开始计算是否留下空位 ------------ 开始\r\n\t\t\t\tlet result = that.selectedSeat.every(function(element, index, array) {\r\n\t\t\t\t\treturn that.checkSeat(element, that.selectedSeat)\r\n\t\t\t\t})\r\n\t\t\t\t// 开始计算是否留下空位 ------------ 结束\r\n\t\t\t\tif (!result) {\r\n\t\t\t\t\t// 如果 result 为false\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请不要留下空位~',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (that.totalPrice === 0) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '座位锁定失败~,金额为0',\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 允许锁座\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle: '加载中',\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthat.createOrder()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 检查每个座位是否会留下空位\r\n\t\t\tcheckSeat: function(element, selectedSeat) {\r\n\t\t\t\t// 标准为 1.左右侧都必须保留 两格座位 + 最大顺延座位(也就是已选座位减去自身)\r\n\t\t\t\t// 2.靠墙和靠已售的座位一律直接通过\r\n\t\t\t\tconst checkNum = 2 + selectedSeat.length - 1\r\n\t\t\t\tconst gRowBasic = element.rowNo\r\n\t\t\t\tconst gColBasic = element.columnNo\r\n\t\t\t\tlet otherLoveSeatIndex = element.otherLoveSeatIndex\r\n\t\t\t\tif (otherLoveSeatIndex != null) {\r\n\t\t\t\t\t// 如果是情侣座 不检测\r\n\t\t\t\t\treturn true\r\n\t\t\t\t}\r\n\t\t\t\t// 检查座位左侧\r\n\t\t\t\tlet left = this.checkSeatDirection(gRowBasic, gColBasic, checkNum, '-', selectedSeat)\r\n\t\t\t\t// 如果左侧已经检查出是靠着过道直接 返回true\r\n\t\t\t\tif (left === 'special') {\r\n\t\t\t\t\treturn true\r\n\t\t\t\t}\r\n\t\t\t\t// 检查座位右侧\r\n\t\t\t\tlet right = this.checkSeatDirection(gRowBasic, gColBasic, checkNum, '+', selectedSeat)\r\n\t\t\t\tif (right === 'special') {\r\n\t\t\t\t\t// 无论左侧是否是什么状态 检查出右侧靠着过道直接 返回true\r\n\t\t\t\t\treturn true\r\n\t\t\t\t} else if (right === 'normal' && left === 'normal') {\r\n\t\t\t\t\t// 如果左右两侧都有富裕的座位 返回true\r\n\t\t\t\t\treturn true\r\n\t\t\t\t} else if (right === 'fail' || left === 'fail') {\r\n\t\t\t\t\t// 如果左右两侧都是不通过检测 返回false\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t\treturn true\r\n\t\t\t},\r\n\t\t\t// 检查左右侧座位满足规则状态\r\n\t\t\tcheckSeatDirection: function(gRowBasic, gColBasic, checkNum, direction, selectedSeat) {\r\n\t\t\t\t// 空位个数\r\n\t\t\t\tlet emptySeat = 0\r\n\t\t\t\tlet x = 1 // 检查位置 只允许在x的位置出现过道,已售,维修\r\n\t\t\t\tfor (let i = 1; i <= checkNum; i++) {\r\n\t\t\t\t\tlet iter // 根据 gRow gCol direction 找出检查座位左边按顺序排列的checkNum\r\n\t\t\t\t\tif (direction === '-') {\r\n\t\t\t\t\t\titer = this.seatList.find(function(el) {\r\n\t\t\t\t\t\t\treturn el.rowNo === gRowBasic && el.columnNo === gColBasic - i\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else if (direction === '+') {\r\n\t\t\t\t\t\titer = this.seatList.find(function(el) {\r\n\t\t\t\t\t\t\treturn el.rowNo === gRowBasic && el.columnNo === gColBasic + i\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (x === i) {\r\n\t\t\t\t\t\tif (iter === undefined) {\r\n\t\t\t\t\t\t\t// 过道\r\n\t\t\t\t\t\t\treturn 'special'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (iter.nowIcon === iter.soldedIcon || iter.nowIcon === iter.fixIcon) {\r\n\t\t\t\t\t\t\t// 已售或者维修\r\n\t\t\t\t\t\t\treturn 'special'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlet checkSelect = false\r\n\t\t\t\t\t\tfor (const index in selectedSeat) {\r\n\t\t\t\t\t\t\tif (selectedSeat[index].seatId === iter.seatId) {\r\n\t\t\t\t\t\t\t\t// 已选 顺延一位\r\n\t\t\t\t\t\t\t\tx++\r\n\t\t\t\t\t\t\t\tcheckSelect = true\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (checkSelect) {\r\n\t\t\t\t\t\t\tcontinue\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (iter === undefined) {\r\n\t\t\t\t\t\t\t// 过道\r\n\t\t\t\t\t\t\treturn 'fail'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (iter.nowIcon === iter.soldedIcon ||\r\n\t\t\t\t\t\t\titer.nowIcon === iter.fixIcon) {\r\n\t\t\t\t\t\t\t// 已售或者维修\r\n\t\t\t\t\t\t\treturn 'fail'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlet checkSelect = false\r\n\t\t\t\t\t\tfor (const index in selectedSeat) {\r\n\t\t\t\t\t\t\tif (selectedSeat[index].seatId === iter.seatId) {\r\n\t\t\t\t\t\t\t\treturn 'fail'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\temptySeat++\r\n\t\t\t\t\tif (emptySeat >= 2) {\r\n\t\t\t\t\t\treturn 'normal'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 点击确认选择开始生成订单\r\n\t\t\t */\r\n\t\t\tcreateOrder: function() {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tvar seatIds = [];\r\n\t\t\t\tlet selectSeatInfo = _this.selectedSeat;\r\n\t\t\t\tif (selectSeatInfo) {\r\n\t\t\t\t\tfor (var i = 0; i < selectSeatInfo.length; i++) {\r\n\t\t\t\t\t\tseatIds.push(selectSeatInfo[i].seatId);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tlet seatId = seatIds.join(\",\");\r\n\t\t\t\tvar data = JSON.stringify({\r\n\t\t\t\t\tshowId: _this.showId,\r\n\t\t\t\t\tseatIds: seatId\r\n\t\t\t\t}); \r\n\t\t\t\tvar action = 'get_film_movie_order_check';\r\n\t\t\t\tlet controller = 'films';\r\n\t\t\t\tthis.$utils.postNew(action, data, controller).then(res => {\r\n\t\t\t\t\tif(res.sta == 1){\r\n\t\t\t\t\t\tif(res.rs.errCode == 0){\r\n\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\turl: `/pagesub/CinemaTicket/CinemaTicketHomeOrder?showId=${_this.showId}&seatIds=${seatId}`\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: res.rs.errMessage,\r\n\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//生成最佳座位\r\n\t\t\tcreatBestSeat: function() {\r\n\t\t\t\t// 优先左侧\r\n\t\t\t\tvar bestX = parseInt(this.maxX / 2) + 1\r\n\t\t\t\t// 四舍五入  0.618为黄金分割比例\r\n\t\t\t\tvar bestY = Math.round(this.maxY * 0.618)\r\n\t\t\t\tthis.bestX = bestX\r\n\t\t\t\tthis.bestY = bestY\r\n\t\t\t\tthis.loadComplete = true\r\n\t\t\t},\r\n\t\t\t// 根据seatList 生成一个类map的对象 key值为gRow坐标 value值为gRow为key值的数组\r\n\t\t\tcreatSeatMap: function() {\r\n\t\t\t\tlet seatList = this.seatList\r\n\t\t\t\tvar obj = {}\r\n\t\t\t\tfor (let index in seatList) {\r\n\t\t\t\t\tlet seatRowList = seatList[index].rowNo\r\n\t\t\t\t\tif (seatRowList in obj) {\r\n\t\t\t\t\t\t// 原本数组下标\r\n\t\t\t\t\t\tseatList[index].orgIndex = index\r\n\t\t\t\t\t\tobj[seatRowList].push(seatList[index])\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlet seatArr = []\r\n\t\t\t\t\t\t// 原本数组下标\r\n\t\t\t\t\t\tseatList[index].orgIndex = index\r\n\t\t\t\t\t\tseatArr.push(seatList[index])\r\n\t\t\t\t\t\tobj[seatRowList] = seatArr\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.seatMap = obj\r\n\t\t\t},\r\n\t\t\t// 快速选择座位函数\r\n\t\t\tquickSeat: function(event) {\r\n\t\t\t\tlet value = parseInt(event.currentTarget.dataset.num);\r\n\t\t\t\tlet _self = this\r\n\t\t\t\tlet that = this\r\n\t\t\t\t// 最优座位数组 里面包含了每排的最佳座位组\r\n\t\t\t\tlet bestSeatList = []\r\n\t\t\t\tlet bestRowSeat\r\n\t\t\t\tfor (let i = _self.maxY; i > 0; i--) {\r\n\t\t\t\t\t// bestRowSeat为 gRow 为 i 的的所有座位对象\r\n\t\t\t\t\tbestRowSeat = _self.seatMap[i]\r\n\t\t\t\t\tif (bestRowSeat === undefined) {\r\n\t\t\t\t\t\tcontinue\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// 找到每排的最佳座位\r\n\t\t\t\t\t\tlet bestSeat = that.seachBestSeatByRow(bestRowSeat, value)\r\n\t\t\t\t\t\tif (bestSeat != null) {\r\n\t\t\t\t\t\t\tbestSeatList.push(bestSeat)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (bestSeatList.length <= 0) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '没有合适的座位~',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tlet bestSeatListIndex = 0\r\n\t\t\t\t// 递归每排的最优座位组 找出离中心点最近的最优座位组\r\n\t\t\t\tbestSeatList.reduce(function(prev, cur, index, arr) {\r\n\t\t\t\t\tif (Array.isArray(prev)) {\r\n\t\t\t\t\t\t// 取中心点离 最好坐标 绝对值\r\n\t\t\t\t\t\tlet n = Math.abs((prev[0].columnNo + prev[value - 1].columnNo) / 2 - _self.bestX)\r\n\t\t\t\t\t\tlet m = Math.abs(prev[0].rowNo - _self.bestY)\r\n\t\t\t\t\t\t// 勾股定理\r\n\t\t\t\t\t\tprev = Math.sqrt(Math.pow(n, 2) + Math.pow(m, 2))\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 取中心点离 最好坐标 绝对值\r\n\t\t\t\t\tlet x = Math.abs((cur[0].columnNo + cur[value - 1].columnNo) / 2 - _self.bestX)\r\n\t\t\t\t\tlet y = Math.abs(cur[0].rowNo - _self.bestY)\r\n\t\t\t\t\t// 勾股定理\r\n\t\t\t\t\tlet z = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2))\r\n\t\t\t\t\tif (z >= prev) {\r\n\t\t\t\t\t\treturn prev\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tbestSeatListIndex = index\r\n\t\t\t\t\t\treturn z\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t// 最佳座位中包含情侣座位\r\n\t\t\t\tlet notEmitSeatArr = []\r\n\t\t\t\t// 发送选择事件\r\n\t\t\t\tfor (const iterator of bestSeatList[bestSeatListIndex]) {\r\n\t\t\t\t\tif (iterator.otherLoveSeatId !== null) {\r\n\t\t\t\t\t\tlet checkFor = false\r\n\t\t\t\t\t\tfor (const item of notEmitSeatArr) {\r\n\t\t\t\t\t\t\tif (iterator.seatId === item) {\r\n\t\t\t\t\t\t\t\t// 情侣座的另外一半不发送事件\r\n\t\t\t\t\t\t\t\tcheckFor = true\r\n\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (checkFor) {\r\n\t\t\t\t\t\t\tcontinue\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tnotEmitSeatArr.push(iterator.otherLoveSeatId)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.processUnSelected(iterator.orgIndex)\r\n\t\t\t\t}\r\n\t\t\t\tlet _selectedSeatList = _self.selectedSeat\r\n\t\t\t\tlet totalPrice = 0\r\n\t\t\t\tfor (const key in _selectedSeatList) {\r\n\t\t\t\t\tlet price = parseFloat(_selectedSeatList[key].price);\r\n\t\t\t\t\ttotalPrice += price;\r\n\t\t\t\t}\r\n\t\t\t\tthis.totalPrice = totalPrice\r\n\t\t\t},\r\n\t\t\t// 找寻每排的最佳座位数组\r\n\t\t\tseachBestSeatByRow: function(rowSeatList, value) {\r\n\t\t\t\tlet effectiveSeatLeft = []\r\n\t\t\t\tlet effectiveSeatRight = []\r\n\t\t\t\tlet effectiveSeatMiddle = []\r\n\t\t\t\t// 检查居中对齐包含最佳座位的\r\n\t\t\t\teffectiveSeatMiddle = this.checkSeatMiddle(rowSeatList, value)\r\n\t\t\t\t// 左边检查开始\r\n\t\t\t\teffectiveSeatLeft = this.checkSeatWithDirection(rowSeatList, value, '-')\r\n\t\t\t\t// 右边检查开始\r\n\t\t\t\teffectiveSeatRight = this.checkSeatWithDirection(rowSeatList, value, '+')\r\n\t\t\t\t// 如果这排中 包含最佳坐标有座位数满足 返回这批座位数组\r\n\t\t\t\tif (effectiveSeatMiddle.length === value) {\r\n\t\t\t\t\treturn effectiveSeatMiddle\r\n\t\t\t\t}\r\n\t\t\t\t// 如果这排中 不包含最佳座位 但是左右两侧都有满足座位数 取离中心点近的方向座位数组\r\n\t\t\t\tif (effectiveSeatLeft.length === value && effectiveSeatRight.length === value) {\r\n\t\t\t\t\treturn Math.abs(effectiveSeatLeft[0].columnNo - this.bestX) > Math.abs(effectiveSeatRight[0].columnNo -\r\n\t\t\t\t\t\tthis.bestX) ? effectiveSeatRight : effectiveSeatLeft\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 否则 返回 左右两侧 某一侧满足的座位数组\r\n\t\t\t\t\tif (effectiveSeatLeft.length === value) {\r\n\t\t\t\t\t\treturn effectiveSeatLeft\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (effectiveSeatRight.length === value) {\r\n\t\t\t\t\t\treturn effectiveSeatRight\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn null\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 找到次排是否有快速选择座位数有效的数组 寻找的坐标为 最佳座位根据快速选择座位数 取左右两边正负座位数\r\n\t\t\tcheckSeatMiddle: function(rowSeatList, value) {\r\n\t\t\t\tlet effectiveSeat = []\r\n\t\t\t\tlet existLoveSeat = false\r\n\t\t\t\t// 从负到整的值动态值\r\n\t\t\t\tlet activeValue = value > 2 ? value - 2 : value - 1\r\n\t\t\t\tif (value === this.maxX) {\r\n\t\t\t\t\tactiveValue = activeValue - 1\r\n\t\t\t\t} else if (value > this.maxX) {\r\n\t\t\t\t\t// 快速选择座位数 大于影厅横向左边值 直接返回没有有效座位\r\n\t\t\t\t\treturn effectiveSeat\r\n\t\t\t\t}\r\n\t\t\t\t// 最佳座位根据快速选择座位数 取左右两边正负座位数\r\n\t\t\t\tfor (let j = -activeValue; j <= activeValue; j++) {\r\n\t\t\t\t\t// 确认最佳座位状态\r\n\t\t\t\t\tlet iter = rowSeatList.find((el) => (parseInt(el.columnNo) === this.bestX + j))\r\n\t\t\t\t\t// 最佳座位\r\n\t\t\t\t\tif (iter === undefined) {\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (iter.nowIcon === iter.soldedIcon || iter.nowIcon === iter.fixIcon) {\r\n\t\t\t\t\t\teffectiveSeat = []\r\n\t\t\t\t\t\texistLoveSeat = false\r\n\t\t\t\t\t\tcontinue\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (iter.otherLoveSeatId !== null) {\r\n\t\t\t\t\t\t\texistLoveSeat = true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\teffectiveSeat.push(iter)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (effectiveSeat.length > value) {\r\n\t\t\t\t\t// 最后找出居中座位数组后 由于会有已售和维修和过道的影响 在数组中 先删除后面的位置值 再删除前面位置值 直到值为value(快速选择座位数)\r\n\t\t\t\t\tfor (let i = 0; i < activeValue; i++) {\r\n\t\t\t\t\t\teffectiveSeat.pop()\r\n\t\t\t\t\t\tif (effectiveSeat.length === value) {\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\teffectiveSeat.shift()\r\n\t\t\t\t\t\tif (effectiveSeat.length === value) {\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//预检\r\n\t\t\t\t\tif (this.preCheckSeatMakeEmpty(effectiveSeat)) {\r\n\t\t\t\t\t\treturn []\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (effectiveSeat.length < value) {\r\n\t\t\t\t\treturn []\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//预检\r\n\t\t\t\t\tif (this.preCheckSeatMakeEmpty(effectiveSeat)) {\r\n\t\t\t\t\t\treturn []\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// 如果最近座位组中存在情侣座\r\n\t\t\t\t// 检查数组内情侣座必须成对出现 否则舍弃\r\n\t\t\t\tif (existLoveSeat) {\r\n\t\t\t\t\tif (!this.checkLoveSeatIsDouble(effectiveSeat)) {\r\n\t\t\t\t\t\treturn []\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn effectiveSeat\r\n\t\t\t},\r\n\t\t\t// 找到次排是否有快速选择座位数有效的数组\r\n\t\t\tcheckSeatWithDirection: function(rowSeatList, value, direction) {\r\n\t\t\t\tlet activeValue = value\r\n\t\t\t\t// 最多允许过道等于3 由于某些影厅 居中的位置不是座位 存在大部分的过道 导致无法选择到最佳座位\r\n\t\t\t\tlet roadDistance = 3\r\n\t\t\t\tlet effectiveSeat = []\r\n\t\t\t\tlet existLoveSeat = false\r\n\t\t\t\tfor (let j = 0; j < activeValue; j++) {\r\n\t\t\t\t\tlet iter\r\n\t\t\t\t\tif (direction === '-') {\r\n\t\t\t\t\t\titer = rowSeatList.find((el) => (parseInt(el.columnNo) === this.bestX - j))\r\n\t\t\t\t\t} else if (direction === '+') {\r\n\t\t\t\t\t\titer = rowSeatList.find((el) => (parseInt(el.columnNo) === this.bestX + j))\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (iter === undefined) {\r\n\t\t\t\t\t\tactiveValue++\r\n\t\t\t\t\t\troadDistance--\r\n\t\t\t\t\t\tif (roadDistance <= 0) {\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcontinue\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (iter.nowIcon === iter.soldedIcon || iter.nowIcon === iter.fixIcon) {\r\n\t\t\t\t\t\tactiveValue++\r\n\t\t\t\t\t\teffectiveSeat = []\r\n\t\t\t\t\t\texistLoveSeat = false\r\n\t\t\t\t\t\tcontinue\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (iter.otherLoveSeatId !== null) {\r\n\t\t\t\t\t\t\texistLoveSeat = true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\teffectiveSeat.push(iter)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (effectiveSeat.length === value) {\r\n\t\t\t\t\t\t//预检\r\n\t\t\t\t\t\tif (this.preCheckSeatMakeEmpty(effectiveSeat)) {\r\n\t\t\t\t\t\t\tactiveValue++\r\n\t\t\t\t\t\t\teffectiveSeat.shift()\r\n\t\t\t\t\t\t\tcontinue\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// 如果最近座位组中存在情侣座\r\n\t\t\t\t// 检查数组内情侣座必须成对出现 否则舍弃\r\n\t\t\t\tif (existLoveSeat) {\r\n\t\t\t\t\tif (!this.checkLoveSeatIsDouble(effectiveSeat)) {\r\n\t\t\t\t\t\treturn []\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn effectiveSeat\r\n\t\t\t},\r\n\t\t\tcheckLoveSeatIsDouble: function(arr) {\r\n\t\t\t\t// 检查数组内必须情侣座是否对出现 否则舍弃\r\n\t\t\t\tvar orgSet = new Set()\r\n\t\t\t\tvar loveSeatSet = new Set()\r\n\t\t\t\tfor (const iterator of arr) {\r\n\t\t\t\t\torgSet.add(iterator.seatId)\r\n\t\t\t\t}\r\n\t\t\t\tfor (const iterator of arr) {\r\n\t\t\t\t\tif (iterator.otherLoveSeatId !== null) {\r\n\t\t\t\t\t\tloveSeatSet.add(iterator.otherLoveSeatId)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tlet beforelen = orgSet.size\r\n\t\t\t\tlet afterlen = new Set([...orgSet, ...loveSeatSet]).size\r\n\t\t\t\treturn beforelen === afterlen\r\n\t\t\t},\r\n\t\t\t//预检座位\r\n\t\t\tpreCheckSeatMakeEmpty(arr) {\r\n\t\t\t\tlet that = this\r\n\t\t\t\t// 开始计算是否留下空位 ------------ 开始\r\n\t\t\t\tlet result = arr.every(function(element, index, array) {\r\n\t\t\t\t\treturn that.checkSeat(element, arr)\r\n\t\t\t\t})\r\n\t\t\t\t// 开始计算是否留下空位 ------------ 结束\r\n\t\t\t\treturn !result\r\n\t\t\t},\r\n\t\t\tclickShow(){\r\n\t\t\t\tthis.isShow = !this.isShow;\r\n\t\t\t},\r\n\t\t\tclickTimes(e){\r\n\t\t\t\tlet showId = e.currentTarget.dataset.showid;\r\n\t\t\t\tthis.showId = showId;\r\n\t\t\t\tthis.isShow = false\r\n\t\t\t\tthis.getFilmShowSeats();\r\n\t\t\t},\r\n\t\t\tgetFilmShowList() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet action = 'get_simplify_film_show_list';\r\n\t\t\t\tlet controller = 'filmset';\r\n\t\t\t\tlet data = JSON.stringify({\r\n\t\t\t\t\tcinemaId: that.cinemaid,\r\n\t\t\t\t\tmovieId: that.movieId,\r\n\t\t\t\t\tdate: that.date,\r\n\t\t\t\t\tshowId: that.showId\r\n\t\t\t\t})\r\n\t\t\t\tthis.$utils.postNew(action, data, controller).then(res => {\r\n\t\t\t\t\tif (res.sta == 1) {\r\n\t\t\t\t\t\tif(res.rs && res.rs.show_list){\r\n\t\t\t\t\t\t\tthat.show_list = res.rs.show_list;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\tpage {\r\n\t\tbackground-color: #F6F6F6;\r\n\t}\r\n\r\n\t/*\r\n\t*上方影片名称样式\r\n\t*/\r\n\r\n\t.movieName {\r\n\t\tfont-size: 35rpx;\r\n\t\tfont-weight: 600;\r\n\t\tmargin-bottom: 10rpx;\r\n\t}\r\n\r\n\t/*\r\n\t*上方排期信息样式\r\n\t*/\r\n\r\n\t.planDetail {\r\n\t\tcolor: #aaa;\r\n\t\tfont-size: 27rpx;\r\n\t}\r\n\r\n\t/*\r\n\t*上方影片,排期信息的父级\r\n\t*/\r\n\r\n\t.info {\r\n\t\twidth: 100%;\r\n\t\theight: 80rpx;\r\n\t\tbackground: #fff;\r\n\t\tborder-top: 1rpx solid #eee;\r\n\t\tborder-bottom: 1rpx solid #eee;\r\n\t\tpadding: 30rpx 30rpx;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.seatDemosBack {\r\n\t\tbackground: #F6F6F6;\r\n\t\tmargin-top: 20rpx;\r\n\t}\r\n\r\n\t/*\r\n\t*座位样式的父级\r\n\t*/\r\n\r\n\t.seatDemos {\r\n\t\tcolor: #aaa;\r\n\t\tbackground: #F6F6F6;\r\n\t\tposition: relative;\r\n\t\tmargin: 0 auto;\r\n\t\twidth: 45%;\r\n\t\tbox-sizing: border-box;\r\n\t\tfont-size: 25rpx;\r\n\t\theight: 70rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.areaSeatDemos {\r\n\t\twidth: 100%;\r\n\t\theight: 80rpx;\r\n\t\tposition: fixed;\r\n\t\tbottom: 100rpx;\r\n\t}\r\n\r\n\t.seatDemosScroll {\r\n\t\tcolor: #aaa;\r\n\t\tbackground: #fff;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tfont-size: 25rpx;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\r\n\t.seatDemosScrollItem {\r\n\t\theight: 90rpx;\r\n\t\twhite-space: nowrap;\r\n\t\toverflow: hidden;\r\n\t\tmargin-left: 15px;\r\n\t\tdisplay: inline-block;\r\n\t\talign-items: center;\r\n\t\tmargin-top: 25rpx;\r\n\t}\r\n\r\n\t.seatDemosScrollItem.Itemnormal image {\r\n\t\tmargin-right: 10rpx;\r\n\t\twidth: 40rpx;\r\n\t\theight: 40rpx;\r\n\t\tvertical-align: -30%;\r\n\t}\r\n\r\n\t/*\r\n\t*情侣座位的图片样式\r\n\t*/\r\n\r\n\t.seatDemosScrollItem.Itemlove image {\r\n\t\tmargin: 0;\r\n\t\twidth: 40rpx;\r\n\t\theight: 40rpx;\r\n\t\tvertical-align: -30%;\r\n\t}\r\n\r\n\t/*\r\n\t*情侣座位的字体样式\r\n\t*/\r\n\r\n\t.seatDemosScrollItem.Itemlove text {\r\n\t\tmargin-left: 10rpx;\r\n\t}\r\n\r\n\t.seatDemo image {\r\n\t\twidth: 26rpx;\r\n\t\theight: 26rpx;\r\n\t}\r\n\r\n\t.seatDemoImg{\r\n\t\twidth: 26rpx;\r\n\t\theight: 26rpx;\r\n\t}\r\n\r\n\t/*\r\n\t*普通座位的图片样式\r\n\t*/\r\n\r\n\t.seatDemoItem {\r\n\t\twhite-space: nowrap;\r\n\t\tmargin-left: 10rpx;\r\n\t\tdisplay: block;\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #333333;\r\n\t}\r\n\r\n\t/*\r\n\t*情侣座位的图片样式\r\n\t*/\r\n\r\n\t.seatDemo {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t/*\r\n\t*情侣座位的字体样式\r\n\t*/\r\n\r\n\t.loveSeatDemo text {\r\n\t\tmargin-left: 10rpx;\r\n\t}\r\n\r\n\t/*\r\n\t*影厅图上方显示影厅名字区域\r\n\t*/\r\n\r\n\t.hallName {\r\n\t\twidth: 100%;\r\n\t\theight: 0;\r\n\t\tborder-top: 40rpx solid #F6F6F6;\r\n\t\tborder-right: 20rpx solid transparent;\r\n\t\tborder-left: 20rpx solid transparent;\r\n\t\tline-height: 30rpx;\r\n\t\t/* color: white; */\r\n\t\tposition: absolute;\r\n\t\ttop: -70rpx;\r\n\t\tz-index: 2;\r\n\t\tleft: 50%;\r\n\t\ttransform: translateX(-50%);\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\r\n\t/*\r\n\t*影厅图上方显示影厅名字区域字体样式\r\n\t*/\r\n\r\n\t.hallName text {\r\n\t\tposition: absolute;\r\n\t\tleft: 50%;\r\n\t\ttransform: translateX(-50%);\r\n\t\ttop: -35rpx;\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999999;\r\n\t}\r\n\r\n\t/*\r\n\t*所有座位的区域\r\n\t*/\r\n\r\n\t.seatArea {\r\n\t\tmargin: 0 auto;\r\n\t\tfont-size: 10rpx;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t/*\r\n\t*中轴线\r\n\t*/\r\n\r\n\t.alignLine {\r\n\t\tposition: absolute;\r\n\t\tleft: 50%;\r\n\t\theight: 100%;\r\n\t\tborder-left: 1px dashed #aaa;\r\n\t\ttransform: translateX(-100%);\r\n\t}\r\n\r\n\t/*\r\n\t*选座区域普通座位的图片样式\r\n\t*/\r\n\r\n\t.normal {\r\n\t\tposition: relative;\r\n\t\t/* margin: 10rpx; */\r\n\t\twidth:10px;\r\n\t\theight:10px\r\n\t}\r\n\r\n\t/*\r\n\t*选座区域情侣座位的图片样式\r\n\t*/\r\n\r\n\t.LoveSeat {\r\n\t\tposition: relative;\r\n\t\t/* margin: 10rpx 0;  */\r\n\t\twidth: 70rpx;\r\n\t\theight: 70rpx;\r\n\t}\r\n\r\n\t/*\r\n\t*所有座位的图片样式下方透明可点击区域\r\n\t*/\r\n\r\n\t.seatTap {\r\n\t\tposition: absolute;\r\n\t\tpadding: 4rpx;\r\n\t}\r\n\r\n\t/*\r\n\t*情侣座位的图片样式下方透明可点击区域\r\n\t*/\r\n\r\n\t.LoveSeatTap {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\twidth: 70rpx;\r\n\t\theight: 70rpx;\r\n\t}\r\n\r\n\t/*\r\n\t* 座位图限制区域\r\n\t*/\r\n\r\n\tmovable-area {\r\n\t\tbackground: #F6F6F6;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t/*\r\n\t* 座位图可移动区域(座位图)\r\n\t*/\r\n\r\n\t.movableOne {\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 0rpx 60rpx 100rpx;\r\n\t\tcolor: #F6F6F6;\r\n\t}\r\n\r\n\t/*\r\n\t* 座位图可移动区域(左边座位排号栏)\r\n\t*/\r\n\r\n\t.movableTwo {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\theight: 1400rpx;\r\n\t\twidth: 30rpx;\r\n\t\tpadding: 100rpx 0;\r\n\t\tcolor: #fff;\r\n\t}\r\n\r\n\t/*\r\n\t* (左边座位排号栏整体)\r\n\t*/\r\n\r\n\t.seatTool {\r\n\t\twidth: 30rpx;\r\n\t\tpadding: 100rpx 0;\r\n\t\topacity: 0.5;\r\n\t}\r\n\r\n\t.seatToolArea {\r\n\t\tbackground: rgba(0, 0, 0, 0.2);\r\n\t\tborder-radius: 50rpx;\r\n\t}\r\n\r\n\t/*\r\n\t* (左边座位排号栏每一个块)\r\n\t*/\r\n\r\n\t.seatTag {\r\n\t\ttext-align: center;\r\n\t\tcolor: rgba(0, 0, 0, 0.5);\r\n\t}\r\n\r\n\t/*\r\n\t*页面最下方确认选座区域\r\n\t*/\r\n\r\n\t.orderComfirm {\r\n\t\tbackground: #fff;\r\n\t\t/* position: fixed; */\r\n\t\tdisplay: flex;\r\n\t\t/* bottom: 0rpx; */\r\n\t\twidth: 100%;\r\n\t\tline-height: 100rpx;\r\n\t\t/* z-index: 3; */\r\n\t}\r\n\r\n\t/*\r\n\t*页面最下方价格区域\r\n\t*/\r\n\r\n\t.orderPrice {\r\n\t\ttext-indent: 30rpx;\r\n\t\tcolor: black;\r\n\t\theight: 100rpx;\r\n\t\twidth: 60%;\r\n\t}\r\n\r\n\t/*\r\n\t*页面最下方价格字体样式\r\n\t*/\r\n\r\n\t.orderPrice text {\r\n\t\tcolor: red;\r\n\t}\r\n\r\n\t/*\r\n\t*页面最下方确认选座区域渐变色\r\n\t*/\r\n\r\n\t.comfirm {\r\n\t\tfont-weight: 900;\r\n\t\ttext-align: center;\r\n\t\tcolor: white;\r\n\t\twidth: 100%;\r\n\t\tbackground: linear-gradient(to right, #C26DFE, #6F50F5);\r\n\t\theight: 100rpx;\r\n\t}\r\n\r\n\t/*\r\n\t*用户选中的座位区域\r\n\t*/\r\n\r\n\t.selectSeatInfo {\r\n\t\tbackground: #fff;\r\n\t\t/* position: fixed;\r\n\t\tbottom: 100rpx; */\r\n\t\t/* height: 80rpx; */\r\n\t\t/* width: 100%; */\r\n\t\tpadding: 10rpx 0;\r\n\t}\r\n\r\n\t/*\r\n\t*用户选中的座位详情滑块\r\n\t*/\r\n\r\n\t.scrollSeat {\r\n\t\theight: 100rpx;\r\n\t\t/* white-space: nowrap; */\r\n\t}\r\n\r\n\t/*\r\n\t*每块用户选中的座位详情\r\n\t*/\r\n\r\n\t.scrollItem {\r\n\t\t/* border: 1rpx solid #bbb; */\r\n\t\t    min-width: 180rpx;\r\n\t\t    display: flex;\r\n\t\t    margin-right: 20rpx;\r\n\t\t    position: relative;\r\n\t\t    height: 100rpx;\r\n\t\t    background: #F6F6F6;\r\n\t\t    border-radius: 10rpx;\r\n\t\t    justify-content: center;\r\n\t\t    /* align-items: center; */\r\n\t\t    flex-direction: column;\r\n\t\t    padding-left: 20rpx;\r\n\t}\r\n\r\n\t/*\r\n\t* 快速选座模块\r\n\t*/\r\n\r\n\t.quickItem {\r\n\t\tborder: 1rpx solid #bbb;\r\n\t\tcolor: #aaa;\r\n\t\tfont-size: 28rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t\twidth: 160rpx;\r\n\t\theight: 75rpx;\r\n\t\tline-height: 75rpx;\r\n\t\ttext-align: center;\r\n\t\tdisplay: inline-block;\r\n\t\tmargin-left: 20rpx;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t/*\r\n\t*每块用户选中的座位详情上方文字\r\n\t*/\r\n\r\n\t.scrollTextTop {\r\n\t\tfont-size: 24rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333333;\r\n\t}\r\n\r\n\t/*\r\n\t*每块用户选中的座位详情下方文字\r\n\t*/\r\n\r\n\t.scrollTextBottom {\r\n\t\tfont-size: 24rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333333;\r\n\t\tmargin-top: 10rpx;\r\n\t}\r\n\r\n\t/*\r\n\t*每块用户选中的座位详情关闭按钮\r\n\t*/\r\n\r\n\t.scrollItem image {\r\n\t\tposition: absolute;\r\n\t\tz-index: 2;\r\n\t\twidth: 20rpx;\r\n\t\theight: 20rpx;\r\n\t\tright: 15rpx;\r\n\t\ttop: 50%;\r\n\t\ttransform: translateY(-50%);\r\n\t}\r\n\r\n\t.seatAreaTip {\r\n\t\tposition: relative;\r\n\t\twidth: 750rpx;\r\n\t\theight: 50rpx;\r\n\t\tline-height: 50rpx;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 16rpx;\r\n\t\tcolor: rgba(0, 0, 0, 0.1);\r\n\t\tborder-top: 1rpx dashed rgba(0, 0, 0, 0.1);\r\n\t}\r\n\t\r\n\t/* ==================\r\n\t          按钮\r\n\t ==================== */\r\n\t\r\n\t.cu-btn {\r\n\t  position: relative;\r\n\t  border: 0rpx;\r\n\t  display: inline-flex;\r\n\t  align-items: center;\r\n\t  justify-content: center;\r\n\t  box-sizing: border-box;\r\n\t  padding: 0 30rpx;\r\n\t  font-size: 28rpx;\r\n\t  height: 64rpx;\r\n\t  line-height: 1;\r\n\t  text-align: center;\r\n\t  text-decoration: none;\r\n\t  overflow: visible;\r\n\t  margin-left: initial;\r\n\t  transform: translate(0rpx, 0rpx);\r\n\t  margin-right: initial;\r\n\t}\r\n\t\r\n\t.cu-btn::after {\r\n\t  display: none;\r\n\t}\r\n\t\r\n\t.cu-btn:not([class*=\"bg-\"]) {\r\n\t  background-color: #f0f0f0;\r\n\t}\r\n\t\r\n\t.cu-btn[class*=\"line\"] {\r\n\t  background-color: transparent;\r\n\t}\r\n\t\r\n\t.cu-btn[class*=\"line\"]::after {\r\n\t  content: \" \";\r\n\t  display: block;\r\n\t  width: 200%;\r\n\t  height: 200%;\r\n\t  position: absolute;\r\n\t  top: 0;\r\n\t  left: 0;\r\n\t  border: 1rpx solid currentColor;\r\n\t  transform: scale(0.5);\r\n\t  transform-origin: 0 0;\r\n\t  box-sizing: border-box;\r\n\t  border-radius: 12rpx;\r\n\t  z-index: 1;\r\n\t  pointer-events: none;\r\n\t}\r\n\t\r\n\t.cu-btn.round[class*=\"line\"]::after {\r\n\t  border-radius: 1000rpx;\r\n\t}\r\n\t\r\n\t.cu-btn[class*=\"lines\"]::after {\r\n\t  border: 6rpx solid currentColor;\r\n\t}\r\n\t\r\n\t.cu-btn[class*=\"bg-\"]::after {\r\n\t  display: none;\r\n\t}\r\n\t\r\n\t.cu-btn.sm {\r\n\t  padding: 0 20rpx;\r\n\t  font-size: 20rpx;\r\n\t  height: 48rpx;\r\n\t}\r\n\t\r\n\t.cu-btn.lg {\r\n\t  padding: 0 40rpx;\r\n\t  font-size: 32rpx;\r\n\t  height: 80rpx;\r\n\t}\r\n\t\r\n\t.cu-btn.icon.sm {\r\n\t  width: 48rpx;\r\n\t  height: 48rpx;\r\n\t}\r\n\t\r\n\t.cu-btn.icon {\r\n\t  width: 64rpx;\r\n\t  height: 64rpx;\r\n\t  border-radius: 500rpx;\r\n\t  padding: 0;\r\n\t}\r\n\t\r\n\t.cu-btn.shadow-blur::before {\r\n\t  top: 4rpx;\r\n\t  left: 4rpx;\r\n\t  filter: blur(6rpx);\r\n\t  opacity: 0.6;\r\n\t}\r\n\t\r\n\t.cu-btn.button-hover {\r\n\t  transform: translate(1rpx, 1rpx);\r\n\t}\r\n\t\r\n\t.cu-btn.block {\r\n\t  display: flex;\r\n\t}\r\n\t\r\n\t.cu-btn[disabled] {\r\n\t  opacity: 0.6;\r\n\t  color: var(--white);\r\n\t}\r\n\t\r\n\t.bg-gradual-orange {\r\n\t  background-image: var(--gradualOrange);\r\n\t  color: var(--white);\r\n\t}\r\n\t\r\n\t.bg-gradual-pinks {\r\n\t  background-image: var(--gradualPinks);\r\n\t  color: var(--white);\r\n\t}\r\n\t\r\n\t.shadow-blur {\r\n\t  position: relative;\r\n\t}\r\n\t\r\n\t.shadow-blur::before {\r\n\t  content: \"\";\r\n\t  display: block;\r\n\t  background: inherit;\r\n\t  filter: blur(10rpx);\r\n\t  position: absolute;\r\n\t  width: 100%;\r\n\t  height: 100%;\r\n\t  top: 10rpx;\r\n\t  left: 10rpx;\r\n\t  z-index: -1;\r\n\t  opacity: 0.4;\r\n\t  transform-origin: 0 0;\r\n\t  border-radius: inherit;\r\n\t  transform: scale(1, 1);\r\n\t}\r\n\t\r\n\t.round {\r\n\t  border-radius: 5000rpx;\r\n\t}\r\n\t\r\n\t.bg-red {\r\n\t  background-color: var(--red);\r\n\t  color: var(--white);\r\n\t}\r\n\t/* ==================\r\n\t          文本\r\n\t ==================== */\r\n\t\r\n\t.text-xs {\r\n\t\tfont-size: 20rpx;\r\n\t}\r\n\t\r\n\t.text-sm {\r\n\t\tfont-size: 24rpx;\r\n\t}\r\n\t\r\n\t.text-df {\r\n\t\tfont-size: 28rpx;\r\n\t}\r\n\t\r\n\t.text-lg {\r\n\t\tfont-size: 32rpx;\r\n\t}\r\n\t\r\n\t.text-xl {\r\n\t\tfont-size: 36rpx;\r\n\t}\r\n\t\r\n\t.text-xxl {\r\n\t\tfont-size: 44rpx;\r\n\t}\r\n\t\r\n\t.text-sl {\r\n\t\tfont-size: 80rpx;\r\n\t}\r\n\t\r\n\t.text-xsl {\r\n\t\tfont-size: 120rpx;\r\n\t}\r\n\t\r\n\t.text-Abc {\r\n\t\ttext-transform: Capitalize;\r\n\t}\r\n\t\r\n\t.text-ABC {\r\n\t\ttext-transform: Uppercase;\r\n\t}\r\n\t\r\n\t.text-abc {\r\n\t\ttext-transform: Lowercase;\r\n\t}\r\n\t\r\n\t.text-price::before {\r\n\t\tcontent: \"¥\";\r\n\t\tfont-size: 80%;\r\n\t\tmargin-right: 4rpx;\r\n\t}\r\n\t\r\n\t.text-cut {\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t\r\n\t.text-bold {\r\n\t\tfont-weight: bold;\r\n\t}\r\n\t\r\n\t.text-center {\r\n\t\ttext-align: center;\r\n\t}\r\n\t\r\n\t.text-content {\r\n\t\tline-height: 1.6;\r\n\t}\r\n\t\r\n\t.text-left {\r\n\t\ttext-align: left;\r\n\t}\r\n\t\r\n\t.text-right {\r\n\t\ttext-align: right;\r\n\t}\r\n\t\r\n\t.text-red,\r\n\t.line-red,\r\n\t.lines-red {\r\n\t\tcolor: var(--red);\r\n\t}\r\n\t\r\n\t.text-orange,\r\n\t.line-orange,\r\n\t.lines-orange {\r\n\t\tcolor: var(--orange);\r\n\t}\r\n\t\r\n\t.text-yellow,\r\n\t.line-yellow,\r\n\t.lines-yellow {\r\n\t\tcolor: var(--yellow);\r\n\t}\r\n\t\r\n\t.text-olive,\r\n\t.line-olive,\r\n\t.lines-olive {\r\n\t\tcolor: var(--olive);\r\n\t}\r\n\t\r\n\t.text-green,\r\n\t.line-green,\r\n\t.lines-green {\r\n\t\tcolor: var(--green);\r\n\t}\r\n\t\r\n\t.text-cyan,\r\n\t.line-cyan,\r\n\t.lines-cyan {\r\n\t\tcolor: var(--cyan);\r\n\t}\r\n\t\r\n\t.text-blue,\r\n\t.line-blue,\r\n\t.lines-blue {\r\n\t\tcolor: var(--blue);\r\n\t}\r\n\t\r\n\t.text-purple,\r\n\t.line-purple,\r\n\t.lines-purple {\r\n\t\tcolor: var(--purple);\r\n\t}\r\n\t\r\n\t.text-mauve,\r\n\t.line-mauve,\r\n\t.lines-mauve {\r\n\t\tcolor: var(--mauve);\r\n\t}\r\n\t\r\n\t.text-pink,\r\n\t.line-pink,\r\n\t.lines-pink {\r\n\t\tcolor: var(--pink);\r\n\t}\r\n\t\r\n\t.text-brown,\r\n\t.line-brown,\r\n\t.lines-brown {\r\n\t\tcolor: var(--brown);\r\n\t}\r\n\t\r\n\t.text-grey,\r\n\t.line-grey,\r\n\t.lines-grey {\r\n\t\tcolor: var(--grey);\r\n\t}\r\n\t\r\n\t.text-gray,\r\n\t.line-gray,\r\n\t.lines-gray {\r\n\t\tcolor: var(--gray);\r\n\t}\r\n\t\r\n\t.text-black,\r\n\t.line-black,\r\n\t.lines-black {\r\n\t\tcolor: var(--black);\r\n\t}\r\n\t\r\n\t.text-white,\r\n\t.line-white,\r\n\t.lines-white {\r\n\t\tcolor: var(--white);\r\n\t}\r\n\t/* -- 阴影 -- */\r\n\t\r\n\t.shadow[class*='white'] {\r\n\t\t--ShadowSize: 0 1rpx 6rpx;\r\n\t}\r\n\t\r\n\t.shadow-lg {\r\n\t\t--ShadowSize: 0rpx 40rpx 100rpx 0rpx;\r\n\t}\r\n\t\r\n\t.shadow-warp {\r\n\t\tposition: relative;\r\n\t\tbox-shadow: 0 0 10rpx rgba(0, 0, 0, 0.1);\r\n\t}\r\n\t\r\n\t.shadow-warp:before,\r\n\t.shadow-warp:after {\r\n\t\tposition: absolute;\r\n\t\tcontent: \"\";\r\n\t\ttop: 20rpx;\r\n\t\tbottom: 30rpx;\r\n\t\tleft: 20rpx;\r\n\t\twidth: 50%;\r\n\t\tbox-shadow: 0 30rpx 20rpx rgba(0, 0, 0, 0.2);\r\n\t\ttransform: rotate(-3deg);\r\n\t\tz-index: -1;\r\n\t}\r\n\t\r\n\t.shadow-warp:after {\r\n\t\tright: 20rpx;\r\n\t\tleft: auto;\r\n\t\ttransform: rotate(3deg);\r\n\t}\r\n\t.text-indent{\r\n\t  text-indent: 20rpx;\r\n\t}\r\n\t.margin-left-xs {\r\n\t\tmargin-left: 10rpx;\r\n\t}\r\n\t.about{\r\n\t  position: absolute;\r\n\t  right:80rpx;\r\n\t  top:50%;\r\n\t  transform: translateY(-50%)\r\n\t}\r\n\t\r\n\t.css-bottom{\r\n\t\twidth: 750rpx;\r\n\t\t/* height: 394rpx; */\r\n\t\tbackground: #FFFFFF;\r\n\t\tborder-radius: 20rpx 20rpx 0px 0px;\r\n\t\tposition: fixed;\r\n\t\tdisplay: flex;\r\n\t\tbottom: 0rpx;\r\n\t\twidth: 100%;\r\n\t\tz-index: 3;\r\n\t\tflex-direction: column;\r\n\t}\r\n\t.css-bottom-1{\r\n\t\tpadding: 26rpx 30rpx 30rpx 36rpx;\r\n\t\tdisplay: flex;\r\n\t\t/* align-items: center; */\r\n\t\tflex-direction: column;\r\n\t}\r\n\t.css-bottom-1-1{\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\t.css-bottom-1-1-1{\r\n\t\tfont-size: 30rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333333;\r\n\t}\r\n\t.css-bottom-1-1-2{\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\t.css-bottom-1-1-2-1{\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #427DE5;\r\n\t}\r\n\t.css-bottom-1-1-2-2{\r\n\t\twidth: 30rpx;\r\n\t\theight: 30rpx;\r\n\t\tmargin-left: 10rpx;\r\n\t}\r\n\t.css-bottom-1-2{\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #DB3C3A;\r\n\t}\r\n\t.css-bottom-1-3{\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #666666;\r\n\t\tmargin-left: 12rpx;\r\n\t}\r\n\t\r\n\t.css-bottom-comfirm{\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tposition: absolute;\r\n\t\tbottom: 18rpx;\r\n\t\tleft: 25rpx;\r\n\t}\r\n\t.css-bottom-comfirm-1{\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\twidth: 700rpx;\r\n\t\theight: 88rpx;\r\n\t\tbackground: linear-gradient(61deg, #E96C56 0%, #ED2430 100%);\r\n\t\tborder-radius: 44rpx;\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #FFFFFF;\r\n\t}\r\n\t\r\n\t.scrollTime{\r\n\t\theight: 110rpx !important;\r\n\t}\r\n\t.scrollTimeItem {\r\n\t\tborder: 1px solid #DB3C3A;\r\n\t\t    width: 100rpx;\r\n\t\t    display: flex;\r\n\t\t    margin-right: 20rpx;\r\n\t\t    position: relative;\r\n\t\t    height: 110rpx;\r\n\t\t    background: #FFFFFF;\r\n\t\t    border-radius: 10rpx;\r\n\t\t    justify-content: center;\r\n\t\t    align-items: center;\r\n\t\t    flex-direction: column;\r\n\t\t    /* padding-left: 20rpx; */\r\n\t}\r\n\t.scrollTimeItemDefault{\r\n\t\tborder: 1px solid #666666;\r\n\t\t    width: 100rpx;\r\n\t\t    display: flex;\r\n\t\t    margin-right: 20rpx;\r\n\t\t    position: relative;\r\n\t\t    height: 110rpx;\r\n\t\t    background: #FFFFFF;\r\n\t\t    border-radius: 10rpx;\r\n\t\t    justify-content: center;\r\n\t\t    align-items: center;\r\n\t\t    flex-direction: column;\r\n\t}\r\n\t.scrollTimeTitle{\r\n\t\tfont-size: 22rpx;\r\n\t\tfont-weight: bold;\r\n\t\t    color: #333333;\r\n\t}\r\n\t.scrollTimeContent{\r\n\t\tfont-size: 20rpx;\r\n\t\t    margin-top: 4rpx;\r\n\t\t    color: #666666;\r\n\t}\r\n\t.scrollTimePrice{\r\n\t\t    font-size: 22rpx;\r\n\t\t\tmargin-top: 4rpx;\r\n\t\t    color: #DB3C3A;\r\n\t}\r\n\t\r\n\t.area-left{\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tflex-direction: column;\r\n\t\twidth: 30rpx;\r\n\t\tbackground: #000000;\r\n\t\tborder-radius: 21rpx;\r\n\t\topacity: 0.29;\r\n\t}\r\n\t.area-left-number{\r\n\t\tfont-size: 19rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #FFFFFF;\r\n\t\tpadding: 6rpx 10rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\t\r\n\t/**\r\n\t * \r\n\t */\r\n\t.visual_screen {\r\n\t  height: 30rpx;\r\n\t  width: 100%;\r\n\t  display: flex;\r\n\t  justify-content: center;\r\n\t  overflow: hidden;\r\n\t  margin-bottom: 10rpx;\r\n\t  /* position: absolute;\r\n\t  top: -70rpx; */\r\n\t}\r\n\t.screen {\r\n\t  margin-top: 0;\r\n\t  padding: 0;\r\n\t  height: 30vw;\r\n\t  width: 100vw;\r\n\t  box-sizing: border-box;\r\n\t  border: 15rpx solid #c9cdd3;\r\n\t  border-radius: 50%;\r\n\t}\r\n\t.visual_title {\r\n\t  font-size: 23rpx;\r\n\t  width: 100%;\r\n\t  height: 20rpx;\r\n\t  text-align: center;\r\n\t  color: #6d6d6d;\r\n\t  margin-bottom: 0rpx;\r\n\t  /* position: absolute;\r\n\t  top: -30rpx; */\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./CinemaSeatSelect.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./CinemaSeatSelect.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}