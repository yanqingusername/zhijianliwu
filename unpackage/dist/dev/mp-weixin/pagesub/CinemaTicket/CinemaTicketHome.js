(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesub/CinemaTicket/CinemaTicketHome"],{775:
/*!**********************************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/main.js?{"page":"pagesub%2FCinemaTicket%2FCinemaTicketHome"} ***!
  \**********************************************************************************************************************/
/*! no static exports found */function(t,i,e){"use strict";(function(t){e(/*! uni-pages */5);n(e(/*! vue */3));var i=n(e(/*! ./pagesub/CinemaTicket/CinemaTicketHome.vue */776));function n(t){return t&&t.__esModule?t:{default:t}}t(i.default)}).call(this,e(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},776:
/*!***************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pagesub/CinemaTicket/CinemaTicketHome.vue ***!
  \***************************************************************************************************/
/*! no static exports found */function(t,i,e){"use strict";e.r(i);var n=e(/*! ./CinemaTicketHome.vue?vue&type=template&id=2f33151c& */777),s=e(/*! ./CinemaTicketHome.vue?vue&type=script&lang=js& */779);for(var a in s)"default"!==a&&function(t){e.d(i,t,(function(){return s[t]}))}(a);e(/*! ./CinemaTicketHome.vue?vue&type=style&index=0&lang=css& */781);var o,r=e(/*! ../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */20),c=Object(r["default"])(s["default"],n["render"],n["staticRenderFns"],!1,null,null,null,!1,n["components"],o);c.options.__file="pagesub/CinemaTicket/CinemaTicketHome.vue",i["default"]=c.exports},777:
/*!**********************************************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pagesub/CinemaTicket/CinemaTicketHome.vue?vue&type=template&id=2f33151c& ***!
  \**********************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,i,e){"use strict";e.r(i);var n=e(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./CinemaTicketHome.vue?vue&type=template&id=2f33151c& */778);e.d(i,"render",(function(){return n["render"]})),e.d(i,"staticRenderFns",(function(){return n["staticRenderFns"]})),e.d(i,"recyclableRender",(function(){return n["recyclableRender"]})),e.d(i,"components",(function(){return n["components"]}))},778:
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/user/zhjian20210728/devzhijian/zhijianliwu/pagesub/CinemaTicket/CinemaTicketHome.vue?vue&type=template&id=2f33151c& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,i,e){"use strict";var n;e.r(i),e.d(i,"render",(function(){return s})),e.d(i,"staticRenderFns",(function(){return o})),e.d(i,"recyclableRender",(function(){return a})),e.d(i,"components",(function(){return n}));var s=function(){var t=this,i=t.$createElement;t._self._c},a=!1,o=[];s._withStripped=!0},779:
/*!****************************************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pagesub/CinemaTicket/CinemaTicketHome.vue?vue&type=script&lang=js& ***!
  \****************************************************************************************************************************/
/*! no static exports found */function(t,i,e){"use strict";e.r(i);var n=e(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./CinemaTicketHome.vue?vue&type=script&lang=js& */780),s=e.n(n);for(var a in n)"default"!==a&&function(t){e.d(i,t,(function(){return n[t]}))}(a);i["default"]=s.a},780:
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/user/zhjian20210728/devzhijian/zhijianliwu/pagesub/CinemaTicket/CinemaTicketHome.vue?vue&type=script&lang=js& ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,i,e){"use strict";(function(t){var e;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n={data:function(){return{indxBrands:0,FilmCinemaBrands:[],indxRegion:0,FilmRegionsList:[],isRegions:!1,cityCode:"",regionCode:"",date:"",keywords:"",longitude:"",latitude:"",FilmCinemaList:[],pageSize:10,pageIndex:1,tabNumber:0,currTag:!1,cityname:"北京",swiper:[],swiperCurrentIndex:0,autoplay:!0,interval:2e3,duration:500,isSearch:!1,cthList:[],itemsList:[{title:"IMAX厅"},{title:"IMAX厅"},{title:"IMAX厅"},{title:"IMAX厅"}],flag:0,slide_up:""}},onLoad:function(t){var i=this,e=JSON.stringify({a:0}),n="get_film_atlas",s="filmset";this.$utils.postNew(n,e,s).then((function(t){console.log("轮播图：",t),i.swiper=t.rs})),this.getArea(),this.getFilmmovielist(1)},onShow:function(){0==this.tabNumber||1==this.tabNumber||(this.cityname=t.getStorageSync("cityname"),this.cityCode=t.getStorageSync("cityCode"),this.getFilmCinemaList(1)),this.getFilmCinemaBrands(),this.cityCode&&this.getFilmRegionsList()},methods:{getArea:function(){var i=this;t.getLocation({type:"gcj02",success:function(t){i.getCityAddress(t.latitude,t.longitude)},fail:function(e){t.showModal({title:"位置授权",content:"获取您的地理位置用于获取当前城市影片列表，建议允许",cancelText:"不允许",confirmText:"允许",success:function(e){e.confirm?t.openSetting({success:function(e){1==e["authSetting"]["scope.userLocation"]?i.getArea():(t.showToast({title:"未能获得当前位置信息",icon:"none"}),t.navigateBack({delta:1}))}}):e.cancel&&(t.showToast({title:"未能获得当前位置信息",icon:"none"}),t.navigateBack({delta:1}))}})}})},clickTabs:function(t){this.tabNumber=t.currentTarget.dataset.tabnumber,this.currTag=!1,0==this.tabNumber||1==this.tabNumber?this.getFilmmovielist(1):this.getFilmCinemaList(1)},changeswiper:function(t){var i=t.detail,e=(i.current,i.source);"autoplay"!==e&&"touch"!==e||(this.swiperCurrentIndex=t.detail.current)},onkeyword:function(t){this.keywords=t.detail.value},search:function(){var i=this.keywords.replace(/[ ]/g,"");i?(this.keywords=i,this.getFilmCinemaList(1)):t.showToast({icon:"none",title:"请输入搜索内容"})},clearKeyword:function(){this.keywords="",this.getFilmCinemaList(1)},clickSearch:function(){this.isSearch=!this.isSearch,this.currTag=!1},clickSelect:function(){this.currTag=!this.currTag,this.isRegions=!1},clickRegions:function(){this.isRegions=!this.isRegions,this.currTag=!1},getCityAddress:function(i,e){var n=this,s="get_city_info",a="filmset",o=JSON.stringify({latitude:i,longitude:e});this.$utils.postNew(s,o,a).then((function(s){1==s.sta&&(n.cityname=s.rs.address_component.city,n.cityCode=s.rs.cityCode,n.longitude=e,n.latitude=i,t.setStorageSync("cityname",n.cityname),t.setStorageSync("cityCode",n.cityCode),n.getFilmRegionsList())}))},getFilmmovielist:function(t){1==t&&(this.pageIndex=1);var i=this,e="get_film_movie_list",n="films",s=JSON.stringify({type:this.tabNumber,size:this.pageSize,page:this.pageIndex});this.$utils.postNew(e,s,n).then((function(e){1==t?(i.pageIndex++,i.cthList=e.rs.list,i.isAll=!1):e.rs.list.length>0?(i.cthList=i.cthList.concat(e.rs.list),i.pageIndex++):i.isAll=!0}))},getFilmCinemaList:function(t){1==t&&(this.pageIndex=1);var i=this,e="get_film_cinema_list",n="films",s=JSON.stringify({cityCode:this.cityCode,regionCode:this.regionCode,date:this.date,keywords:this.keywords,longitude:this.longitude,latitude:this.latitude,size:this.pageSize,page:this.pageIndex});this.$utils.postNew(e,s,n).then((function(e){1==t?(i.pageIndex++,i.FilmCinemaList=e.rs.list,i.isAll=!1):e.rs.list.length>0?(i.FilmCinemaList=i.FilmCinemaList.concat(e.rs.list),i.pageIndex++):i.isAll=!0}))},getFilmRegionsList:function(){var t=this,i="get_film_regions_list",e="films",n=JSON.stringify({cityCode:this.cityCode});this.$utils.postNew(i,n,e).then((function(i){t.FilmRegionsList=i.rs;var e={regionCode:"",regionName:"不限区域"};t.FilmRegionsList.length>0&&t.FilmRegionsList.unshift(e)}))},getFilmCinemaBrands:function(){var t=this,i="get_film_cinema_brands",e="films",n=JSON.stringify({});this.$utils.postNew(i,n,e).then((function(i){t.FilmCinemaBrands=i.rs;var e="全部";t.FilmCinemaBrands.unshift(e)}))},clickDetail:function(i){var e=i.currentTarget.dataset.url;t.navigateTo({url:e})},clickRegionCode:function(t){this.regionCode=t.currentTarget.dataset.regioncode,this.indxRegion=t.currentTarget.dataset.index,this.getFilmCinemaList(1)},clickBrands:function(t){this.keywords=t.currentTarget.dataset.brands,this.indxBrands=t.currentTarget.dataset.index,0==this.indxBrands&&(this.keywords=""),this.getFilmCinemaList(1)},clickClear:function(t){},clickLike:function(i){var e=i.currentTarget.dataset.movieid,n=this,s="set_film_like",a="filmset",o=t.getStorageSync("id"),r=JSON.stringify({movieId:e,memberid:o});this.$utils.postNew(s,r,a).then((function(t){1==t.sta&&n.getFilmCinemaList(1)}))},clickMyOrder:function(){t.navigateTo({url:"/pagesub/CinemaTicket/CinemaTicketOrderList"})},handletouchmove:function(t){console.log(t),0===this.flag&&this.fadeOut()},handletouchstart:function(t){},handletouchend:function(t){this.flag=0,this.fadeIn()},fadeIn:function(){var t=wx.createAnimation({duration:400,timingType:"ease"});this.animation=t,t.opacity(1).step(),t.translateY(0).step(),this.slide_up=t.export()},fadeOut:function(){var t=wx.createAnimation({duration:400,timingType:"ease"});this.animation=t,t.translateY(40).step(),t.opacity(0).step(),this.slide_up=t.export()}},onPageScroll:function(t){var i=this;clearTimeout(e),i.fadeOut(),e=setTimeout((function(){console.log("滚动结束了"),i.fadeIn()}),500)},onPullDownRefresh:function(){0==this.tabNumber||1==this.tabNumber?this.getFilmmovielist(1):this.getFilmCinemaList(1),setTimeout((function(){t.stopPullDownRefresh()}),500)},onReachBottom:function(){0==this.tabNumber||1==this.tabNumber?this.getFilmmovielist(2):this.getFilmCinemaList(2)}};i.default=n}).call(this,e(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},781:
/*!************************************************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pagesub/CinemaTicket/CinemaTicketHome.vue?vue&type=style&index=0&lang=css& ***!
  \************************************************************************************************************************************/
/*! no static exports found */function(t,i,e){"use strict";e.r(i);var n=e(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./CinemaTicketHome.vue?vue&type=style&index=0&lang=css& */782),s=e.n(n);for(var a in n)"default"!==a&&function(t){e.d(i,t,(function(){return n[t]}))}(a);i["default"]=s.a},782:
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/user/zhjian20210728/devzhijian/zhijianliwu/pagesub/CinemaTicket/CinemaTicketHome.vue?vue&type=style&index=0&lang=css& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,i,e){}},[[775,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pagesub/CinemaTicket/CinemaTicketHome.js.map