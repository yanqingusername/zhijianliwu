(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["pages/orderList/orderList"],{

/***/ 462:
/*!****************************************************************************************************!*\
  !*** C:/Users/HI BOY/Desktop/zhijianliwu20210716/main.js?{"page":"pages%2ForderList%2ForderList"} ***!
  \****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(createPage) {__webpack_require__(/*! uni-pages */ 4);
var _vue = _interopRequireDefault(__webpack_require__(/*! vue */ 2));
var _orderList = _interopRequireDefault(__webpack_require__(/*! ./pages/orderList/orderList.vue */ 463));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}
createPage(_orderList.default);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["createPage"]))

/***/ }),

/***/ 463:
/*!*********************************************************************************!*\
  !*** C:/Users/HI BOY/Desktop/zhijianliwu20210716/pages/orderList/orderList.vue ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _orderList_vue_vue_type_template_id_40959460___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./orderList.vue?vue&type=template&id=40959460& */ 464);
/* harmony import */ var _orderList_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./orderList.vue?vue&type=script&lang=js& */ 466);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _orderList_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _orderList_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _orderList_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./orderList.vue?vue&type=style&index=0&lang=css& */ 468);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */ 16);

var renderjs





/* normalize component */

var component = Object(_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _orderList_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _orderList_vue_vue_type_template_id_40959460___WEBPACK_IMPORTED_MODULE_0__["render"],
  _orderList_vue_vue_type_template_id_40959460___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null,
  false,
  _orderList_vue_vue_type_template_id_40959460___WEBPACK_IMPORTED_MODULE_0__["components"],
  renderjs
)

component.options.__file = "pages/orderList/orderList.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 464:
/*!****************************************************************************************************************!*\
  !*** C:/Users/HI BOY/Desktop/zhijianliwu20210716/pages/orderList/orderList.vue?vue&type=template&id=40959460& ***!
  \****************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_orderList_vue_vue_type_template_id_40959460___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orderList.vue?vue&type=template&id=40959460& */ 465);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_orderList_vue_vue_type_template_id_40959460___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_orderList_vue_vue_type_template_id_40959460___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_orderList_vue_vue_type_template_id_40959460___WEBPACK_IMPORTED_MODULE_0__["recyclableRender"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "components", function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_orderList_vue_vue_type_template_id_40959460___WEBPACK_IMPORTED_MODULE_0__["components"]; });



/***/ }),

/***/ 465:
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/HI BOY/Desktop/zhijianliwu20210716/pages/orderList/orderList.vue?vue&type=template&id=40959460& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return recyclableRender; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "components", function() { return components; });
var components
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  var l1 = _vm.__map(_vm.screenPurchase, function(item, index) {
    var $orig = _vm.__get_orig(item)

    var g0 = item.goodsinfo[0].head_img
      ? _vm.$utils.imageUrl(item.goodsinfo[0].head_img)
      : null

    var l0 = _vm.__map(item.goodsinfo, function(it, index) {
      var $orig = _vm.__get_orig(it)

      var g1 = _vm.$utils.imageUrl(it.head_img)
      return {
        $orig: $orig,
        g1: g1
      }
    })

    return {
      $orig: $orig,
      g0: g0,
      l0: l0
    }
  })

  var l3 = _vm.__map(_vm.order, function(item, index) {
    var $orig = _vm.__get_orig(item)

    var g2 = item.goodsinfo_all[0].head_img
      ? _vm.$utils.imageUrl(item.goodsinfo_all[0].head_img)
      : null

    var l2 = _vm.__map(item.goodsinfo_all, function(it, index) {
      var $orig = _vm.__get_orig(it)

      var g3 = _vm.$utils.imageUrl(it.head_img)
      return {
        $orig: $orig,
        g3: g3
      }
    })

    var g4 = item.present_member.head_img
      ? _vm.$utils.imageUrl(item.present_member.head_img)
      : null
    return {
      $orig: $orig,
      g2: g2,
      l2: l2,
      g4: g4
    }
  })

  _vm.$mp.data = Object.assign(
    {},
    {
      $root: {
        l1: l1,
        l3: l3
      }
    }
  )
}
var recyclableRender = false
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ 466:
/*!**********************************************************************************************************!*\
  !*** C:/Users/HI BOY/Desktop/zhijianliwu20210716/pages/orderList/orderList.vue?vue&type=script&lang=js& ***!
  \**********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_orderList_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orderList.vue?vue&type=script&lang=js& */ 467);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_orderList_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_orderList_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_orderList_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_orderList_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_orderList_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 467:
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/HI BOY/Desktop/zhijianliwu20210716/pages/orderList/orderList.vue?vue&type=script&lang=js& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;




















































































































































































































































var _btn = _interopRequireDefault(__webpack_require__(/*! @/common/btn.js */ 24));
var _md = _interopRequireDefault(__webpack_require__(/*! ../../common/md5.js */ 12));
var _weappQrcodeMin = _interopRequireDefault(__webpack_require__(/*! ../../common/weapp.qrcode.min.js */ 81));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}function _defineProperty(obj, key, value) {if (key in obj) {Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });} else {obj[key] = value;}return obj;}var _default =
{
  data: function data() {var _ref;
    return _ref = {
      ip: '',
      nav: -1,
      order: [],
      purchase: [],
      appid: '',
      key: '',
      merchantCode: '',
      openid: '',
      outTradeNo: '',
      totalAmount: '',
      nums: '',
      memberid: '',
      notifyUrl: '',
      display: false,
      cardbag_number: '',
      index: '',
      showa: '',
      sta: '',
      i: '',
      onpull: 0,
      scrolltop: '0',
      triggered: false,
      timeStamp: "" }, _defineProperty(_ref, "nums",
    ''), _defineProperty(_ref, "pageSize",
    10), _defineProperty(_ref, "pageIndex",
    1), _defineProperty(_ref, "status",
    null), _ref;

  },
  onShow: function onShow() {

  },
  // 下拉刷新
  onPullDownRefresh: function onPullDownRefresh(e) {var _this = this;
    var that = this;
    this.pageIndex = 1;
    // 1.判断当前登录状态    200已登录   0未登录
    var sign = uni.getStorageSync('sign');

    if (sign) {

      var time = setTimeout(function (e) {
        that.showa = 1;
        clearTimeout(time);
      }, 100);

      this.sta = '200';
      var memberid = uni.getStorageSync('id');
      this.memberid = memberid;
      var action = 'get_order_list';
      var data = JSON.stringify({
        memberid: this.memberid,
        pageSize: this.pageSize,
        pageIndex: this.pageIndex,
        status: this.status });


      this.$utils.post(action, data).then(function (res) {
        console.log('订单列表', res);
        that.purchase = res.rs;
        that.pageIndex++;
      });
    } else {
      this.sta = '0';
      // 供浏览使用 
      this.level = 1;
      this.level_name = '普通会员';
      this.discount_name = '无折扣';
      uni.setStorageSync('level', 1);
      uni.setStorageSync('level_name', '普通会员');
      uni.setStorageSync('discount_name', '无折扣');
    }



    var data = JSON.stringify({
      memberid: this.memberid,
      pageSize: this.pageSize,
      pageIndex: this.pageIndex,
      status: this.status });

    var action = 'get_order_list';

    this.$utils.post(action, data).then(function (res) {
      console.log('第三方参数', res);
      that.purchase = res.rs;
      _this.appid = res.rs.appid;
      _this.key = res.rs.key;
      _this.merchantCode = res.rs.merchantCode;
      _this.openid = uni.getStorageSync('openid');
    });
  },
  onLoad: function onLoad(e) {var _this2 = this;
    this.openid = uni.getStorageSync('openid');
    if (e.nav) {
      this.nav = e.nav;
    }
    uni.showToast({
      icon: "loading",
      title: "加载中" });

    // 填写地址
    // let cardbag_number = '202007301412516191315541';
    // uni.navigateTo({
    // 	url:'../ordeDetails/ordeDetails?cardbag_number=' + cardbag_number
    // })
    // 查看物流
    // let cardbag_number = '202007301412516191315541';
    // uni.navigateTo({
    // 	url:'../logistics/logistics?cardbag_number=' + cardbag_number
    // })

    var that = this;

    // 1.判断当前登录状态    200已登录   0未登录
    var sign = uni.getStorageSync('sign');

    if (sign) {

      var time = setTimeout(function (e) {
        that.showa = 1;
        clearTimeout(time);
      }, 100);

      this.sta = '200';
      var memberid = uni.getStorageSync('id');
      this.memberid = memberid;
      var action = 'get_order_list';
      var data = JSON.stringify({
        memberid: this.memberid,
        pageSize: this.pageSize,
        pageIndex: this.pageIndex,
        status: this.status });


      this.$utils.post(action, data).then(function (res) {
        console.log('订单列表', res);
        that.purchase = res.rs;
        that.pageIndex++;
      });
    } else {
      this.sta = '0';
      // 供浏览使用 
      this.level = 1;
      this.level_name = '普通会员';
      this.discount_name = '无折扣';
      uni.setStorageSync('level', 1);
      uni.setStorageSync('level_name', '普通会员');
      uni.setStorageSync('discount_name', '无折扣');
    }



    var data = JSON.stringify({
      memberid: this.memberid,
      pageSize: this.pageSize,
      pageIndex: this.pageIndex,
      status: this.status });

    var action = 'get_order_list';

    this.$utils.post(action, data).then(function (res) {
      uni.hideLoading();
      console.log('第三方参数', res);
      that.purchase = res.rs;
      _this2.appid = res.rs.appid;
      _this2.key = res.rs.key;
      _this2.merchantCode = res.rs.merchantCode;
      _this2.openid = uni.getStorageSync('openid');
    });
  },
  onReachBottom: function onReachBottom() {var _this3 = this;
    var action = 'get_order_list';
    var data = JSON.stringify({
      memberid: this.memberid,
      pageSize: this.pageSize,
      pageIndex: this.pageIndex,
      status: this.status });


    this.$utils.post(action, data).then(function (res) {
      console.log('订单列表', res);
      _this3.purchase = _this3.purchase.concat(res.rs);
      _this3.pageIndex++;
    });
  },
  computed: {
    screenPurchase: function screenPurchase() {
      var screenPurchase = [];
      var purchase = this.purchase;
      var nav = this.nav;
      for (var i = 0; i < purchase.length; i++) {
        var purchaseItem = purchase[i];
        console.log(purchaseItem.status, nav, purchaseItem.status == nav);
        if (nav == -1) {
          screenPurchase.push(purchaseItem);
        } else if (nav == 1) {
          if (purchaseItem.status == 0 || purchaseItem.status == 1) {
            screenPurchase.push(purchaseItem);
          }
        } else if (purchaseItem.status == nav) {
          screenPurchase.push(purchaseItem);
        }
      }
      return screenPurchase;
    } },

  methods: {
    // 赠送好友
    give: function give(e) {var _this4 = this;
      var cardbag_number = e.currentTarget.dataset.cardbag_number;
      var price = e.currentTarget.dataset.price;
      var status = e.currentTarget.dataset.status;

      var index = e.currentTarget.dataset.index;
      console.log(this.purchase[index].status);

      var data = '{"cardbag_number":"' + cardbag_number + '"}';
      var action = 'share_cardbag';
      console.log(data);
      // if(status == 2){
      //  uni.navigateTo({
      //  	url:'../success/success?cardbag_number=' + cardbag_number +'&price=' + price
      //  })
      // }else{
      this.$utils.post(action, data).then(function (res) {
        console.log('赠送好友', res);
        if (res.sta == 1) {
          _this4.purchase[index].status = '2';
          uni.showToast({
            title: res.msg,
            icon: 'success',
            mask: true,
            success: function success(res) {
              setTimeout(function (e) {
                uni.navigateTo({
                  url: '../success/success?cardbag_number=' + cardbag_number + '&price=' + price });

              }, 1500);
            } });

        }
      });
      // }

    },
    // 赠送好友
    zengsong: function zengsong(e) {
      var that = this;
      var cardbag_number = that.cardbag_number;
      var price = that.totalAmount;

      var data = '{"cardbag_number":"' + cardbag_number + '"}';
      var action = 'share_cardbag';
      that.$utils.post(action, data).then(function (res) {
        console.log('赠送好友', res);
        if (res.sta == 1) {
          uni.showToast({
            title: res.msg,
            icon: 'success',
            mask: true,
            success: function success(res) {
              setTimeout(function (e) {
                uni.navigateTo({
                  url: '../success/success?cardbag_number=' + cardbag_number + '&price=' + price });

              }, 1500);
            } });

        }
      });
    },
    // 取消订单
    cancel: function cancel(e) {
      var ordernumber = e.currentTarget.dataset.ordernumber;
      var data = JSON.stringify({
        memberid: this.memberid,
        ordernumber: ordernumber });

      var action = 'cancel_buy_order';

      this.$utils.post(action, data).then(function (res) {
        console.log("取消订单", res);
        if (res.sta == 1) {
          uni.showToast({
            title: "取消成功" });

          uni.startPullDownRefresh();
        } else {
          uni.showToast({
            title: "操作失败",
            icon: 'none' });

        }
      });
    },
    // 申请退款
    refund: function refund(e) {
      var that = this;
      var cardbag_number = e.currentTarget.dataset.cardbag_number;

      var index = e.currentTarget.dataset.index;


      uni.showModal({
        title: '',
        content: '是否退款',
        cancelText: '取消',
        confirmText: '确认',
        success: function success(res) {
          if (res.confirm) {
            console.log('用户点击确定');
            var data = '{"memberid":"' + that.memberid + '","cardbag_number":"' + cardbag_number + '"}';
            var action = 'refund_cardbag';
            console.log(data);
            that.$utils.post(action, data).then(function (res) {
              console.log('申请退款', res);
              if (res.sta == 1) {
                that.purchase[index].status = '4';
                uni.showToast({
                  title: res.msg,
                  icon: 'success' });

              } else if (res.sta == 0) {
                uni.showToast({
                  title: res.msg,
                  icon: 'none' });

              }


            });
          }
        } });






    },

    // 撤回赠送
    withdraw: function withdraw(e) {var _this5 = this;
      var cardbag_number = e.currentTarget.dataset.cardbag_number;

      var index = e.currentTarget.dataset.index;
      console.log(this.purchase[index].status);

      var data = '{"memberid":"' + this.memberid + '","cardbag_number":"' + cardbag_number + '"}';
      var action = 'recall_cardbag';

      this.$utils.post(action, data).then(function (res) {
        console.log('撤回赠送', res);
        if (res.sta == 1) {
          _this5.purchase[index].status = '1';
          uni.showToast({
            title: res.msg,
            icon: 'success' });


        }


      });
    },
    // 撤回赠送
    withdraww: function withdraww(e) {var _this6 = this;

      var cardbag_number = e.currentTarget.dataset.cardbag_number;



      var index = e.currentTarget.dataset.index;

      console.log(this.purchase[index].status);



      var data = '{"memberid":"' + this.memberid + '","cardbag_number":"' + cardbag_number + '"}';

      var action = 'recall_cardbag';



      this.$utils.post(action, data).then(function (res) {

        console.log('撤回赠送', res);

        if (res.sta == 1) {


          _this6.order[index].status = '1';

          uni.showToast({

            title: res.msg,

            icon: 'success' });





        }





      });

    },
    //删除记录
    dele: function dele(e) {var _this7 = this;
      var that = this;
      var cardbag_number = e.currentTarget.dataset.cardbag_number;

      var index = e.currentTarget.dataset.index;
      console.log(this.purchase[index].status);

      var data = '{"memberid":"' + this.memberid + '","cardbag_number":"' + cardbag_number + '"}';
      var action = 'del_cardbag';
      console.log(data);


      uni.showModal({
        title: '',
        content: '是否删除',
        cancelText: '取消',
        confirmText: '删除',
        success: function success(res) {
          if (res.confirm) {
            console.log('用户点击确定');
            that.$utils.post(action, data).then(function (res) {
              console.log('删除记录', res);
              if (res.sta == 1) {
                _this7.purchase.splice(index, 1);
                uni.showToast({
                  title: res.msg,
                  icon: 'success' });


              }


            });
          }
        } });







    },
    // 我收到的再次购买
    shop: function shop(e) {
      var index = e.currentTarget.dataset.index;
      var arr = [];
      var z = 0;
      // 商品列表
      var purchase = this.order[index];
      //  玩法 直接1 批量2 定时3 即时4
      var type = order.type;
      //  份数
      var fenshu = order.all_details_num;
      // 全部商品
      var all = order.goodsinfo_all;

      // 直接  批量    全部商品/份数  个商品   传份数  玩法
      // 定时          全部商品       玩法
      // 即时          全部商品       份数/全部商品-1  玩法
      if (type == 1 || type == 2) {
        for (var i = 0; i < all.length / fenshu; i++) {
          arr.push(all[i]);
        }
      } else if (type == 3) {
        for (var _i in all) {
          arr.push(all[_i]);
        }
      } else if (type == 4) {
        for (var _i2 in all) {
          arr.push(all[_i2]);
        }
        fenshu = fenshu / all.length - 1;
      }



      // 一种是循环查重  另一种是sleep休眠

      for (var _i3 in arr) {
        z++;
        this.sleep(100, +arr[_i3].id, arr[_i3].goodsnum, fenshu, type, z, arr.length);
      }
    },
    // 我购买的再次购买
    again: function again(e) {
      var index = e.currentTarget.dataset.index;
      var arr = [];
      var z = 0;
      // 商品列表
      var purchase = this.purchase[index];
      //  玩法 直接1 批量2 定时3 即时4
      var type = purchase.type;
      //  份数
      var fenshu = purchase.all_details_num;
      // 全部商品
      var all = purchase.goodsinfo_all;

      // 直接  批量    全部商品/份数  个商品   传份数  玩法
      // 定时          全部商品       玩法
      // 即时          全部商品       份数/全部商品-1  玩法
      if (type == 1 || type == 2) {
        for (var i = 0; i < all.length / fenshu; i++) {
          arr.push(all[i]);
        }
      } else if (type == 3) {
        for (var _i4 in all) {
          arr.push(all[_i4]);
        }
      } else if (type == 4) {
        for (var _i5 in all) {
          arr.push(all[_i5]);
        }
        fenshu = fenshu / all.length - 1;
      }



      // 一种是循环查重  另一种是sleep休眠

      for (var _i6 in arr) {
        z++;
        this.sleep(100, arr[_i6].id, arr[_i6].goodsnum, fenshu, type, z, arr.length);
      }


    },
    // 添加购物车
    sleep: function sleep(e, id, num, fenshu, type, z, length) {



      var now = new Date();
      var exitTime = now.getTime() + e;
      while (true) {

        now = new Date();

        if (now.getTime() > exitTime) {

          var data = '{"memberid":"' + this.memberid + '","goodsid":"' + id + '","goodsnum":"' + num + '"}';
          var action = 'add_goods_to_giftbag';
          this.$utils.post(action, data).then(function (res) {
            console.log('添加购物车', res);
            if (res.sta == 1) {
              if (z == length) {
                uni.navigateTo({
                  url: '../shopping/shop?fenshu=' + fenshu + '&type=' + type });

              }
            } else {
              uni.showToast({
                title: res.msg,
                icon: 'none' });

            }

          });
          return;
          break;
        }
      }

    },
    // 填写地址
    address: function address(e) {
      var cardbag_number = e.currentTarget.dataset.cardbag_number;
      uni.navigateTo({
        url: '../ordeDetails/ordeDetails?cardbag_number=' + cardbag_number });

    },
    // 查看物流
    logistics: function logistics(e) {
      var cardbag_number = e.currentTarget.dataset.cardbag_number;
      uni.navigateTo({
        url: '../logistics/logistics?cardbag_number=' + cardbag_number });

    },
    //  微信支付
    submit: function submit(e) {var _this8 = this;
      var orderNumber = e.currentTarget.dataset.ordernumber;
      // 接口地址
      var action = 'get_buy_order_pay_info';
      // 传入参数
      var data = JSON.stringify({
        ordernumber: orderNumber });

      console.log(data);
      // 请求
      this.$utils.post(action, data).then(function (res) {
        _this8.$utils.wxPay(res.rs.serial_number, "buy_order");
      });
    },
    // 微信支付
    wx: function wx(e) {var _this9 = this;
      var that = this;
      var ip = this.ip;
      var openid = this.openid;
      var data = '{"serial_number":"' + that.outTradeNo + '","ip":"' + ip + '","openid":"' + openid +
      '","type":"cardbag"}';
      var action = 'add_paylog_to_wx';
      console.log(data);
      this.$utils.post(action, data).then(function (res) {
        console.log('获取参数', res);
        var serial_number = res.rs.serial_number;
        var arr = [];

        var date = {
          // 合作方标识
          appId: 'appId=wx9c53a99b078435f5',
          timeStamp: 'timeStamp=' + _this9.timeStamp,
          nonceStr: 'nonceStr=' + _this9.nums,
          package: 'package=prepay_id=' + res.rs.prepay_id,
          signType: 'signType=MD5' };




        console.log('拼接前', date);

        for (var i in date) {
          arr.push(date[i]);
        }

        arr.sort();

        var stringA = '';

        // 拼接字符串
        for (var _i7 in arr) {
          if (_i7 == arr.length - 1) {
            stringA += arr[_i7];
          } else {
            stringA += arr[_i7] + '&';
          }

        }
        // let stringSignTemp = stringA + '&key='  + '730ed24645b1a54e82a3d2bcff63db37';
        var stringSignTemp = stringA + '&key=dEEHizJM4cZtBy3Dlj4gVKwHMlM32IPv';

        console.log('拼接后', stringSignTemp);
        var sign = _md.default.hexMD5(stringSignTemp);
        console.log(sign);
        uni.requestPayment({
          timeStamp: String(_this9.timeStamp),
          nonceStr: _this9.nums,
          package: 'prepay_id=' + res.rs.prepay_id,
          signType: 'MD5',
          paySign: sign.toUpperCase(),
          success: function success(res) {
            uni.hideLoading();

            uni.request({
              url: 'http://zhijianlw.com/api.php/index/set_agent_cardbag',
              data: {
                serial_number: that.outTradeNo },

              header: {
                'content-type': "application/x-www-form-urlencoded" //自定义请求头信息
              },
              method: 'GET',
              // 成功回调
              success: function success(res) {
                console.log('微信成功回调', res);
              } });


            uni.showModal({
              title: '微信支付',
              content: '支付成功',
              cancelText: '查看订单',
              confirmText: '立即赠送',
              success: function success(res) {
                if (res.confirm) {
                  console.log('点击立即赠送');
                  that.zengsong();
                } else if (res.cancel) {
                  console.log('点击查看详情');
                  var cardbag_number = that.cardbag_number;
                  uni.switchTab({
                    url: '../order/order' });

                }
              } });


          },
          fail: function fail(res) {
            uni.hideLoading();
            console.log(res);
            uni.showToast({
              title: '支付失败',
              icon: 'none' });

            that.commodity = '';
          } });



      });
    },
    ipp: function ipp(e) {
      var that = this;
      // 获取IP地址
      uni.request({
        url: 'https://pv.sohu.com/cityjson?ie=utf-8',
        success: function success(e) {
          console.log(e);
          var aaa = e.data.split(' ');
          var bbb = aaa[4];
          var ccc = bbb.replace('"', '');
          var ddd = ccc.replace('"', '');
          var eee = ddd.replace(',', '');
          that.ip = eee;
          that.wx();
        } });


    },
    // 小程序支付
    forsubmit: function forsubmit(e) {

      var arr = [];


      var date = {
        // 合作方标识
        appId: 'appId=' + 'EW_N3213842400',
        // 随机数
        random: 'random=' + this.nums,
        // 门店编号
        merchantCode: 'merchantCode=' + 'EW_N5247492162',
        // 商户订单号
        outTradeNo: 'outTradeNo=' + this.outTradeNo,
        // 订单总金额
        totalAmount: 'totalAmount=' + this.totalAmount,
        // 支付渠道  活的
        channel: 'channel=' + 'WXPAY',
        // 支付交易类型
        tradeType: 'tradeType=' + 'MINIAPP',
        // 消费者用户标识
        openId: 'openId=' + this.openid,
        // 小程序appid
        subAppId: 'subAppId=' + 'wx9c53a99b078435f5' };


      console.log(date);

      for (var i in date) {
        arr.push(date[i]);
      }

      arr.sort();

      var stringA = '';

      // 拼接字符串
      for (var _i8 in arr) {
        if (_i8 == arr.length - 1) {
          stringA += arr[_i8];
        } else {
          stringA += arr[_i8] + '&';
        }

      }
      var stringSignTemp = stringA + '&key=' + '730ed24645b1a54e82a3d2bcff63db37';


      console.log(stringSignTemp);
      // 小写
      var sign = _md.default.hexMD5(stringSignTemp);
      console.log(sign);

      var datt = {
        // 合作方标识
        appId: 'appId=' + 'EW_N3213842400',
        //  签名
        sign: 'sign=' + sign,
        // 随机数
        random: 'random=' + this.nums,
        // 门店编号
        merchantCode: 'merchantCode=' + 'EW_N5247492162',
        // 商户订单号
        outTradeNo: 'outTradeNo=' + this.outTradeNo,
        // 订单总金额
        totalAmount: 'totalAmount=' + this.totalAmount,
        // 支付渠道  活的
        channel: 'channel=' + 'WXPAY',
        // 支付交易类型
        tradeType: 'tradeType=' + 'MINIAPP',
        // 消费者用户标识
        openId: 'openId=' + this.openid,
        // 小程序appid
        subAppId: 'subAppId=' + 'wx9c53a99b078435f5' };

      console.log(datt);
      var arrr = [];

      for (var _i9 in datt) {
        arrr.push(datt[_i9]);
      }

      arrr.sort();

      var string = '';

      // 拼接字符串
      for (var _i10 in arrr) {
        if (_i10 == arrr.length - 1) {
          string += arrr[_i10];
        } else {
          string += arrr[_i10] + '&';
        }

      }
      console.log('字符串', string);


      uni.request({
        url: 'https://api.liantuofu.com/open/precreate',
        data: string,
        header: {
          'content-type': "application/x-www-form-urlencoded" //自定义请求头信息
        },
        method: 'POST',
        // 成功回调
        success: function success(res) {
          console.log(res.data);
        } });

    },

    xiaochengxu: function xiaochengxu(e) {
      var index = this.index;
      var that = this;
      var arr = [];

      var date = {
        // 合作方标识
        // appId: 'appId=' + 'EW_N3213842400',
        appId: 'appId=' + this.appid,
        // 随机数
        random: 'random=' + this.nums,
        // 门店编号
        // merchantCode:'merchantCode=' + 'EW_N5247492162',
        merchantCode: 'merchantCode=' + this.merchantCode,
        // 商户订单号
        outTradeNo: 'outTradeNo=' + this.outTradeNo,
        // 订单总金额
        totalAmount: 'totalAmount=' + this.totalAmount,
        // 支付渠道  活的
        channel: 'channel=' + 'WXPAY',
        // 支付交易类型
        tradeType: 'tradeType=' + 'MINIAPP',
        // 消费者用户标识
        openId: 'openId=' + this.openid,
        // 小程序appid
        subAppId: 'subAppId=' + 'wx9c53a99b078435f5',
        notifyUrl: 'notifyUrl=' + this.notifyUrl };


      console.log(date);

      for (var i in date) {
        arr.push(date[i]);
      }

      arr.sort();

      var stringA = '';

      // 拼接字符串
      for (var _i11 in arr) {
        if (_i11 == arr.length - 1) {
          stringA += arr[_i11];
        } else {
          stringA += arr[_i11] + '&';
        }

      }
      // let stringSignTemp = stringA + '&key='  + '730ed24645b1a54e82a3d2bcff63db37';
      var stringSignTemp = stringA + '&key=' + this.key;

      console.log(stringSignTemp);
      // 小写
      var sign = _md.default.hexMD5(stringSignTemp);
      console.log(sign);

      var datt = {
        // 合作方标识
        // appId:'appId=' + 'EW_N3213842400',
        appId: 'appId=' + this.appid,
        //  签名
        sign: 'sign=' + sign,
        // 随机数
        random: 'random=' + this.nums,
        // 门店编号   
        // merchantCode:'merchantCode=' + 'EW_N5247492162',
        merchantCode: 'merchantCode=' + this.merchantCode,
        // 商户订单号
        outTradeNo: 'outTradeNo=' + this.outTradeNo,
        // 订单总金额
        totalAmount: 'totalAmount=' + this.totalAmount,
        // 支付渠道  活的
        channel: 'channel=' + 'WXPAY',
        // 支付交易类型
        tradeType: 'tradeType=' + 'MINIAPP',
        // 消费者用户标识
        openId: 'openId=' + this.openid,
        // 小程序appid
        subAppId: 'subAppId=' + 'wx9c53a99b078435f5',
        notifyUrl: 'notifyUrl=' + this.notifyUrl };

      console.log(datt);
      var arrr = [];

      for (var _i12 in datt) {
        arrr.push(datt[_i12]);
      }

      arrr.sort();

      var string = '';

      // 拼接字符串
      for (var _i13 in arrr) {
        if (_i13 == arrr.length - 1) {
          string += arrr[_i13];
        } else {
          string += arrr[_i13] + '&';
        }

      }
      console.log('字符串', string);
      uni.request({
        url: 'https://api.liantuofu.com/open/precreate',
        data: string,
        header: {
          'content-type': "application/x-www-form-urlencoded" //自定义请求头信息
        },
        method: 'POST',
        // 成功回调
        success: function success(res) {
          console.log(res.data);
          uni.hideLoading();


          that.purchase[that.index].status = '1';


          wx.requestPayment({
            timeStamp: res.data.timeStamp,
            nonceStr: res.data.nonceStr,
            package: res.data.payPackage,
            signType: res.data.signType,
            paySign: res.data.paySign,
            success: function success(res) {
              // 一级页面用switchTab   二级页面用redirectTo
              wx.showModal({
                title: '微信支付',
                content: '支付成功',
                cancelText: '查看详情',
                confirmText: '立即赠送',
                success: function success(res) {
                  if (res.confirm) {
                    console.log('点击立即赠送');
                    that.zengsong();
                  } else if (res.cancel) {
                    console.log(that.cardbag_number);
                    console.log('点击查看详情');


                    uni.navigateTo({
                      url: '../orderDetails/orderDetails?cardbag_number=' + that.cardbag_number });


                  }

                } });

            },
            fail: function fail(res) {
              console.log(res);
            } });



        } });

    },

    // 选项卡切换
    top: function top(e) {var _this10 = this;
      uni.showToast({
        icon: "loading",
        title: "加载中" });

      var index = e.currentTarget.dataset.index;
      this.nav = index;
      this.pageIndex = 1;
      var action = 'get_order_list';
      var data = JSON.stringify({
        memberid: this.memberid,
        pageSize: this.pageSize,
        pageIndex: this.pageIndex,
        status: this.nav == null ? '' : this.nav });


      this.$utils.post(action, data).then(function (res) {
        uni.hideLoading();
        console.log('订单列表', res);
        _this10.purchase = res.rs;
        _this10.pageIndex++;
      });
    },
    // 我购买的订单详情
    purchasedetails: function purchasedetails(e) {
      var ordernumber = e.currentTarget.dataset.ordernumber;
      _btn.default.buttonClick(function (e) {
        uni.navigateTo({
          url: './orderDetails?ordernumber=' + ordernumber });

      });
    },
    // 我收到的订单详情
    orderdetails: function orderdetails(e) {
      var cardbag_number = e.currentTarget.dataset.cardbag_number;
      var index = e.currentTarget.dataset.index;
      var member = {
        memberid_headimg: this.order[index].present_member.head_img,
        memberid_name: this.order[index].present_member.name };

      uni.setStorageSync('member', member);
      _btn.default.buttonClick(function (e) {
        uni.navigateTo({
          url: '../ordeeDetails/ordeeDetails?cardbag_number=' + cardbag_number });

      });
    },
    // 订单查询
    chaxun: function chaxun(e) {var _this11 = this;
      var arr = [];


      var date = {
        // 合作方标识
        appId: 'appId=' + this.appid,
        // 随机数
        random: 'random=' + this.nums,
        // 门店编号
        merchantCode: 'merchantCode=' + this.merchantCode,
        // 商户订单号
        outTradeNo: 'outTradeNo=' + this.outTradeNo };


      console.log(date);

      for (var i in date) {
        arr.push(date[i]);
      }

      arr.sort();

      var stringA = '';

      // 拼接字符串
      for (var _i14 in arr) {
        if (_i14 == arr.length - 1) {
          stringA += arr[_i14];
        } else {
          stringA += arr[_i14] + '&';
        }

      }
      var stringSignTemp = stringA + '&key=' + this.key;


      console.log(stringSignTemp);
      // 小写
      var sign = _md.default.hexMD5(stringSignTemp);
      console.log(sign);

      var datt = {
        // 合作方标识
        appId: 'appId=' + this.appid,
        //  签名
        sign: 'sign=' + sign,
        // 随机数
        random: 'random=' + this.nums,
        // 门店编号
        merchantCode: 'merchantCode=' + this.merchantCode,
        // 商户订单号
        outTradeNo: 'outTradeNo=' + this.outTradeNo };

      console.log(datt);
      var arrr = [];

      for (var _i15 in datt) {
        arrr.push(datt[_i15]);
      }

      arrr.sort();

      var string = '';

      // 拼接字符串
      for (var _i16 in arrr) {
        if (_i16 == arrr.length - 1) {
          string += arrr[_i16];
        } else {
          string += arrr[_i16] + '&';
        }

      }
      console.log('字符串', string);
      uni.request({
        url: 'https://api.liantuofu.com/open/pay/query',
        data: string,
        header: {
          'content-type': "application/x-www-form-urlencoded" //自定义请求头信息
        },
        method: 'POST',
        // 成功回调
        success: function success(res) {
          console.log('订单状态', res.data);

          if (res.data.msg == "订单已支付") {

            uni.reLaunch({
              url: '../success/success?cardbag_number=' + _this11.cardbag_number });

          }
        } });


    },
    // 滑动
    onPageScroll: function onPageScroll(e) {
      if (e.scrollTop > 3) {
        this.fixed = 1;
      } else if (e.scrollTop < 3) {
        this.fixed = 0;
      }

      if (this.indexx == 0 || this.indexx == 1) {
        this.showleft = false;
        this.showright = false;
      }

      if (e.scrollTop > 100) {

      } else {
        this.scrolltop = e.scrollTop;
      }

    },
    start: function start(e) {
      // 触摸位置
      var sy = e.touches[0].clientY;
      this.sy = sy;
      console.log('开始触摸 sy : ' + sy + ' scrolltop : ' + this.scrolltop);
    },
    end: function end(e) {var _this12 = this;
      // 移动距离
      // 触发下拉刷新
      if (this.removal >= 50) {

        setTimeout(function () {
          _this12.triggered = false;
        }, 3000);
        // setTimeout(() => {
        //     this.triggered = false;
        // }, 3100)
      }
      // 初始化
      else {
          this.removal = 0;
          this.triggered = false;
        }
    },
    move: function move(e) {
      // 如果是在顶部
      if (this.scrolltop <= 0) {
        // 计算手指滑动距离
        var delta = e.touches[0].clientY - this.sy;
        if (delta > 20) {
          if (this.triggered == true) {

          } else {
            this.onpull = 40;
            this.removal = 50;
            this.triggered = true;
          }

        }

      }
      // 否则不触发
      else {

        }
    },


    // 下拉被触发
    onRefresh: function onRefresh() {var _this13 = this;
      // uni.showLoading({
      // 	title:'刷新中',
      // })

      var purchase = [];
      var order = [];
      var memberid = this.memberid;
      this.pageIndex = 1;
      var data = JSON.stringify({
        memberid: this.memberid,
        pageSize: this.pageSize,
        pageIndex: this.pageIndex,
        status: this.status });

      var action = 'get_order_list';

      this.$utils.post(action, data).then(function (res) {
        console.log('订单列表', res);
        that.purchase = res.rs;
        _this13.purchase = purchase;
        _this13.order = order;
        uni.stopPullDownRefresh();
        _this13.pageIndex++;
      });
    },
    // 被下拉
    onPulling: function onPulling(e) {
      console.log("onpulling", e);
    },
    // 下拉被复位
    onRestore: function onRestore() {
      // this.triggered = 'restore'; // 需要重置
      this.onpull = 0;
      console.log("onRestore");
    },
    // 目测无效
    code: function code(e) {
      this.display = false;
    },
    // 开启订阅 取消了这个..
    subscribe: function subscribe(e) {
      if (this.sta == 200) {
        uni.requestSubscribeMessage({
          tmplIds: ['wMP3q9gTNfqVg2QEshGiNyQXZcZFam2SjmlDpcartBc'],
          success: function success(res) {

            var data = '{"memberid":"' + this.memberid + '"}';
            var action = 'cancel_cardbag';

            this.$utils.post(action, data).then(function (res) {
              console.log(res);
            });
          } });

      } else if (this.sta == 0) {
        wx.showToast({
          title: '请先登录',
          icon: 'none' });

      }

    },
    goToLoistics: function goToLoistics(e) {
      console.log(e);
      uni.navigateTo({
        url: './logistics/logistics?ordernumber=' + e.target.dataset.ordernumber });

    } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),

/***/ 468:
/*!******************************************************************************************************************!*\
  !*** C:/Users/HI BOY/Desktop/zhijianliwu20210716/pages/orderList/orderList.vue?vue&type=style&index=0&lang=css& ***!
  \******************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_D_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_orderList_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orderList.vue?vue&type=style&index=0&lang=css& */ 469);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_D_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_orderList_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_D_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_D_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_orderList_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _D_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_D_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_orderList_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_D_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_orderList_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_D_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_D_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_orderList_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 469:
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/HI BOY/Desktop/zhijianliwu20210716/pages/orderList/orderList.vue?vue&type=style&index=0&lang=css& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(false) { var cssReload; }
  

/***/ })

},[[462,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/orderList/orderList.js.map