(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/orderList/orderList"],{592:
/*!**********************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/main.js?{"page":"pages%2ForderList%2ForderList"} ***!
  \**********************************************************************************************************/
/*! no static exports found */function(e,t,r){"use strict";(function(e){r(/*! uni-pages */5);n(r(/*! vue */3));var t=n(r(/*! ./pages/orderList/orderList.vue */593));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,r(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},593:
/*!***************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/orderList/orderList.vue ***!
  \***************************************************************************************/
/*! no static exports found */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./orderList.vue?vue&type=template&id=40959460& */594),o=r(/*! ./orderList.vue?vue&type=script&lang=js& */596);for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r(/*! ./orderList.vue?vue&type=style&index=0&lang=css& */598);var s,i=r(/*! ../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */20),c=Object(i["default"])(o["default"],n["render"],n["staticRenderFns"],!1,null,null,null,!1,n["components"],s);c.options.__file="pages/orderList/orderList.vue",t["default"]=c.exports},594:
/*!**********************************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/orderList/orderList.vue?vue&type=template&id=40959460& ***!
  \**********************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,r){"use strict";r.r(t);var n=r(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orderList.vue?vue&type=template&id=40959460& */595);r.d(t,"render",(function(){return n["render"]})),r.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]})),r.d(t,"recyclableRender",(function(){return n["recyclableRender"]})),r.d(t,"components",(function(){return n["components"]}))},595:
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/orderList/orderList.vue?vue&type=template&id=40959460& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,r){"use strict";var n;r.r(t),r.d(t,"render",(function(){return o})),r.d(t,"staticRenderFns",(function(){return s})),r.d(t,"recyclableRender",(function(){return a})),r.d(t,"components",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=(e._self._c,e.__map(e.screenPurchase,(function(t,r){var n=e.__get_orig(t),o=e.screenPurchase.length>0&&t.goods_info_list.length>1?e.__map(t.goods_info_list,(function(t,r){var n=e.__get_orig(t),o=e.$utils.imageUrl(t.head_img);return{$orig:n,g0:o}})):null;return{$orig:n,l0:o}})));e.$mp.data=Object.assign({},{$root:{l1:r}})},a=!1,s=[];o._withStripped=!0},596:
/*!****************************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/orderList/orderList.vue?vue&type=script&lang=js& ***!
  \****************************************************************************************************************/
/*! no static exports found */function(e,t,r){"use strict";r.r(t);var n=r(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orderList.vue?vue&type=script&lang=js& */597),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},597:
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/orderList/orderList.vue?vue&type=script&lang=js& ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(/*! @/common/btn.js */28)),o=a(r(/*! ../../common/md5.js */13));a(r(/*! ../../common/weapp.qrcode.min.js */117));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i={data:function(){var e;return e={ip:"",nav:1,order:[],purchase:[],appid:"",key:"",merchantCode:"",openid:"",outTradeNo:"",totalAmount:"",nums:"",memberid:"",notifyUrl:"",display:!1,cardbag_number:"",index:"",showa:"",sta:"",i:"",onpull:0,scrolltop:"0",triggered:!1,timeStamp:""},s(e,"nums",""),s(e,"pageSize",10),s(e,"pageIndex",1),s(e,"status",null),s(e,"screenPurchase",[]),s(e,"goodsList",[{img:"../../static/nono.jpg"},{img:"../../static/nono.jpg"},{img:"../../static/nono.jpg"},{img:"../../static/nono.jpg"},{img:"../../static/nono.jpg"}]),e},onShow:function(){this.getOrderList(1)},onLoad:function(t){this.openid=e.getStorageSync("openid"),t.nav&&(this.nav=t.nav)},onPullDownRefresh:function(){this.getOrderList(1),setTimeout((function(){e.stopPullDownRefresh()}),500)},onReachBottom:function(){this.getOrderList(2)},computed:{},methods:{getOrderList:function(t){1==t&&(this.pageIndex=1);var r=this,n="get_my_order_list",o="order",a=e.getStorageSync("id"),s=JSON.stringify({pageSize:this.pageSize,pageIndex:this.pageIndex,memberid:a,type:this.nav});this.$utils.postNew(n,s,o).then((function(e){1==t?(r.pageIndex++,r.screenPurchase=e.rs,r.isAll=!1):e.rs.length>0?(r.screenPurchase=r.screenPurchase.concat(e.rs),r.pageIndex++):r.isAll=!0}))},give:function(t){var r=this,n=t.currentTarget.dataset.cardbag_number,o=t.currentTarget.dataset.price,a=(t.currentTarget.dataset.status,t.currentTarget.dataset.index);console.log(this.purchase[a].status);var s='{"cardbag_number":"'+n+'"}',i="share_cardbag";console.log(s),this.$utils.post(i,s).then((function(t){console.log("赠送好友",t),1==t.sta&&(r.purchase[a].status="2",e.showToast({title:t.msg,icon:"success",mask:!0,success:function(t){setTimeout((function(t){e.navigateTo({url:"../success/success?cardbag_number="+n+"&price="+o})}),1500)}}))}))},zengsong:function(t){var r=this,n=r.cardbag_number,o=r.totalAmount,a='{"cardbag_number":"'+n+'"}',s="share_cardbag";r.$utils.post(s,a).then((function(t){console.log("赠送好友",t),1==t.sta&&e.showToast({title:t.msg,icon:"success",mask:!0,success:function(t){setTimeout((function(t){e.navigateTo({url:"../success/success?cardbag_number="+n+"&price="+o})}),1500)}})}))},cancel:function(t){var r=e.getStorageSync("id"),n=t.currentTarget.dataset.ordernumber,o=JSON.stringify({memberid:r,ordernumber:n}),a="cancel_buy_order";this.$utils.post(a,o).then((function(t){console.log("取消订单",t),1==t.sta?(e.showToast({title:"取消成功"}),e.startPullDownRefresh()):e.showToast({title:"操作失败",icon:"none"})}))},refund:function(t){var r=this,n=t.currentTarget.dataset.cardbag_number,o=t.currentTarget.dataset.index;e.showModal({title:"",content:"是否退款",cancelText:"取消",confirmText:"确认",success:function(t){if(t.confirm){console.log("用户点击确定");var a='{"memberid":"'+r.memberid+'","cardbag_number":"'+n+'"}',s="refund_cardbag";console.log(a),r.$utils.post(s,a).then((function(t){console.log("申请退款",t),1==t.sta?(r.purchase[o].status="4",e.showToast({title:t.msg,icon:"success"})):0==t.sta&&e.showToast({title:t.msg,icon:"none"})}))}}})},withdraw:function(t){var r=this,n=t.currentTarget.dataset.cardbag_number,o=t.currentTarget.dataset.index;console.log(this.purchase[o].status);var a='{"memberid":"'+this.memberid+'","cardbag_number":"'+n+'"}',s="recall_cardbag";this.$utils.post(s,a).then((function(t){console.log("撤回赠送",t),1==t.sta&&(r.purchase[o].status="1",e.showToast({title:t.msg,icon:"success"}))}))},withdraww:function(t){var r=this,n=t.currentTarget.dataset.cardbag_number,o=t.currentTarget.dataset.index;console.log(this.purchase[o].status);var a='{"memberid":"'+this.memberid+'","cardbag_number":"'+n+'"}',s="recall_cardbag";this.$utils.post(s,a).then((function(t){console.log("撤回赠送",t),1==t.sta&&(r.order[o].status="1",e.showToast({title:t.msg,icon:"success"}))}))},dele:function(t){var r=this,n=this,o=t.currentTarget.dataset.cardbag_number,a=t.currentTarget.dataset.index;console.log(this.purchase[a].status);var s='{"memberid":"'+this.memberid+'","cardbag_number":"'+o+'"}',i="del_cardbag";console.log(s),e.showModal({title:"",content:"是否删除",cancelText:"取消",confirmText:"删除",success:function(t){t.confirm&&(console.log("用户点击确定"),n.$utils.post(i,s).then((function(t){console.log("删除记录",t),1==t.sta&&(r.purchase.splice(a,1),e.showToast({title:t.msg,icon:"success"}))})))}})},shop:function(e){var t=e.currentTarget.dataset.index,r=[],n=0,o=(this.order[t],order.type),a=order.all_details_num,s=order.goodsinfo_all;if(1==o||2==o)for(var i=0;i<s.length/a;i++)r.push(s[i]);else if(3==o)for(var c in s)r.push(s[c]);else if(4==o){for(var u in s)r.push(s[u]);a=a/s.length-1}for(var d in r)n++,this.sleep(100,+r[d].id,r[d].goodsnum,a,o,n,r.length)},again:function(e){var t=e.currentTarget.dataset.index,r=[],n=0,o=this.purchase[t],a=o.type,s=o.all_details_num,i=o.goodsinfo_all;if(1==a||2==a)for(var c=0;c<i.length/s;c++)r.push(i[c]);else if(3==a)for(var u in i)r.push(i[u]);else if(4==a){for(var d in i)r.push(i[d]);s=s/i.length-1}for(var l in r)n++,this.sleep(100,r[l].id,r[l].goodsnum,s,a,n,r.length)},sleep:function(t,r,n,o,a,s,i){var c=new Date,u=c.getTime()+t;while(1)if(c=new Date,c.getTime()>u){var d='{"memberid":"'+this.memberid+'","goodsid":"'+r+'","goodsnum":"'+n+'"}',l="add_goods_to_giftbag";return void this.$utils.post(l,d).then((function(t){console.log("添加购物车",t),1==t.sta?s==i&&e.navigateTo({url:"../shopping/shop?fenshu="+o+"&type="+a}):e.showToast({title:t.msg,icon:"none"})}))}},logistics:function(t){var r=t.currentTarget.dataset.cardbag_number;e.navigateTo({url:"../logistics/logistics?cardbag_number="+r})},submit:function(e){var t=this,r=e.currentTarget.dataset.ordernumber,n="get_buy_order_pay_info",o=JSON.stringify({ordernumber:r});console.log(o),this.$utils.post(n,o).then((function(e){t.$utils.wxPay(e.rs.serial_number,"buy_order")}))},wx:function(t){var r=this,n=this,a=this.ip,s=this.openid,i='{"serial_number":"'+n.outTradeNo+'","ip":"'+a+'","openid":"'+s+'","type":"cardbag"}',c="add_paylog_to_wx";console.log(i),this.$utils.post(c,i).then((function(t){console.log("获取参数",t);var a=[],s={appId:"appId=wx9c53a99b078435f5",timeStamp:"timeStamp="+r.timeStamp,nonceStr:"nonceStr="+r.nums,package:"package=prepay_id="+t.rs.prepay_id,signType:"signType=MD5"};for(var i in console.log("拼接前",s),s)a.push(s[i]);a.sort();var c="";for(var u in a)u==a.length-1?c+=a[u]:c+=a[u]+"&";var d=c+"&key=45579fcdb646746f02d9e041d50975b4";console.log("拼接后",d);var l=o.default.hexMD5(d);console.log(l),e.requestPayment({timeStamp:String(r.timeStamp),nonceStr:r.nums,package:"prepay_id="+t.rs.prepay_id,signType:"MD5",paySign:l.toUpperCase(),success:function(t){e.hideLoading(),e.request({url:"http://zhijianlw.com/api.php/index/set_agent_cardbag",data:{serial_number:n.outTradeNo},header:{"content-type":"application/x-www-form-urlencoded"},method:"GET",success:function(e){console.log("微信成功回调",e)}}),e.showModal({title:"微信支付",content:"支付成功",cancelText:"查看订单",confirmText:"立即赠送",success:function(t){if(t.confirm)console.log("点击立即赠送"),n.zengsong();else if(t.cancel){console.log("点击查看详情");n.cardbag_number;e.switchTab({url:"../order/order"})}}})},fail:function(t){e.hideLoading(),console.log(t),e.showToast({title:"支付失败",icon:"none"}),n.commodity=""}})}))},ipp:function(t){var r=this;e.request({url:"https://pv.sohu.com/cityjson?ie=utf-8",success:function(e){console.log(e);var t=e.data.split(" "),n=t[4],o=n.replace('"',""),a=o.replace('"',""),s=a.replace(",","");r.ip=s,r.wx()}})},forsubmit:function(t){var r=[],n={appId:"appId=EW_N3213842400",random:"random="+this.nums,merchantCode:"merchantCode=EW_N5247492162",outTradeNo:"outTradeNo="+this.outTradeNo,totalAmount:"totalAmount="+this.totalAmount,channel:"channel=WXPAY",tradeType:"tradeType=MINIAPP",openId:"openId="+this.openid,subAppId:"subAppId=wx9c53a99b078435f5"};for(var a in console.log(n),n)r.push(n[a]);r.sort();var s="";for(var i in r)i==r.length-1?s+=r[i]:s+=r[i]+"&";var c=s+"&key=730ed24645b1a54e82a3d2bcff63db37";console.log(c);var u=o.default.hexMD5(c);console.log(u);var d={appId:"appId=EW_N3213842400",sign:"sign="+u,random:"random="+this.nums,merchantCode:"merchantCode=EW_N5247492162",outTradeNo:"outTradeNo="+this.outTradeNo,totalAmount:"totalAmount="+this.totalAmount,channel:"channel=WXPAY",tradeType:"tradeType=MINIAPP",openId:"openId="+this.openid,subAppId:"subAppId=wx9c53a99b078435f5"};console.log(d);var l=[];for(var g in d)l.push(d[g]);l.sort();var p="";for(var h in l)h==l.length-1?p+=l[h]:p+=l[h]+"&";console.log("字符串",p),e.request({url:"https://api.liantuofu.com/open/precreate",data:p,header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(e){console.log(e.data)}})},xiaochengxu:function(t){this.index;var r=this,n=[],a={appId:"appId="+this.appid,random:"random="+this.nums,merchantCode:"merchantCode="+this.merchantCode,outTradeNo:"outTradeNo="+this.outTradeNo,totalAmount:"totalAmount="+this.totalAmount,channel:"channel=WXPAY",tradeType:"tradeType=MINIAPP",openId:"openId="+this.openid,subAppId:"subAppId=wx9c53a99b078435f5",notifyUrl:"notifyUrl="+this.notifyUrl};for(var s in console.log(a),a)n.push(a[s]);n.sort();var i="";for(var c in n)c==n.length-1?i+=n[c]:i+=n[c]+"&";var u=i+"&key="+this.key;console.log(u);var d=o.default.hexMD5(u);console.log(d);var l={appId:"appId="+this.appid,sign:"sign="+d,random:"random="+this.nums,merchantCode:"merchantCode="+this.merchantCode,outTradeNo:"outTradeNo="+this.outTradeNo,totalAmount:"totalAmount="+this.totalAmount,channel:"channel=WXPAY",tradeType:"tradeType=MINIAPP",openId:"openId="+this.openid,subAppId:"subAppId=wx9c53a99b078435f5",notifyUrl:"notifyUrl="+this.notifyUrl};console.log(l);var g=[];for(var p in l)g.push(l[p]);g.sort();var h="";for(var m in g)m==g.length-1?h+=g[m]:h+=g[m]+"&";console.log("字符串",h),e.request({url:"https://api.liantuofu.com/open/precreate",data:h,header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){console.log(t.data),e.hideLoading(),r.purchase[r.index].status="1",wx.requestPayment({timeStamp:t.data.timeStamp,nonceStr:t.data.nonceStr,package:t.data.payPackage,signType:t.data.signType,paySign:t.data.paySign,success:function(t){wx.showModal({title:"微信支付",content:"支付成功",cancelText:"查看详情",confirmText:"立即赠送",success:function(t){t.confirm?(console.log("点击立即赠送"),r.zengsong()):t.cancel&&(console.log(r.cardbag_number),console.log("点击查看详情"),e.navigateTo({url:"../orderDetails/orderDetails?cardbag_number="+r.cardbag_number}))}})},fail:function(e){console.log(e)}})}})},top:function(e){var t=e.currentTarget.dataset.index;this.nav=t,this.getOrderList(1)},purchasedetails:function(t){var r=t.currentTarget.dataset.ordernumber;n.default.buttonClick((function(t){e.navigateTo({url:"./orderDetails?ordernumber="+r})}))},orderdetails:function(t){var r=t.currentTarget.dataset.cardbag_number,o=t.currentTarget.dataset.index,a={memberid_headimg:this.order[o].present_member.head_img,memberid_name:this.order[o].present_member.name};e.setStorageSync("member",a),n.default.buttonClick((function(t){e.navigateTo({url:"../ordeeDetails/ordeeDetails?cardbag_number="+r})}))},chaxun:function(t){var r=this,n=[],a={appId:"appId="+this.appid,random:"random="+this.nums,merchantCode:"merchantCode="+this.merchantCode,outTradeNo:"outTradeNo="+this.outTradeNo};for(var s in console.log(a),a)n.push(a[s]);n.sort();var i="";for(var c in n)c==n.length-1?i+=n[c]:i+=n[c]+"&";var u=i+"&key="+this.key;console.log(u);var d=o.default.hexMD5(u);console.log(d);var l={appId:"appId="+this.appid,sign:"sign="+d,random:"random="+this.nums,merchantCode:"merchantCode="+this.merchantCode,outTradeNo:"outTradeNo="+this.outTradeNo};console.log(l);var g=[];for(var p in l)g.push(l[p]);g.sort();var h="";for(var m in g)m==g.length-1?h+=g[m]:h+=g[m]+"&";console.log("字符串",h),e.request({url:"https://api.liantuofu.com/open/pay/query",data:h,header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){console.log("订单状态",t.data),"订单已支付"==t.data.msg&&e.reLaunch({url:"../success/success?cardbag_number="+r.cardbag_number})}})},onPageScroll:function(e){e.scrollTop>3?this.fixed=1:e.scrollTop<3&&(this.fixed=0),0!=this.indexx&&1!=this.indexx||(this.showleft=!1,this.showright=!1),e.scrollTop>100||(this.scrolltop=e.scrollTop)},start:function(e){var t=e.touches[0].clientY;this.sy=t,console.log("开始触摸 sy : "+t+" scrolltop : "+this.scrolltop)},end:function(e){var t=this;this.removal>=50?setTimeout((function(){t.triggered=!1}),3e3):(this.removal=0,this.triggered=!1)},move:function(e){if(this.scrolltop<=0){var t=e.touches[0].clientY-this.sy;t>20&&(1==this.triggered||(this.onpull=40,this.removal=50,this.triggered=!0))}},onRefresh:function(){var t=this,r=[],n=[];this.memberid;this.pageIndex=1;var o=JSON.stringify({memberid:this.memberid,pageSize:this.pageSize,pageIndex:this.pageIndex,status:this.status}),a="get_order_list";this.$utils.post(a,o).then((function(o){console.log("订单列表",o),t.purchase=o.rs,t.purchase=r,t.order=n,e.stopPullDownRefresh(),t.pageIndex++}))},onPulling:function(e){console.log("onpulling",e)},onRestore:function(){this.onpull=0,console.log("onRestore")},code:function(e){this.display=!1},subscribe:function(t){200==this.sta?e.requestSubscribeMessage({tmplIds:["wMP3q9gTNfqVg2QEshGiNyQXZcZFam2SjmlDpcartBc"],success:function(e){var t='{"memberid":"'+this.memberid+'"}',r="cancel_cardbag";this.$utils.post(r,t).then((function(e){console.log(e)}))}}):0==this.sta&&wx.showToast({title:"请先登录",icon:"none"})},goToLoistics:function(t){console.log(t),e.navigateTo({url:"./logistics/logistics?ordernumber="+t.target.dataset.ordernumber})},selectliwu:function(t){e.reLaunch({url:"../index/index"})},ApplyRefund:function(t){var r=t.currentTarget.dataset.ordernumber,n=t.currentTarget.dataset.typerefund,o=t.currentTarget.dataset.goodslength,a=t.currentTarget.dataset.detailid,s=t.currentTarget.dataset.nav;if(2==s){var i=t.currentTarget.dataset.goodsinfolist,c=t.currentTarget.dataset.isrefundprice,u=[];for(var d in i)u.push(i[d].id);var l=u.join(",");0==c?e.navigateTo({url:"../../pagesub/Refund/ApplyRefund?ordernumber=".concat(r,"&typerefund=").concat(n,"&detailid=").concat(l)}):e.navigateTo({url:"../../pagesub/Refund/RefundInfo?ordernumber=".concat(r,"&typerefund=").concat(n,"&detailid=").concat(l)})}else o>1?e.navigateTo({url:"../../pagesub/Refund/ExchangeGoods?ordernumber=".concat(r,"&typerefund=").concat(n)}):e.navigateTo({url:"../../pagesub/Refund/ApplyRefund?ordernumber=".concat(r,"&typerefund=").concat(n,"&detailid=").concat(a)})},ApplyInvoice:function(t){var r=t.currentTarget.dataset.ordernumber,n=t.currentTarget.dataset.payprice;r&&n&&parseFloat(n)>0?e.navigateTo({url:"../Apply/ApplyInvoice?ordernumber="+r}):e.showToast({title:"订单实付款大于0才能开具发票！",icon:"none",mask:"true"})},ApplyInfo:function(t){var r=t.currentTarget.dataset.ordernumber;e.navigateTo({url:"../Apply/ApplySuccess?ordernumber=".concat(r,"&types=1")})},RefundAfterSale:function(t){var r=t.currentTarget.dataset.ordernumber,n=t.currentTarget.dataset.isreception,o=t.currentTarget.dataset.isexchangegoods||0,a=t.currentTarget.dataset.detailid;1==n?0==o?e.navigateTo({url:"../../pagesub/Refund/RefundAfterSale?ordernumber=".concat(r,"&isreception=").concat(n)}):e.navigateTo({url:"../../pagesub/Refund/RefundInfo?ordernumber=".concat(r,"&typerefund=2&detailid=").concat(a)}):e.navigateTo({url:"../../pagesub/Refund/RefundAfterSale?ordernumber=".concat(r,"&isreception=").concat(n)})},againProduct:function(t){var r=t.currentTarget.dataset.ordernumber,n="order_add_shopping_cart",o=e.getStorageSync("id"),a="order",s=JSON.stringify({ordernumber:r,memberid:o});this.$utils.postNew(n,s,a).then((function(t){1==t.sta&&e.reLaunch({url:"../shopping/shopping?type=0"})}))},PresentNow:function(t){var r=t.currentTarget.dataset.ordernumber;e.navigateTo({url:"../shopping/succes?cardbag_number="+r})},GiveitAgain:function(t){var r=t.currentTarget.dataset.ordernumber,n="order_add_shopping_cart",o=e.getStorageSync("id"),a="order",s=JSON.stringify({ordernumber:r,memberid:o});this.$utils.postNew(n,s,a).then((function(t){1==t.sta&&e.reLaunch({url:"../shopping/shopping?type=0"})}))},go_exchange:function(t){var r=t.currentTarget.dataset.cardid,n=t.currentTarget.dataset.isnianka,o=t.currentTarget.dataset.ordernumber;1==n?e.navigateTo({url:"/pagesub/YearCard/YearCardShopList?cardid="+r+"&isOrder=1&ordernumber="+o}):e.navigateTo({url:"../index-coupon/redemption_center?cardid="+r+"&isOrder=1&ordernumber="+o})},goRecharge:function(t){var r=t.currentTarget.dataset.ordernumber,n=e.getStorageSync("id"),o="order",a="recharge_giftcard",s=JSON.stringify({memberid:n,ordernumber:r});this.$utils.postNew(a,s,o).then((function(t){1==t.sta?setTimeout((function(){e.navigateTo({url:"../balance/RechargeStatus?istype=1&ordernumber="+r})}),500):e.showToast({title:t.msg,icon:"none",mask:"true"})}))},goTransfer:function(t){var r=t.currentTarget.dataset.ordernumber,n=t.currentTarget.dataset.isexchangetype;if(0==n){var o=t.currentTarget.dataset.ordernumber,a="order_add_shopping_cart",s=e.getStorageSync("id"),i="order",c=JSON.stringify({ordernumber:o,memberid:s,buy_type:1});this.$utils.postNew(a,c,i).then((function(t){1==t.sta&&e.navigateTo({url:"../shopping/shop?type=1&statutype=exchange&ordernumber=".concat(o,"&is_exchange_type=").concat(n)})}))}else e.navigateTo({url:"../shopping/shop?type=1&statutype=exchange&ordernumber=".concat(r,"&is_exchange_type=").concat(n)})},ReceptionAddress:function(t){var r=t.currentTarget.dataset.ordernumber;e.navigateTo({url:"./ReceptionAddress?ordernumber="+r})},receptiondetails:function(t){var r=t.currentTarget.dataset.ordernumber,n=t.currentTarget.dataset.status,o=t.currentTarget.dataset.cardtype,a=t.currentTarget.dataset.isnianka;r&&(1==this.nav?e.navigateTo({url:"./MyBuyOrderInfo?ordernumber="+r}):2==this.nav?e.navigateTo({url:"./MySendOrderInfo?ordernumber="+r}):1==a?e.navigateTo({url:"/pagesub/YearCard/YearCardDetail?ordernumber="+r}):0!=n&&1!=n||2!=o?e.navigateTo({url:"./ReceptionOrderInfo?ordernumber="+r}):e.navigateTo({url:"./ReceptionDetails?ordernumber="+r}))},receptionOrderInfo:function(t){e.navigateTo({url:"./MySendOrderInfo"})}}};t.default=i}).call(this,r(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},598:
/*!************************************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/orderList/orderList.vue?vue&type=style&index=0&lang=css& ***!
  \************************************************************************************************************************/
/*! no static exports found */function(e,t,r){"use strict";r.r(t);var n=r(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orderList.vue?vue&type=style&index=0&lang=css& */599),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},599:
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/orderList/orderList.vue?vue&type=style&index=0&lang=css& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,r){}},[[592,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/orderList/orderList.js.map