(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/orderList/ReceptionAddress"],{601:
/*!*****************************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/main.js?{"page":"pages%2ForderList%2FReceptionAddress"} ***!
  \*****************************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";(function(e){n(/*! uni-pages */5);s(n(/*! vue */3));var t=s(n(/*! ./pages/orderList/ReceptionAddress.vue */602));function s(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},602:
/*!**********************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/orderList/ReceptionAddress.vue ***!
  \**********************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var s=n(/*! ./ReceptionAddress.vue?vue&type=template&id=3a82a7be& */603),o=n(/*! ./ReceptionAddress.vue?vue&type=script&lang=js& */605);for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);n(/*! ./ReceptionAddress.vue?vue&type=style&index=0&lang=css& */607);var r,a=n(/*! ../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */20),d=Object(a["default"])(o["default"],s["render"],s["staticRenderFns"],!1,null,null,null,!1,s["components"],r);d.options.__file="pages/orderList/ReceptionAddress.vue",t["default"]=d.exports},603:
/*!*****************************************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/orderList/ReceptionAddress.vue?vue&type=template&id=3a82a7be& ***!
  \*****************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,n){"use strict";n.r(t);var s=n(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ReceptionAddress.vue?vue&type=template&id=3a82a7be& */604);n.d(t,"render",(function(){return s["render"]})),n.d(t,"staticRenderFns",(function(){return s["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return s["recyclableRender"]})),n.d(t,"components",(function(){return s["components"]}))},604:
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/orderList/ReceptionAddress.vue?vue&type=template&id=3a82a7be& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,n){"use strict";var s;n.r(t),n.d(t,"render",(function(){return o})),n.d(t,"staticRenderFns",(function(){return r})),n.d(t,"recyclableRender",(function(){return i})),n.d(t,"components",(function(){return s}));var o=function(){var e=this,t=e.$createElement,n=(e._self._c,e.__map(e.purchase,(function(t,n){var s=e.__get_orig(t),o=e.$utils.imageUrl(t.head_img);return{$orig:s,g0:o}})));e.$mp.data=Object.assign({},{$root:{l0:n}})},i=!1,r=[];o._withStripped=!0},605:
/*!***********************************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/orderList/ReceptionAddress.vue?vue&type=script&lang=js& ***!
  \***********************************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var s=n(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ReceptionAddress.vue?vue&type=script&lang=js& */606),o=n.n(s);for(var i in s)"default"!==i&&function(e){n.d(t,e,(function(){return s[e]}))}(i);t["default"]=o.a},606:
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/orderList/ReceptionAddress.vue?vue&type=script&lang=js& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;s(n(/*! @/common/btn.js */28)),s(n(/*! ../../common/md5.js */13));function s(e){return e&&e.__esModule?e:{default:e}}var o={data:function(){return{nav:"0",order:[],purchase:[],appid:"",key:"",merchantCode:"",openid:"",outTradeNo:"",totalAmount:"",nums:"",memberid:"",id:"",cardbag_number:"",fixed:!1,display:!1,choose:[],member_area_id:"",cardbag_detail_id:"",length:"",status:"",goods_spec:"",arr:"",goodsid:"",model:"",spe:"",item:"",specc_choose:"",indexx:"",provinceName:"",cityName:"",countyName:"",userName:"",linktel:"",telNumber:"",detailInfo:"",head_img:"",list:[],title:"",navv:"0",addresss:"",addli:{linkman:"",linktel:"",province_name:"",city_name:"",county_name:"",toast:""},addsign:"",delivery_type:"快递",showa:"",title_length:"",scope:"",isShowAddress:!1,keynumarr:[]}},onShow:function(){var t=this;if(1==this.showa){var n=e.getStorageSync("member_area_id");this.index=n,this.addlist(2)}1==this.scope&&(t.scope=!1,t.chooseadd())},onLoad:function(t){var n=this;this.id=e.getStorageSync("id"),this.level_name=e.getStorageSync("level_name"),this.cardbag_number=t.ordernumber,this.addlist(1),this.orderlist(),e.setStorageSync("member_area_id","");var s=setTimeout((function(e){n.showa=1,clearTimeout(s)}),200)},computed:{},methods:{getcheckgoodsarea:function(){var t=this,n=e.getStorageSync("id"),s=this.keynumarr.length>0?this.keynumarr.join(","):"",o="check_goods_area",i=JSON.stringify({memberid:n,member_area_id:this.member_area_id||"",keynum:s}),r="goods";this.$utils.postNew(o,i,r).then((function(n){1==n.sta?t.isShowAddress=!1:(t.isShowAddress=!0,e.showToast({icon:"none",title:n.msg}))}))},addlist:function(e){var t=this,n='{"memberid":"'+this.id+'"}',s="get_member_area";this.$utils.post(s,n).then((function(n){if(console.log("地址列表",n),n.rs.length>0)if(t.index)for(var s in console.log("选择的地址"),n.rs){var o=n.rs[s];t.index==o.id&&(t.addli=o,t.member_area_id=o.id,t.addsign=2)}else n.rs.length>0&&(console.log("默认第一个地址"),t.addli=n.rs[0],t.member_area_id=n.rs[0].id,t.addsign=2);else t.addli={linkman:"",linktel:"",province_name:"",city_name:"",county_name:"",address:"",toast:"请填写收货地址"},console.log("没地址"),t.addsign=0;2==e&&t.getcheckgoodsarea()}))},address:function(t){var n=this;if(0==this.addsign){console.log("直接添加来着");e.setStorageSync("add","");e.navigateTo({url:"../Address/Address"})}else this.addsign>0&&(console.log("选择地址"),e.navigateTo({url:"../Add/Add?cardbag_number="+n.cardbag_number}))},generate:function(t){var n=this,s=this,o=s.navv,i='{"memberid":"'+this.id+'","member_area_id":"'+this.member_area_id+'","cardbag_number":"'+this.cardbag_number+'","cardbag_detail_id":"'+this.cardbag_detail_id+'","delivery_type":"'+this.delivery_type+'"}',r="create_order";console.log(i),this.$utils.post(r,i).then((function(t){console.log("生成订单",t),1==t.sta?(e.navigateBack({}),e.setStorageSync("member_area_id",""),e.showToast({title:"已生成订单",icon:"success",success:function(t){1==s.title_length||0==s.title.length?(console.log("最后一个礼包"),setTimeout((function(t){e.navigateBack({delta:1})}),500)):s.title_length>1&&(s.title.splice(s.navv,1),console.log(o),console.log(s.title),console.log(s.title[o]),null==s.title[o]||void 0==s.title[o]?(console.log("无了"),setTimeout((function(t){e.navigateBack({delta:1})}),500)):s.cardbag_detail_id=s.title[o].id)}})):2==t.sta?(e.showToast({icon:"none",title:t.msg}),n.isShowAddress=!0):e.showToast({icon:"none",title:t.msg})}))},chooseadd:function(t){var n=this;e.chooseAddress({success:function(e){console.log("获取地址",e),n.provinceName=e.provinceName,n.cityName=e.cityName,n.countyName=e.countyName,n.userName=e.userName,n.linktel=e.linktel,n.detailInfo=e.detailInfo,n.telNumber=e.telNumber,n.add()},fail:function(t){console.log("失败"),e.openSetting({success:function(e){console.log(e.authSetting),n.scope=!0},fail:function(e){console.log(e),console.log(e.authSetting)}})}})},add:function(t){var n=this,s=this,o=this.provinceName,i=this.cityName,r=this.countyName,a='{"level":"1"}',d="get_area";this.$utils.post(d,a).then((function(t){for(var a in 0==t.rs.length&&(s.addresss=!0),t.rs)if(o==t.rs[a].name){n.provinceName=t.rs[a].id,console.log(t.rs[a].name);var d='{"level":"2","parentid":"'+t.rs[a].id+'"}',c="get_area";n.$utils.post(c,d).then((function(e){for(var t in 0==e.rs.length&&(s.addresss=!0),e.rs)if(i==e.rs[t].name){s.cityName=e.rs[t].id,console.log(e.rs[t].name);var n='{"level":"3","parentid":"'+e.rs[t].id+'"}',o="get_area";s.$utils.post(o,n).then((function(e){for(var t in console.log("县",e),0==e.rs.length&&(s.addresss=!0),e.rs)r==e.rs[t].name?(s.countyName=e.rs[t].id,console.log(e.rs[t].name),s.adds()):s.addresss=!0}))}else s.addresss=!0}))}else s.addresss=!0;1==s.addresss&&e.showToast({title:"匹配失败",icon:"none"})}))},adds:function(t){var n=this,s=this,o='{"memberid":"'+s.id+'","linkman":"'+s.userName+'","linktel":"'+s.telNumber+'","province":"'+s.provinceName+'","city":"'+s.cityName+'","county":"'+s.countyName+'","address":"'+s.detailInfo+'"}';console.log(o);var i="add_member_area";s.$utils.post(i,o).then((function(t){if(console.log(t),1==t.sta){var s='{"memberid":"'+n.id+'"}',o="get_member_area";n.$utils.post(o,s).then((function(e){console.log("地址列表",e),console.log("默认第一个地址"),n.addli=e.rs[0],n.member_area_id=e.rs[0].id,n.addsign=2,n.getcheckgoodsarea()}))}else e.showToast({title:"匹配失败,请手动填写地址",icon:"none",success:function(){var t=setTimeout((function(n){e.setStorageSync("add","");e.navigateTo({url:"../Address/Address"}),clearTimeout(t)}),1e3)}})}))},orderlist:function(e){var t=this,n=[],s=JSON.stringify({cardbag_number:this.cardbag_number,address_type:1}),o="get_cardbag_fenshu";this.$utils.post(o,s).then((function(e){for(var s in console.log("子订单列表",e.rs),e.rs[0].goodsinfo)e.rs[0].goodsinfo[s].guige="";for(var o in e.rs)0==e.rs[o].status&&(e.rs[o].index=Number(o)+1,n.push(e.rs[o]));if(t.title_length=n.length,t.title=n,t.purchase=e.rs[0].goodsinfo,t.cardbag_detail_id=n[0].id,t.length=e.rs[0].goodsinfo.length,t.status=e.rs.status,t.goods_spec=new Array(e.rs[0].goodsinfo.length),t.item=new Array(e.rs[0].goodsinfo.length),t.purchase.length>0)for(var i=0;i<t.purchase.length;i++){var r=t.purchase[i];t.keynumarr.push(r.keynum)}setTimeout((function(){t.getcheckgoodsarea()}),200)}))},chooseaddbutton:function(t){var n=this;e.getSetting({success:function(e){console.log("授权",e.authSetting["scope.address"]),1==e.authSetting["scope.address"]&&n.chooseadd()}})}}};t.default=o}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},607:
/*!*******************************************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/orderList/ReceptionAddress.vue?vue&type=style&index=0&lang=css& ***!
  \*******************************************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var s=n(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ReceptionAddress.vue?vue&type=style&index=0&lang=css& */608),o=n.n(s);for(var i in s)"default"!==i&&function(e){n.d(t,e,(function(){return s[e]}))}(i);t["default"]=o.a},608:
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/orderList/ReceptionAddress.vue?vue&type=style&index=0&lang=css& ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,n){}},[[601,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/orderList/ReceptionAddress.js.map