(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/details/details"],{45:
/*!******************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/main.js?{"page":"pages%2Fdetails%2Fdetails"} ***!
  \******************************************************************************************************/
/*! no static exports found */function(o,e,s){"use strict";(function(o){s(/*! uni-pages */4);t(s(/*! vue */2));var e=t(s(/*! ./pages/details/details.vue */46));function t(o){return o&&o.__esModule?o:{default:o}}o(e.default)}).call(this,s(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},46:
/*!***********************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/details/details.vue ***!
  \***********************************************************************************/
/*! no static exports found */function(o,e,s){"use strict";s.r(e);var t=s(/*! ./details.vue?vue&type=template&id=39cbb4e8& */47),i=s(/*! ./details.vue?vue&type=script&lang=js& */49);for(var n in i)"default"!==n&&function(o){s.d(e,o,(function(){return i[o]}))}(n);s(/*! ./details.vue?vue&type=style&index=0&lang=css& */52);var r,c=s(/*! ../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */16),a=Object(c["default"])(i["default"],t["render"],t["staticRenderFns"],!1,null,null,null,!1,t["components"],r);a.options.__file="pages/details/details.vue",e["default"]=a.exports},47:
/*!******************************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/details/details.vue?vue&type=template&id=39cbb4e8& ***!
  \******************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(o,e,s){"use strict";s.r(e);var t=s(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./details.vue?vue&type=template&id=39cbb4e8& */48);s.d(e,"render",(function(){return t["render"]})),s.d(e,"staticRenderFns",(function(){return t["staticRenderFns"]})),s.d(e,"recyclableRender",(function(){return t["recyclableRender"]})),s.d(e,"components",(function(){return t["components"]}))},48:
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/details/details.vue?vue&type=template&id=39cbb4e8& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(o,e,s){"use strict";var t;s.r(e),s.d(e,"render",(function(){return i})),s.d(e,"staticRenderFns",(function(){return r})),s.d(e,"recyclableRender",(function(){return n})),s.d(e,"components",(function(){return t}));try{t={uniPopup:function(){return s.e(/*! import() | uni_modules/uni-popup/components/uni-popup/uni-popup */"uni_modules/uni-popup/components/uni-popup/uni-popup").then(s.bind(null,/*! @/uni_modules/uni-popup/components/uni-popup/uni-popup.vue */799))}}}catch(c){if(-1===c.message.indexOf("Cannot find module")||-1===c.message.indexOf(".vue"))throw c;console.error(c.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var i=function(){var o=this,e=o.$createElement,s=(o._self._c,o.$utils.imageUrl(o.head_img)),t=o.alt.goodsname.substr(0,10),i=o.details.length>0?o.__map(o.details,(function(e,s){var t=o.__get_orig(e),i=o.$utils.imageUrl(e);return{$orig:t,g2:i}})):null,n=o.details.length>0?null:o.$utils.imageUrl(o.head_img),r=1==o.alt.is_currency_type&&o.alt.client_card_goods_list.length>0?o.__map(o.alt.client_card_goods_list,(function(e,s){var t=o.__get_orig(e),i=o.$utils.imageUrl(e.head_img);return{$orig:t,g4:i}})):null;o.$mp.data=Object.assign({},{$root:{g0:s,g1:t,l0:i,g3:n,l1:r}})},n=!1,r=[];i._withStripped=!0},49:
/*!************************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/details/details.vue?vue&type=script&lang=js& ***!
  \************************************************************************************************************/
/*! no static exports found */function(o,e,s){"use strict";s.r(e);var t=s(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./details.vue?vue&type=script&lang=js& */50),i=s.n(t);for(var n in t)"default"!==n&&function(o){s.d(e,o,(function(){return t[o]}))}(n);e["default"]=i.a},50:
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/details/details.vue?vue&type=script&lang=js& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(o,e,s){"use strict";(function(o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,s(/*! @/components/feng-parse/parse.css */51);var t=n(s(/*! ../../common/config.js */13)),i=n(s(/*! sr-sdk-wxapp */25));function n(o){return o&&o.__esModule?o:{default:o}}function r(o,e,s){return e in o?Object.defineProperty(o,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[e]=s,o}var c=function(){s.e(/*! require.ensure | components/own-components/own-coupon-list/own-coupon-list */"components/own-components/own-coupon-list/own-coupon-list").then(function(){return resolve(s(/*! @/components/own-components/own-coupon-list/own-coupon-list.vue */846))}.bind(null,s)).catch(s.oe)},a=function(){Promise.all(/*! require.ensure | components/feng-parse/parse */[s.e("common/vendor"),s.e("components/feng-parse/parse")]).then(function(){return resolve(s(/*! @/components/feng-parse/parse.vue */853))}.bind(null,s)).catch(s.oe)},l={components:{uParse:a,"own-coupon-list":c},data:function(){var o;return o={num_all:0,btns:0,fixed:!1,list:[],display:!1,commom:"details-choose-left details-choose-active",commom1:"details-choose-left",img:!0,details:[],indexNav:[{name:"热门",style:"color:#FF0022;border-bottom:4.16rpx solid #FF0022;"},{name:"情人节"},{name:"夏日防暑"},{name:"9.9包邮"},{name:"美物"},{name:"热门"},{name:"情人节"}],alt:"",text:"",text1:"",choose:[{src:"../../static/details-small.jpg"},{src:"../../static/details-small.jpg"},{src:"../../static/details-small.jpg"},{src:"../../static/details-small.jpg"},{src:"../../static/details-small.jpg"},{src:"../../static/details-small1.jpg"},{src:"../../static/details-small1.jpg"},{src:"../../static/details-small1.jpg"},{src:"../../static/details-small1.jpg"},{src:"../../static/details-small1.jpg"}],id:"",goods_model:"",goods_spec:[0],goods_item:["默认"],discount_name:"",level_name:"",level:"",images:"",head_img:"",arr:[],first:[],btmdetails:"",btmnotice:"",btm:!0,listdisplay:!1,scrollTop:"",tt:[],top:"",keynum:"",sta:"",openid:"",Data:"",specArr:{},url:"",couponList:[],goodsinfo:{}},r(o,"goods_item",""),r(o,"guige",[]),r(o,"checknum","1"),r(o,"swiperCurrentIndex",1),o},onLoad:function(e){var s=this;this.url=t.default.URL,console.log(e),console.log("我执行了");var n=decodeURIComponent(e.scene);e.keynum?this.keynum=e.keynum:this.keynum=n,this.level_name=o.getStorageSync("level_name"),console.log(this.level_name),this.level=o.getStorageSync("level"),this.discount_name=o.getStorageSync("discount_name"),this.id=o.getStorageSync("id");var r=o.getStorageSync("id"),c='{"keynum":"'+this.keynum+'","memberid":"'+r+'"}';console.log(c);var a="get_goods_detail";this.$utils.post(a,c).then((function(o){console.log("res： ",o),console.log("详情",o.rs.goodsinfo),s.goodsinfo=o.rs.goodsinfo,i.default.track("browse_sku_page",{sku:{sku_id:s.goodsinfo.id+"",sku_name:s.goodsinfo.goodsname},spu:{spu_id:s.goodsinfo.id+"",spu_name:s.goodsinfo.goodsname},primary_image_url:s.goodsinfo.head_img});var e,t,n,r=JSON.stringify({memberid:s.id,goodsid:s.goodsinfo.id}),c="get_coupon_list";if(s.$utils.post(c,r).then((function(o){console.log(),s.couponList=o.rs})),s.head_img=o.rs.goodsinfo.head_img,o.rs.goodsinfo.images){var a=o.rs.goodsinfo.images.split("|");a.unshift(o.rs.goodsinfo.head_img),s.details=a}for(var l in s.num_all=o.rs.goodsinfo.buy_shopping_cart_number,s.text=o.rs.goodsinfo.goods_spec.length,s.text1=o.rs.goodsinfo.goods_spec_list.length,console.log("规格",o.rs.goodsinfo.goods_spec),o.rs.goodsinfo.discount_name1=(o.rs.goodsinfo.price_level1/o.rs.goodsinfo.price*10).toFixed(1)+"折",o.rs.goodsinfo.discount_name2=(o.rs.goodsinfo.price_level2/o.rs.goodsinfo.price*10).toFixed(1)+"折",o.rs.goodsinfo.discount_name3=(o.rs.goodsinfo.price_level3/o.rs.goodsinfo.price*10).toFixed(1)+"折",o.rs.goodsinfo.discount_name4=(o.rs.goodsinfo.price_level4/o.rs.goodsinfo.price*10).toFixed(1)+"折",s.alt=o.rs.goodsinfo,s.specifications=o.rs.goodsinfo.goods_spec_list,s.goods_model=o.rs.goodsinfo.goods_model,s.list=o.rs.goodsinfo.goods_spec_list,o.rs.goodsinfo.goods_spec)o.rs.goodsinfo.goods_spec[l].one=l;s.btmdetails=o.rs.goodsinfo.details.replace(/<img /g,'<img class="rich_img" '),s.choose=o.rs.goodsinfo.goods_spec,s.goodsid=o.rs.goodsinfo.id,console.log("礼篮"),1==o.rs.goodsinfo.goods_spec.length&&1==o.rs.goodsinfo.goods_spec.goods_spec_item&&(s.goods_spec=[0],s.goods_item=[o.rs.goodsinfo.goods_spec.goods_spec_item]);var d=s.goods_spec,g=s.goods_item,u=s.first,m=s.arr,p=s.specArr;if(s.choose.length>0)for(var h in s.choose){var f=s.choose[h],_=f.goods_spec_item;for(var v in e=f.one,d.push(e),u.splice(0,1),m.splice(0,1),-1==u.indexOf(e)&&u.push(e),_){var y=_[0];t=v,n=y.item,-1==m.indexOf(t)&&m.push(p),p[e]=n}}d=Object.keys(p),g=Object.values(p),s["guige"]=g,console.log(s.guige.join(","))}));c="{}",a="get_webconfig_tiaoli";this.$utils.post(a,c).then((function(o){console.log("赠礼须知"),o.rs.zenglixuzhi,s.btmnotice=o.rs.zenglixuzhi.replace(/<img /g,'<img class="rich_img" ')}));var l=o.getStorageSync("sign");l?this.sta="200":(this.open(),this.sta="0")},onShareAppMessage:function(o){return this.$refs.popup.close(),i.default.track("page_share_app_message",{from_type:"menu",share_title:"我发现了一份不错的礼物，快来看看吧！",share_path:"/pages/details/details?keynum="+this.keynum,share_image_url:"",share_to:"friends"}),{imageUrl:this.alt.head_img,title:"我发现了一份不错的礼物，快来看看吧！",path:"/pages/details/details?keynum="+this.keynum,desc:"指间送礼"}},computed:{selectOption:function(){return this.goods_item}},methods:{firend:function(e){this.$refs.popup.close(),o.navigateTo({url:"./detailsshare?keynum=".concat(this.keynum,"&imageUrl=").concat(this.head_img,"&goodsname=").concat(this.alt.goodsname)})},trackClick:function(o){i.default.track("start_consult",{action_type:"consult_online"})},reduce:function(e,s,t){var n,r=parseInt(e);1==s?(r++,n="append_to_cart"):(r--,n="remove_from_cart"),r<1?o.showToast({title:"商品购买数量最少一个",mask:!0,icon:"none"}):(i.default.track("add_to_cart",{action_type:n,sku:{sku_id:this.goodsinfo.id+"",sku_name:this.goodsinfo.goodsname},spu:{spu_id:this.goodsinfo.id+"",spu_name:this.goodsinfo.goodsname},sku_num:r,primary_image_url:this.goodsinfo.head_img}),this.checknum=parseInt(r))},handleSelect:function(o){this.goods_item=o,console.log("----\x3e:",o)},join:function(o){var e=o.currentTarget.dataset.index;0==e?(this.commom="details-choose-left details-choose-active",this.commom1="details-choose-left",this.img=!0,this.btm=!0):(this.commom1="details-choose-left details-choose-active",this.commom="details-choose-left",this.img=!1,this.btm=!1)},goshop:function(o){this.btns=2;var e=0;this.display=!this.display,this.fixed=!0,console.log("打开商品规格"),0==e&&(console.log(this.scrollTop),e++)},lilan:function(e){var s=this,t=o.getStorageSync("id");if(t){this.btns=3;var i=0;return this.display=!this.display,this.fixed=!0,console.log("打开商品规格"),void(0==i&&(console.log(this.scrollTop),i++))}o.showToast({title:"请先登录",icon:"none",mask:"true",success:function(e){setTimeout((function(e){o.reLaunch({url:"../signin/signin?receive=ondetails&keynum="+s.keynum})}),500)}})},meshop:function(){},list_speci:function(o){this.btns=1,console.log(this.text);var e=0;this.display=!this.display,this.fixed=!0,console.log("打开商品规格"),0==e&&(console.log(this.scrollTop),e++);var s="get_goods_detail",t=JSON.stringify({memberid:this.id,goodsid:this.goodsinfo.id,goods_model:this.goodsinfo.goods_model,spec_name:this.goodsinfo["goods_spec"][0]["spec_name"],goods_spec:this.goodsinfo["goods_spec"][0]["id"],goods_item:this.goodsinfo["goods_spec"][0]["goods_spec_item"][0]["item"]});this.$utils.post(s,t).then((function(o){console.log(o)}))},close:function(o){console.log("关闭规格"),this.display=!1,this.fixed=!1,this.scrolle()},determine1:function(e){var s=this,t=o.getStorageSync("id");if(t){console.log("确定规格"),this.display=!1,this.fixed=!1;var i="op_buy_shopping_cart",n=this.id,r=this.goodsid,c=this.goods_model,a=String(Object.keys(this.specArr)),l=String(Object.values(this.specArr)).replace("#","替换u35");console.log(l);var d=JSON.stringify({memberid:n,goodsid:r,goods_model:c,goods_spec:a,goods_item:l,num:this.checknum,buy_type:1});console.log(d),this.$utils.post(i,d).then((function(e){console.log(e+"直接购买");var s="success";if(1!=e.sta)return s="none",void o.showToast({icon:s,title:e.msg,duration:2e3});""!=l&&o.navigateTo({url:"../shopping/must?type=1"})})),this.scrolle()}else o.showToast({title:"请先登录",icon:"none",mask:"true",success:function(e){setTimeout((function(e){o.reLaunch({url:"../signin/signin?receive=ondetails&keynum="+s.keynum})}),500)}})},determine2:function(e){var s=this,t=o.getStorageSync("id");if(t){console.log("确定规格"),this.display=!1,this.fixed=!1;var i="op_buy_shopping_cart",n=this.id,r=this.goodsid,c=this.goods_model,a=String(Object.keys(this.specArr)),l=String(Object.values(this.specArr)).replace("#","替换u35");console.log(l);var d=JSON.stringify({memberid:n,goodsid:r,goods_model:c,goods_spec:a,goods_item:l,num:this.checknum,buy_type:1});this.$utils.post(i,d).then((function(e){console.log("直接赠送"),console.log(e);var s="success";if(1!=e.sta)return s="none",void o.showToast({icon:s,title:e.msg,duration:2e3});""!=l&&o.redirectTo({url:"../shopping/shop?type=1"})})),this.scrolle()}else o.showToast({title:"请先登录",icon:"none",mask:"true",success:function(e){setTimeout((function(e){o.reLaunch({url:"../signin/signin?receive=ondetails&keynum="+s.keynum})}),500)}})},determine3:function(e){var s=this,t=this,i=o.getStorageSync("id");if(i){this.display=!1,this.fixed=!1;var n="op_buy_shopping_cart",r=this.id,c=this.goodsid,a=this.goods_model,l=String(Object.keys(this.specArr)),d=String(Object.values(this.specArr)).replace("#","替换u35"),g=JSON.stringify({memberid:r,goodsid:c,goods_model:a,goods_spec:l,goods_item:d,num:this.checknum,buy_type:0});console.log(JSON.parse(g)),this.$utils.post(n,g).then((function(e){console.log("res"),console.log(e),1==e.sta&&o.showToast({icon:"success",title:"添加成功",duration:1e3});var t=0,i=o.getStorageSync("id");s.memberid=i;var n='{"memberid":"'+i+'","buy_type":"'+t+'"}',r="get_buy_shopping_cart";s.$utils.post(r,n).then((function(o){console.log("商品信息",o),s.num_all=o.rs.num_all}))}))}else o.showToast({title:"请先登录",icon:"none",mask:"true",success:function(e){setTimeout((function(e){o.reLaunch({url:"../signin/signin?receive=ondetails&keynum="+t.keynum})}),500)}})},bottom_btn:function(e){var s=this,t=o.getStorageSync("id");t?o.reLaunch({url:"../shopping/shopping?type=0"}):o.showToast({title:"请先登录",icon:"none",mask:"true",success:function(e){setTimeout((function(e){o.reLaunch({url:"../signin/signin?receive=ondetails&keynum="+s.keynum})}),500)}})},onPageScroll:function(o){this.tt;this.scrollTop=o.scrollTop},scrolle:function(e){var s=this;if(console.log(this.fixed),0==this.fixed)var t=setTimeout((function(){console.log("执行??"),o.pageScrollTo({scrollTop:s.top}),clearTimeout(t)}),100)},spec:function(o){console.log(o);var e=o.currentTarget.dataset.one,s=o.currentTarget.dataset.index,t=o.currentTarget.dataset.text;o.currentTarget.dataset.da;console.log("点击规格",o);var i=this.goods_spec,n=this.goods_item,r=this.first,c=this.arr,a=this.specArr;this.choose.length;console.log(i),console.log(n),i.push(e),r.splice(0,1),c.splice(0,1),-1==r.indexOf(e)&&r.push(e),-1==c.indexOf(s)&&c.push(a),console.log(a[e]==t),a[e]==t?a[e]=null:a[e]=t,i=Object.keys(a),n=Object.values(a),console.log(a),console.log(i),console.log(n),this["guige"]=n,console.log(this.guige.join(","))},open:function(){var e=this,s=o.getStorageSync("openid");s?(this.openid=s,console.log("已获取openid")):o.login({success:function(s){var t='{"wx_code":"'+s.code+'"}',i="get_openid";e.$utils.post(i,t).then((function(s){console.log("openid",s),o.setStorageSync("openid",s.openid),e.openid=s.openid}))}})},bindGetUserInfo:function(e){e.detail.rawData&&(this.Data=JSON.parse(e.detail.rawData),o.showLoading({title:"登录中",mask:"true"}),this.zhu())},zhu:function(){var e=this,s=this.Data,t=this.openid;o.setStorageSync("rawdata",s);var i='{"wx_openid":"'+t+'","name":"'+s.nickName+'","sex":"'+s.gender+'","head_img":"'+s.avatarUrl+'"}';console.log(i);var n="member_register";this.$utils.post(n,i).then((function(s){if(console.log("注册",s),"操作成功！"===s.msg||"该用户已经注册,请勿重复注册！"===s.msg){var i='{"wx_openid":"'+t+'"}',n="member_login";e.$utils.post(n,i).then((function(s){o.hideLoading(),console.log("基本信息",s.rs),o.setStorageSync("sign",s.rs),o.setStorageSync("id",s.rs.id),o.setStorageSync("name",s.rs.name),o.setStorageSync("keynum",s.rs.keynum),o.setStorageSync("sex",s.rs.sex),o.setStorageSync("head_img",s.rs.head_img),o.setStorageSync("level_name",s.rs.level_name),o.setStorageSync("level",s.rs.lmevemml),o.setStorageSync("balance",s.rs.balance),o.setStorageSync("zj_balance",s.rs.zj_balance),o.setStorageSync("phone",s.rs.phone),null==s.rs.discount_name||""==s.rs.discount_name||o.setStorageSync("discount_name",s.rs.discount_name),e.showa=1,e.sta=200;var t='{"keynum":"'+e.keynum+'","memberid":"'+s.rs.id+'"}';console.log(t);var i="get_goods_detail";e.$utils.post(i,t).then((function(o){if(console.log("详情",o.rs.goodsinfo),e.head_img=o.rs.goodsinfo.head_img,o.rs.goodsinfo.images){var s=o.rs.goodsinfo.images.split("|");s.unshift(o.rs.goodsinfo.head_img),e.details=s}for(var t in e.text=o.rs.goodsinfo.goods_spec.length,e.text1=o.rs.goodsinfo.goods_spec_list.length,o.rs.goodsinfo.discount_name1=(o.rs.goodsinfo.price_level1/o.rs.goodsinfo.price*10).toFixed(1)+"折",o.rs.goodsinfo.discount_name2=(o.rs.goodsinfo.price_level2/o.rs.goodsinfo.price*10).toFixed(1)+"折",o.rs.goodsinfo.discount_name3=(o.rs.goodsinfo.price_level3/o.rs.goodsinfo.price*10).toFixed(1)+"折",o.rs.goodsinfo.discount_name4=(o.rs.goodsinfo.price_level4/o.rs.goodsinfo.price*10).toFixed(1)+"折",e.alt=o.rs.goodsinfo,e.specifications=o.rs.goodsinfo.goods_spec_list,e.list=o.rs.goodsinfo.goods_spec_list,o.rs.goodsinfo.goods_spec)o.rs.goodsinfo.goods_spec[t].one=t;e.btmdetails=o.rs.goodsinfo.details.replace(/<img /g,'<img class="rich_img" '),e.choose=o.rs.goodsinfo.goods_spec,e.goodsid=o.rs.goodsinfo.id,1==o.rs.goodsinfo.is_collect&&(e.icon[1].src="../../static/shoucang-on.png")}));t="{}",i="get_webconfig_tiaoli";e.$utils.post(i,t).then((function(o){console.log("赠礼须知"),o.rs.zenglixuzhi,e.btmnotice=o.rs.zenglixuzhi.replace(/<img /g,'<img class="rich_img" ')}))}))}}))},gotoShare:function(){var e=this,s=o.getStorageSync("id");s?this.$refs.popup.open():o.showToast({title:"请先登录",icon:"none",mask:"true",success:function(s){setTimeout((function(s){o.reLaunch({url:"../signin/signin?receive=ondetails&keynum="+e.keynum})}),500)}})},close1:function(){this.$refs.popup.close()},confirm_order:function(e){var s=e.currentTarget.dataset.keynum;o.navigateTo({url:"../index-coupon/ExchangeDetails?keynum="+s+"&isShow=2"})},changeswiper:function(o){var e=o.detail,s=(e.current,e.source);"autoplay"!==s&&"touch"!==s||(this.swiperCurrentIndex=o.detail.current+1)}}};e.default=l}).call(this,s(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},52:
/*!********************************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/details/details.vue?vue&type=style&index=0&lang=css& ***!
  \********************************************************************************************************************/
/*! no static exports found */function(o,e,s){"use strict";s.r(e);var t=s(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./details.vue?vue&type=style&index=0&lang=css& */53),i=s.n(t);for(var n in t)"default"!==n&&function(o){s.d(e,o,(function(){return t[o]}))}(n);e["default"]=i.a},53:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/details/details.vue?vue&type=style&index=0&lang=css& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(o,e,s){}},[[45,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/details/details.js.map