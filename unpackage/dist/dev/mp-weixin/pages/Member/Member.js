(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/Member/Member"],{280:
/*!****************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/main.js?{"page":"pages%2FMember%2FMember"} ***!
  \****************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";(function(e){n(/*! uni-pages */5);o(n(/*! vue */3));var t=o(n(/*! ./pages/Member/Member.vue */281));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},281:
/*!*********************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/Member/Member.vue ***!
  \*********************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./Member.vue?vue&type=template&id=31582ef4& */282),a=n(/*! ./Member.vue?vue&type=script&lang=js& */284);for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n(/*! ./Member.vue?vue&type=style&index=0&lang=css& */286);var i,s=n(/*! ../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */20),l=Object(s["default"])(a["default"],o["render"],o["staticRenderFns"],!1,null,null,null,!1,o["components"],i);l.options.__file="pages/Member/Member.vue",t["default"]=l.exports},282:
/*!****************************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/Member/Member.vue?vue&type=template&id=31582ef4& ***!
  \****************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,n){"use strict";n.r(t);var o=n(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Member.vue?vue&type=template&id=31582ef4& */283);n.d(t,"render",(function(){return o["render"]})),n.d(t,"staticRenderFns",(function(){return o["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return o["recyclableRender"]})),n.d(t,"components",(function(){return o["components"]}))},283:
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/Member/Member.vue?vue&type=template&id=31582ef4& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,n){"use strict";var o;n.r(t),n.d(t,"render",(function(){return a})),n.d(t,"staticRenderFns",(function(){return i})),n.d(t,"recyclableRender",(function(){return r})),n.d(t,"components",(function(){return o}));var a=function(){var e=this,t=e.$createElement,n=(e._self._c,1==e.typestring?e.$utils.imageUrl(e.head_img):null),o=2==e.typestring?e.$utils.imageUrl(e.head_img):null;e.$mp.data=Object.assign({},{$root:{g0:n,g1:o}})},r=!1,i=[];a._withStripped=!0},284:
/*!**********************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/Member/Member.vue?vue&type=script&lang=js& ***!
  \**********************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var o=n(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Member.vue?vue&type=script&lang=js& */285),a=n.n(o);for(var r in o)"default"!==r&&function(e){n.d(t,e,(function(){return o[e]}))}(r);t["default"]=a.a},285:
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/Member/Member.vue?vue&type=script&lang=js& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(/*! ../../common/md5.js */13));a(n(/*! ../../common/weapp.qrcode.min.js */117));function a(e){return e&&e.__esModule?e:{default:e}}var r={data:function(){return{ip:"",level:"",head_img:"",name:"",ordinary:[],finger:[],plus:[],enterprise:[],content:"",display:!1,current:"",list:[],no:"",timeStamp:"",nums:"",outTradeNo:"",typestring:"1",membeInfo:""}},onLoad:function(t){var n=this;this.typestring=t.typestring||("企业会员"==e.getStorageSync("level_name")?2:1),1==this.typestring?e.setNavigationBarTitle({title:"会员详情"}):e.setNavigationBarTitle({title:"企业会员"}),this.no=e.getStorageSync("NO"),this.level=e.getStorageSync("level"),this.head_img=e.getStorageSync("head_img"),this.name=e.getStorageSync("name"),e.getStorageSync("level")>3?this.current=2:(console.log("小于3"),this.current=e.getStorageSync("level")-1),console.log(this.current);var o=this;this.level=e.getStorageSync("level"),this.head_img=e.getStorageSync("head_img"),this.name=e.getStorageSync("name");var a="{}",r="get_level_card";this.$utils.post(r,a).then((function(e){for(var t in console.log(e),e.rs){var a=e.rs[t].money.toString().replace(/\d+\.(\d*)/,"$1");"00"==a&&(e.rs[t].money=parseInt(e.rs[t].money)),1==e.rs[t].level?e.rs[t].level_name="普通会员":2==e.rs[t].level?e.rs[t].level_name="指间会员":3==e.rs[t].level?e.rs[t].level_name="plus会员":4==e.rs[t].level?e.rs[t].level_name="企业会员":5==e.rs[t].level&&(e.rs[t].level_name="合作伙伴")}n.list=e.rs,n.ordinary=e.rs[0],o.finger=e.rs[0],o.plus=e.rs[1],o.enterprise=e.rs[2]}));for(var i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],s="",l=0;l<32;l++){var c=parseInt(61*Math.random());s+=i[c]}this.nums=s,this.timeStamp=(new Date).getTime();a="{}",r="get_payconfig";this.$utils.post(r,a).then((function(t){console.log("第三方参数",t),n.appid=t.rs.appid,n.key=t.rs.key,n.merchantCode=t.rs.merchantCode,n.openid=e.getStorageSync("openid")}))},onShow:function(){this.outTradeNo,this.memberInfo()},methods:{memberInfo:function(){var t=this,n=e.getStorageSync("id"),o="get_member_audit_info",a="member",r=JSON.stringify({memberid:n});this.$utils.postNew(o,r,a).then((function(n){1==n.sta?t.membeInfo=n.rs:e.showToast({title:n.img,icon:"none"})}))},code:function(e){this.display=!1},button:function(t){var n=this,o=t.currentTarget.dataset.level_card_id,a=e.getStorageSync("id"),r="微信",i='{"memberid":"'+a+'","level_card_id":"'+o+'","recharge_way":"'+r+'"}';console.log(i);var s="buy_level_card";this.$utils.post(s,i).then((function(t){console.log("会员充值",t),1==t.sta?(e.showLoading({title:"加载中",mask:!0}),n.totalAmount=t.money,n.outTradeNo=t.serial_number,n.notifyUrl="http://zhijianlw.com/api.php/index/set_agent_level_up?serial_number="+t.serial_number,n.ipp()):e.showToast({title:t.msg,icon:"none"})}))},wx:function(t){var n=this,a=this,r=this.ip,i=this.openid,s='{"serial_number":"'+a.outTradeNo+'","ip":"'+r+'","openid":"'+i+'","type":"member"}',l="add_paylog_to_wx";console.log(s),this.$utils.post(l,s).then((function(t){console.log("获取参数",t);var r=[],i={appId:"appId=wx9c53a99b078435f5",timeStamp:"timeStamp="+n.timeStamp,nonceStr:"nonceStr="+n.nums,package:"package=prepay_id="+t.rs.prepay_id,signType:"signType=MD5"};for(var s in console.log("拼接前",i),i)r.push(i[s]);r.sort();var l="";for(var c in r)c==r.length-1?l+=r[c]:l+=r[c]+"&";var u=l+"&key=45579fcdb646746f02d9e041d50975b4";console.log("拼接后",u);var d=o.default.hexMD5(u);console.log(d),e.hideLoading(),e.requestPayment({timeStamp:String(n.timeStamp),nonceStr:n.nums,package:"prepay_id="+t.rs.prepay_id,signType:"MD5",paySign:d.toUpperCase(),success:function(t){e.hideLoading(),console.log(t),e.request({url:"https://zhijianlw.com/api.php/index/set_agent_level_up",data:{serial_number:a.outTradeNo},header:{"content-type":"application/x-www-form-urlencoded"},method:"GET",success:function(e){console.log("微信成功回调",e)}}),e.showModal({title:"微信支付",content:"支付成功",cancelText:"首页",confirmText:"个人中心",success:function(t){t.confirm?(console.log("个人中心"),e.switchTab({url:"../personal/personal"})):t.cancel&&(console.log("首页"),e.switchTab({url:"../index/index"}))}})},fail:function(t){e.hideLoading(),console.log(t),e.showToast({title:"支付失败",icon:"none"}),a.commodity=""}})}))},ipp:function(t){var n=this;e.request({url:"https://pv.sohu.com/cityjson?ie=utf-8",success:function(e){console.log(e);var t=e.data.split(" "),o=t[4],a=o.replace('"',""),r=a.replace('"',""),i=r.replace(",","");n.ip=i,n.wx()}})},xiaochengxu:function(t){var n=[],a={appId:"appId="+this.appid,random:"random="+this.nums,merchantCode:"merchantCode="+this.merchantCode,outTradeNo:"outTradeNo="+this.outTradeNo,totalAmount:"totalAmount="+this.totalAmount,channel:"channel=WXPAY",tradeType:"tradeType=MINIAPP",openId:"openId="+this.openid,subAppId:"subAppId=wx9c53a99b078435f5",notifyUrl:"notifyUrl="+this.notifyUrl};for(var r in console.log(a),a)n.push(a[r]);n.sort();var i="";for(var s in n)s==n.length-1?i+=n[s]:i+=n[s]+"&";var l=i+"&key="+this.key;console.log(l);var c=o.default.hexMD5(l);console.log(c);var u={appId:"appId="+this.appid,sign:"sign="+c,random:"random="+this.nums,merchantCode:"merchantCode="+this.merchantCode,outTradeNo:"outTradeNo="+this.outTradeNo,totalAmount:"totalAmount="+this.totalAmount,channel:"channel=WXPAY",tradeType:"tradeType=MINIAPP",openId:"openId="+this.openid,subAppId:"subAppId=wx9c53a99b078435f5",notifyUrl:"notifyUrl="+this.notifyUrl};console.log(u);var d=[];for(var p in u)d.push(u[p]);d.sort();var m="";for(var h in d)h==d.length-1?m+=d[h]:m+=d[h]+"&";console.log("字符串",m),e.request({url:"https://api.liantuofu.com/open/precreate",data:m,header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){console.log(t.data),e.hideLoading(),wx.requestPayment({timeStamp:t.data.timeStamp,nonceStr:t.data.nonceStr,package:t.data.payPackage,signType:t.data.signType,paySign:t.data.paySign,success:function(t){e.switchTab({url:"../personal/personal"})},fail:function(e){console.log(e)}})}})},chaxun:function(t){var n=[],a={appId:"appId="+this.appid,random:"random="+this.nums,merchantCode:"merchantCode="+this.merchantCode,outTradeNo:"outTradeNo="+this.outTradeNo};for(var r in console.log(a),a)n.push(a[r]);n.sort();var i="";for(var s in n)s==n.length-1?i+=n[s]:i+=n[s]+"&";var l=i+"&key="+this.key;console.log(l);var c=o.default.hexMD5(l);console.log(c);var u={appId:"appId="+this.appid,sign:"sign="+c,random:"random="+this.nums,merchantCode:"merchantCode="+this.merchantCode,outTradeNo:"outTradeNo="+this.outTradeNo};console.log(u);var d=[];for(var p in u)d.push(u[p]);d.sort();var m="";for(var h in d)h==d.length-1?m+=d[h]:m+=d[h]+"&";console.log("字符串",m),e.request({url:"https://api.liantuofu.com/open/pay/query",data:m,header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){console.log("订单状态",t.data),"订单已支付"==t.data.msg&&wx.showToast({title:"开通成功",icon:"success",success:function(t){e.setTimeout((function(t){e.reLaunch({url:"../personal/personal"})}),1500)}})}})},deta:function(t){e.navigateBack({delta:1})},apply:function(t){e.navigateTo({url:"../Apply/Apply"})}}};t.default=r}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},286:
/*!******************************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/Member/Member.vue?vue&type=style&index=0&lang=css& ***!
  \******************************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var o=n(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Member.vue?vue&type=style&index=0&lang=css& */287),a=n.n(o);for(var r in o)"default"!==r&&function(e){n.d(t,e,(function(){return o[e]}))}(r);t["default"]=a.a},287:
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/Member/Member.vue?vue&type=style&index=0&lang=css& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,n){}},[[280,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/Member/Member.js.map