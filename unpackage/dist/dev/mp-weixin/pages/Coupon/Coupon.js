(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/Coupon/Coupon"],{255:
/*!****************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/main.js?{"page":"pages%2FCoupon%2FCoupon"} ***!
  \****************************************************************************************************/
/*! no static exports found */function(e,n,t){"use strict";(function(e){t(/*! uni-pages */4);o(t(/*! vue */2));var n=o(t(/*! ./pages/Coupon/Coupon.vue */256));function o(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},256:
/*!*********************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/Coupon/Coupon.vue ***!
  \*********************************************************************************/
/*! no static exports found */function(e,n,t){"use strict";t.r(n);var o=t(/*! ./Coupon.vue?vue&type=template&id=5ffe9306& */257),r=t(/*! ./Coupon.vue?vue&type=script&lang=js& */259);for(var u in r)"default"!==u&&function(e){t.d(n,e,(function(){return r[e]}))}(u);t(/*! ./Coupon.vue?vue&type=style&index=0&lang=css& */261);var c,s=t(/*! ../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */16),a=Object(s["default"])(r["default"],o["render"],o["staticRenderFns"],!1,null,null,null,!1,o["components"],c);a.options.__file="pages/Coupon/Coupon.vue",n["default"]=a.exports},257:
/*!****************************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/Coupon/Coupon.vue?vue&type=template&id=5ffe9306& ***!
  \****************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,n,t){"use strict";t.r(n);var o=t(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Coupon.vue?vue&type=template&id=5ffe9306& */258);t.d(n,"render",(function(){return o["render"]})),t.d(n,"staticRenderFns",(function(){return o["staticRenderFns"]})),t.d(n,"recyclableRender",(function(){return o["recyclableRender"]})),t.d(n,"components",(function(){return o["components"]}))},258:
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/Coupon/Coupon.vue?vue&type=template&id=5ffe9306& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,n,t){"use strict";var o;t.r(n),t.d(n,"render",(function(){return r})),t.d(n,"staticRenderFns",(function(){return c})),t.d(n,"recyclableRender",(function(){return u})),t.d(n,"components",(function(){return o}));var r=function(){var e=this,n=e.$createElement,t=(e._self._c,e.__map(e.btm1,(function(n,t){var o=e.__get_orig(n),r=1==e.number?e.$utils.imageUrl(n.goodsinfo.head_img):null;return{$orig:o,g0:r}}))),o=e.__map(e.btm2,(function(n,t){var o=e.__get_orig(n),r=2==e.number?e.$utils.imageUrl(n.goodsinfo.head_img):null;return{$orig:o,g1:r}}));e.$mp.data=Object.assign({},{$root:{l0:t,l1:o}})},u=!1,c=[];r._withStripped=!0},259:
/*!**********************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/Coupon/Coupon.vue?vue&type=script&lang=js& ***!
  \**********************************************************************************************************/
/*! no static exports found */function(e,n,t){"use strict";t.r(n);var o=t(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Coupon.vue?vue&type=script&lang=js& */260),r=t.n(o);for(var u in o)"default"!==u&&function(e){t.d(n,e,(function(){return o[e]}))}(u);n["default"]=r.a},260:
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/Coupon/Coupon.vue?vue&type=script&lang=js& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(t(/*! ../../common/config.js */13));function r(e){return e&&e.__esModule?e:{default:e}}var u={data:function(){return{number:0,top:[],btm:[],top1:[],btm1:[],top2:[],btm2:[],level:"",choose:"",level_name:"",url:""}},onLoad:function(n){var t=this;this.url=o.default.URL,n.choose&&(this.choose=n.choose),e.setStorageSync("coupon",""),e.setStorageSync("coupon_keynum",""),e.setStorageSync("coupon_number",""),e.setStorageSync("coupon_money",""),this.level_name=e.getStorageSync("level_name"),this.level=e.getStorageSync("level");var r=e.getStorageSync("id"),u='{"memberid":"'+r+'"}',c="get_coupon_number_list";this.$utils.post(c,u).then((function(e){console.log("我的优惠券",e);var n=(new Date).getTime();for(var o in e.rs){if(e.rs[o].coupon_type_info.begin_time=1e3*e.rs[o].coupon_type_info.begin_time,e.rs[o].coupon_type_info.end_time=1e3*e.rs[o].coupon_type_info.end_time,0==e.rs[o].coupon_type_info.type){if(e.rs[o].coupon_type_info.end_time-n<=0)e.rs[o].time="已过期";else if(e.rs[o].coupon_type_info.end_time-n>0){var r=new Date(parseInt(e.rs[o].coupon_type_info.begin_time)),u=r.getFullYear(),c=r.getMonth()+1,s=r.getDate(),a=r.getHours(),i=r.getMinutes(),p=r.getSeconds();a<10&&(a="0"+a),i<10&&(i="0"+i),p<10&&(p="0"+p),e.rs[o].coupon_type_info.begin_time=u+"-"+c+"-"+s+" "+a+":"+i+":"+p;r=new Date(parseInt(e.rs[o].coupon_type_info.end_time)),u=r.getFullYear(),c=r.getMonth()+1,s=r.getDate(),a=r.getHours(),i=r.getMinutes(),p=r.getSeconds();a<10&&(a="0"+a),i<10&&(i="0"+i),p<10&&(p="0"+p),e.rs[o].coupon_type_info.end_time=u+"-"+c+"-"+s+" "+a+":"+i+":"+p,e.rs[o].time=e.rs[o].coupon_type_info.begin_time+"-"+e.rs[o].coupon_type_info.end_time,e.rs[o].money=parseInt(e.rs[o].money)}}else e.rs[o].coupon_type_info.end_time-n<=0?e.rs[o].time="已过期":e.rs[o].coupon_type_info.end_time-n>0&&(e.rs[o].time=parseInt((e.rs[o].coupon_type_info.end_time-n)/864e5));0==e.rs[o].status?0==e.rs[o].coupon_type_info.type?"已过期"==e.rs[o].time?t.top2.push(e.rs[o]):t.top.push(e.rs[o]):"已过期"==e.rs[o].time?t.btm2.push(e.rs[o]):t.btm.push(e.rs[o]):1==e.rs[o].status&&(0==e.rs[o].coupon_type_info.type?t.top1.push(e.rs[o]):t.btm1.push(e.rs[o]))}}))},methods:{use:function(n){var t=n.currentTarget.dataset.keynum,o=n.currentTarget.dataset.money,r=n.currentTarget.dataset.id;console.log(t);var u=n.currentTarget.dataset.coupon_number,c=n.currentTarget.dataset.coupon_name;console.log(this.choose),"1"==this.choose?e.reLaunch({url:"../shopping/shopping?coupon_number="+u+"&coupon_name="+c}):2==this.choose?(e.setStorageSync("coupon",r),e.setStorageSync("coupon_keynum",t),e.setStorageSync("coupon_number",u),e.setStorageSync("coupon_money",o),console.log("coupon_money",o),console.log("coupon_number",u),e.navigateBack({delta:1})):(e.setStorageSync("coupon",r),e.setStorageSync("coupon_keynum",t),e.setStorageSync("coupon_number",u),e.setStorageSync("coupon_money",o),e.reLaunch({url:"../index/index"}))},Single:function(n){var t=n.currentTarget.dataset.keynum,o=n.currentTarget.dataset.money,r=n.currentTarget.dataset.id;console.log(t);var u=n.currentTarget.dataset.coupon_number,c=n.currentTarget.dataset.coupon_name;console.log(this.choose),1==this.choose?e.reLaunch({url:"../shopping/shopping?coupon_number="+u+"&coupon_name="+c}):2==this.choose?(e.setStorageSync("coupon",r),e.setStorageSync("coupon_keynum",t),e.setStorageSync("coupon_number",u),e.setStorageSync("coupon_money",o),console.log("coupon_money",o),console.log("coupon_number",u),e.navigateBack({delta:1})):(e.setStorageSync("coupon",r),e.setStorageSync("coupon_keynum",t),e.setStorageSync("coupon_number",u),e.setStorageSync("coupon_money",o),e.reLaunch({url:"../index/index"}))},nav:function(e){var n=e.currentTarget.dataset.index;this.number=n},receive:function(n){e.navigateTo({url:"../index-coupon/index-coupon"})}}};n.default=u}).call(this,t(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},261:
/*!******************************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/Coupon/Coupon.vue?vue&type=style&index=0&lang=css& ***!
  \******************************************************************************************************************/
/*! no static exports found */function(e,n,t){"use strict";t.r(n);var o=t(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Coupon.vue?vue&type=style&index=0&lang=css& */262),r=t.n(o);for(var u in o)"default"!==u&&function(e){t.d(n,e,(function(){return o[e]}))}(u);n["default"]=r.a},262:
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/Coupon/Coupon.vue?vue&type=style&index=0&lang=css& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,n,t){}},[[255,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/Coupon/Coupon.js.map