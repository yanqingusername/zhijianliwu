(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/Coupon/Coupon"],{255:
/*!****************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/main.js?{"page":"pages%2FCoupon%2FCoupon"} ***!
  \****************************************************************************************************/
/*! no static exports found */function(e,n,o){"use strict";(function(e){o(/*! uni-pages */4);t(o(/*! vue */2));var n=t(o(/*! ./pages/Coupon/Coupon.vue */256));function t(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,o(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},256:
/*!*********************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/Coupon/Coupon.vue ***!
  \*********************************************************************************/
/*! no static exports found */function(e,n,o){"use strict";o.r(n);var t=o(/*! ./Coupon.vue?vue&type=template&id=5ffe9306& */257),r=o(/*! ./Coupon.vue?vue&type=script&lang=js& */259);for(var u in r)"default"!==u&&function(e){o.d(n,e,(function(){return r[e]}))}(u);o(/*! ./Coupon.vue?vue&type=style&index=0&lang=css& */261);var c,s=o(/*! ../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */16),a=Object(s["default"])(r["default"],t["render"],t["staticRenderFns"],!1,null,null,null,!1,t["components"],c);a.options.__file="pages/Coupon/Coupon.vue",n["default"]=a.exports},257:
/*!****************************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/Coupon/Coupon.vue?vue&type=template&id=5ffe9306& ***!
  \****************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,n,o){"use strict";o.r(n);var t=o(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Coupon.vue?vue&type=template&id=5ffe9306& */258);o.d(n,"render",(function(){return t["render"]})),o.d(n,"staticRenderFns",(function(){return t["staticRenderFns"]})),o.d(n,"recyclableRender",(function(){return t["recyclableRender"]})),o.d(n,"components",(function(){return t["components"]}))},258:
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/Coupon/Coupon.vue?vue&type=template&id=5ffe9306& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,n,o){"use strict";var t;o.r(n),o.d(n,"render",(function(){return r})),o.d(n,"staticRenderFns",(function(){return c})),o.d(n,"recyclableRender",(function(){return u})),o.d(n,"components",(function(){return t}));var r=function(){var e=this,n=e.$createElement;e._self._c},u=!1,c=[];r._withStripped=!0},259:
/*!**********************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/Coupon/Coupon.vue?vue&type=script&lang=js& ***!
  \**********************************************************************************************************/
/*! no static exports found */function(e,n,o){"use strict";o.r(n);var t=o(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Coupon.vue?vue&type=script&lang=js& */260),r=o.n(t);for(var u in t)"default"!==u&&function(e){o.d(n,e,(function(){return t[e]}))}(u);n["default"]=r.a},260:
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/Coupon/Coupon.vue?vue&type=script&lang=js& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,n,o){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=u(o(/*! ../../common/config.js */13)),r=u(o(/*! sr-sdk-wxapp */25));function u(e){return e&&e.__esModule?e:{default:e}}var c={data:function(){return{number:0,top:[],btm:[],top1:[],btm1:[],top2:[],btm2:[],level:"",choose:"",level_name:"",url:"",couponList:[{id:1,money:20,desc:"母亲节专享",selecttext:"满200元可用",coupontype:"（全品类类可用）",timestring:"有效期：2021/06/12~2021/06/14"},{id:21,money:50,desc:"端午节优惠券",selecttext:"满300元可用",coupontype:"（限食品类可用）",timestring:"有效期：2021/06/12~2021/06/14"},{id:12,money:20,desc:"母亲节专享",selecttext:"满200元可用",coupontype:"（全品类类可用）",timestring:"有效期：2021/06/12~2021/06/14"},{id:14,money:50,desc:"端午节优惠券",selecttext:"满500元可用",coupontype:"（全品类类可用）",timestring:"有效期：2021/06/12~2021/06/14"}]}},onLoad:function(n){var o=this;this.url=t.default.URL,n.choose&&(this.choose=n.choose),e.setStorageSync("coupon",""),e.setStorageSync("coupon_keynum",""),e.setStorageSync("coupon_number",""),e.setStorageSync("coupon_money",""),this.level_name=e.getStorageSync("level_name"),this.level=e.getStorageSync("level");var u=e.getStorageSync("id"),c='{"memberid":"'+u+'"}',s="get_coupon_number_list";this.$utils.post(s,c).then((function(e){console.log("我的优惠券",e);var n=(new Date).getTime();for(var t in e.rs){if(e.rs[t].coupon_type_info.begin_time=1e3*e.rs[t].coupon_type_info.begin_time,e.rs[t].coupon_type_info.end_time=1e3*e.rs[t].coupon_type_info.end_time,0==e.rs[t].coupon_type_info.type){if(e.rs[t].coupon_type_info.end_time-n<=0)e.rs[t].time="已过期";else if(e.rs[t].coupon_type_info.end_time-n>0){var r=new Date(parseInt(e.rs[t].coupon_type_info.begin_time)),u=r.getFullYear(),c=r.getMonth()+1,s=r.getDate(),a=r.getHours(),i=r.getMinutes(),p=r.getSeconds();a<10&&(a="0"+a),i<10&&(i="0"+i),p<10&&(p="0"+p),e.rs[t].coupon_type_info.begin_time=u+"-"+c+"-"+s+" "+a+":"+i+":"+p;r=new Date(parseInt(e.rs[t].coupon_type_info.end_time)),u=r.getFullYear(),c=r.getMonth()+1,s=r.getDate(),a=r.getHours(),i=r.getMinutes(),p=r.getSeconds();a<10&&(a="0"+a),i<10&&(i="0"+i),p<10&&(p="0"+p),e.rs[t].coupon_type_info.end_time=u+"-"+c+"-"+s+" "+a+":"+i+":"+p,e.rs[t].time=e.rs[t].coupon_type_info.begin_time+"-"+e.rs[t].coupon_type_info.end_time,e.rs[t].money=parseInt(e.rs[t].money)}}else e.rs[t].coupon_type_info.end_time-n<=0?e.rs[t].time="已过期":e.rs[t].coupon_type_info.end_time-n>0&&(e.rs[t].time=parseInt((e.rs[t].coupon_type_info.end_time-n)/864e5));0==e.rs[t].status?0==e.rs[t].coupon_type_info.type?"已过期"==e.rs[t].time?o.top2.push(e.rs[t]):o.top.push(e.rs[t]):"已过期"==e.rs[t].time?o.btm2.push(e.rs[t]):o.btm.push(e.rs[t]):1==e.rs[t].status&&(0==e.rs[t].coupon_type_info.type?o.top1.push(e.rs[t]):o.btm1.push(e.rs[t]))}})),r.default.track("expose_coupon",{coupon:{coupon_id:"48390200020058042",coupon_name:"母亲节大促10元代金券"},coupon_batch:{coupon_batch_id:"48390200020058042",coupon_batch_name:"母亲节大促"}})},methods:{downNow:function(e){r.default.track("trigger_coupon",{coupon:{coupon_id:"48390200020058042",coupon_name:"母亲节大促10元代金券"},coupon_batch:{coupon_batch_id:"48390200020058042",coupon_batch_name:"母亲节大促"}})},use:function(n){var o=n.currentTarget.dataset.keynum,t=n.currentTarget.dataset.money,r=n.currentTarget.dataset.id;console.log(o);var u=n.currentTarget.dataset.coupon_number,c=n.currentTarget.dataset.coupon_name;console.log(this.choose),"1"==this.choose?e.reLaunch({url:"../shopping/shopping?coupon_number="+u+"&coupon_name="+c}):2==this.choose?(e.setStorageSync("coupon",r),e.setStorageSync("coupon_keynum",o),e.setStorageSync("coupon_number",u),e.setStorageSync("coupon_money",t),console.log("coupon_money",t),console.log("coupon_number",u),e.navigateBack({delta:1})):(e.setStorageSync("coupon",r),e.setStorageSync("coupon_keynum",o),e.setStorageSync("coupon_number",u),e.setStorageSync("coupon_money",t),e.reLaunch({url:"../index/index"}))},Single:function(n){var o=n.currentTarget.dataset.keynum,t=n.currentTarget.dataset.money,r=n.currentTarget.dataset.id;console.log(o);var u=n.currentTarget.dataset.coupon_number,c=n.currentTarget.dataset.coupon_name;console.log(this.choose),1==this.choose?e.reLaunch({url:"../shopping/shopping?coupon_number="+u+"&coupon_name="+c}):2==this.choose?(e.setStorageSync("coupon",r),e.setStorageSync("coupon_keynum",o),e.setStorageSync("coupon_number",u),e.setStorageSync("coupon_money",t),console.log("coupon_money",t),console.log("coupon_number",u),e.navigateBack({delta:1})):(e.setStorageSync("coupon",r),e.setStorageSync("coupon_keynum",o),e.setStorageSync("coupon_number",u),e.setStorageSync("coupon_money",t),e.reLaunch({url:"../index/index"}))},nav:function(e){var n=e.currentTarget.dataset.index;this.number=n},receive:function(n){e.navigateTo({url:"../index-coupon/index-coupon"})},expiredCoupon:function(n){e.navigateTo({url:"./ExpiredCoupon"})}}};n.default=c}).call(this,o(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},261:
/*!******************************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/Coupon/Coupon.vue?vue&type=style&index=0&lang=css& ***!
  \******************************************************************************************************************/
/*! no static exports found */function(e,n,o){"use strict";o.r(n);var t=o(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Coupon.vue?vue&type=style&index=0&lang=css& */262),r=o.n(t);for(var u in t)"default"!==u&&function(e){o.d(n,e,(function(){return t[e]}))}(u);n["default"]=r.a},262:
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/Coupon/Coupon.vue?vue&type=style&index=0&lang=css& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,n,o){}},[[255,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/Coupon/Coupon.js.map