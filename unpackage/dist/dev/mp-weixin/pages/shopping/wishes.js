(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shopping/wishes"],{469:
/*!******************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/main.js?{"page":"pages%2Fshopping%2Fwishes"} ***!
  \******************************************************************************************************/
/*! no static exports found */function(t,e,o){"use strict";(function(t){o(/*! uni-pages */4);n(o(/*! vue */2));var e=n(o(/*! ./pages/shopping/wishes.vue */470));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},470:
/*!***********************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/shopping/wishes.vue ***!
  \***********************************************************************************/
/*! no static exports found */function(t,e,o){"use strict";o.r(e);var n=o(/*! ./wishes.vue?vue&type=template&id=80d2169a& */471),i=o(/*! ./wishes.vue?vue&type=script&lang=js& */473);for(var s in i)"default"!==s&&function(t){o.d(e,t,(function(){return i[t]}))}(s);o(/*! ./wishes.vue?vue&type=style&index=0&lang=css& */475);var u,c=o(/*! ../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */16),a=Object(c["default"])(i["default"],n["render"],n["staticRenderFns"],!1,null,null,null,!1,n["components"],u);a.options.__file="pages/shopping/wishes.vue",e["default"]=a.exports},471:
/*!******************************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/shopping/wishes.vue?vue&type=template&id=80d2169a& ***!
  \******************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,o){"use strict";o.r(e);var n=o(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./wishes.vue?vue&type=template&id=80d2169a& */472);o.d(e,"render",(function(){return n["render"]})),o.d(e,"staticRenderFns",(function(){return n["staticRenderFns"]})),o.d(e,"recyclableRender",(function(){return n["recyclableRender"]})),o.d(e,"components",(function(){return n["components"]}))},472:
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/shopping/wishes.vue?vue&type=template&id=80d2169a& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,o){"use strict";var n;o.r(e),o.d(e,"render",(function(){return i})),o.d(e,"staticRenderFns",(function(){return u})),o.d(e,"recyclableRender",(function(){return s})),o.d(e,"components",(function(){return n}));var i=function(){var t=this,e=t.$createElement,o=(t._self._c,t.showvideoPlayBtn?t.$utils.osspath_url("/xcx-static/wishes/piay_icon1.png"):null);t._isMounted||(t.e0=function(e){t.isFocus=!1}),t.$mp.data=Object.assign({},{$root:{g0:o}})},s=!1,u=[];i._withStripped=!0},473:
/*!************************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/shopping/wishes.vue?vue&type=script&lang=js& ***!
  \************************************************************************************************************/
/*! no static exports found */function(t,e,o){"use strict";o.r(e);var n=o(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./wishes.vue?vue&type=script&lang=js& */474),i=o.n(n);for(var s in n)"default"!==s&&function(t){o.d(e,t,(function(){return n[t]}))}(s);e["default"]=i.a},474:
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/shopping/wishes.vue?vue&type=script&lang=js& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(o(/*! ../../common/config.js */13));function i(t){return t&&t.__esModule?t:{default:t}}var s=function(){o.e(/*! require.ensure | components/ar-circle-progress/ar-circle-progress */"components/ar-circle-progress/ar-circle-progress").then(function(){return resolve(o(/*! @/components/ar-circle-progress/ar-circle-progress.vue */837))}.bind(null,o)).catch(o.oe)},u=t.getRecorderManager(),c=t.createInnerAudioContext();c.autoplay=!0;var a={components:{arprogress:s},data:function(){return{Inv:0,value:"福语",val:"福语",send_talk_msg:"",theme_background:"",zhufu_theme_id:"",zhufu_msg:"大吉大利 恭喜发财",sign:"",begin:1,radio:!0,videoShow:!1,voicePath:null,w:"",schedule:"0",movable_x:"0",distance:"0",duration:"",stop:"0",width:"",statusVideo:!1,zhufu_mp4:"",showvideoPlayBtn:!0,videoTime:0,innerVideoContext:null,isFocus:!1,timecount:"00:00:00",hour:0,minute:0,second:0,timer:"",totalDuration:""}},onLoad:function(e){this.sign=t.getStorageSync("sign"),this.url=n.default.URL;var o=this;console.log("份数",e),this.fenshu=e.fenshu,this.getShowZhufuList(),this.getCustomZhufuTheme(),t.getSystemInfo({success:function(t){o.width=t.screenWidth,o.w=.5*t.screenWidth}});var i=this;console.log(u),u.onStop((function(e){console.log(3333),t.showLoading({title:"上传中"}),console.log(e),console.log("recorder stop"+JSON.stringify(e)),i.voicePath=e.tempFilePath,t.uploadFile({url:"https://zhijianlw.com/api.php/index/upload_file",filePath:e.tempFilePath,name:"file",formData:{user:"test"},success:function(e){i.begin=4,i.schedule=0,console.log("上传音频",e);var n=JSON.parse(e.data);1==n.sta?(t.hideLoading(),console.log("重置"),i.schedule=0,i.movable_x=0,c.seek(0),i.zhufu_mp3=i.$utils.imageUrl(n.filename),console.log("上传成功",n),console.log(o.url+n.filename)):t.showToast({title:"上传失败",icon:"none",mask:"true"})},fail:function(t){i.begin=1,i.schedule=0}})}))},methods:{editText:function(){var t=this;setTimeout((function(){t.isFocus=!0}),0)},getShowZhufuList:function(){var t=this,e=JSON.stringify({}),o="show_zhufu_list",n="zhufu";this.$utils.postNew(o,e,n).then((function(e){1==e.sta&&(t.zhufu_msg=e.rs.info)}))},getCustomZhufuTheme:function(){var e=this,o=t.getStorageSync("id"),n=JSON.stringify({memberid:o}),i="get_custom_zhufu_theme",s="zhufu";this.$utils.postNew(i,n,s).then((function(t){1==t.sta&&(console.log(t.rs),e.Inv=t.rs.zhufu_type,e.zhufu_msg=t.rs.zhufu_msg,e.voicePath=t.rs.zhufu_mp3,e.zhufu_mp4=t.rs.zhufu_mp4,t.rs.zhufu_mp3?(e.begin=4,e.schedule=0):e.begin=1)}))},changeInv:function(t){this.Inv=t,this.innerVideoContext&&(this.showvideoPlayBtn=!0,this.innerVideoContext.pause(),this.statusVideo=!1)},openSetting:function(e){t.showModal({title:"授权",content:"获取授权"+e+"失败,是否前往授权设置？",success:function(e){e.confirm&&t.openSetting()},fail:function(){t.showToast({title:"系统错误！",icon:"none"})}})},getTimeInterval:function(){var t=this;clearInterval(this.timer),this.timer=setInterval((function(){t.second+=1,t.second>=60&&(t.minute+=1,t.second=0),t.minute>=60&&t.second>=60&&(t.minute+=0,t.hour+=1),t.timecount=t.showNum(t.hour)+":"+t.showNum(t.minute)+":"+t.showNum(t.second),console.log("this.timecount",t.timecount)}),1e3)},showNum:function(t){return t<10?"0"+t:t},format:function(t){var e=Math.floor(t/3600)>=10?Math.floor(t/3600):"0"+Math.floor(t/3600);t-=3600*e;var o=Math.floor(t/60)>=10?Math.floor(t/60):"0"+Math.floor(t/60);t-=60*o;var n=t>=10?t:"0"+t;return e+":"+o+":"+n},start:function(){4!=this.begin&&5!=this.begin||(u.stop(),c.offTimeUpdate((function(t){console.log("取消监听进度条",t)})),clearInterval(this.timer));var e=this;t.getSetting({success:function(o){o.authSetting["scope.record"]?(e.timecount="00:00:00",e.hour=0,e.minute=0,e.second=0,e.getTimeInterval(),e.radio=!0,e.begin=2,e.schedule=0,console.log("开始录音"),u.start()):t.authorize({scope:"scope.record",success:function(){t.startRecord(),e.timecount="00:00:00",e.hour=0,e.minute=0,e.second=0,e.getTimeInterval(),e.radio=!0,e.begin=2,e.schedule=0,console.log("开始录音"),u.start()},fail:function(){e.openSetting("录音功能")}})}})},stopp:function(){this.begin=4,this.schedule=0,t.hideLoading(),this.radio=!0,console.log("结束录音"),u.stop(),c.offTimeUpdate((function(t){console.log("取消监听进度条",t)})),clearInterval(this.timer)},audioPlay:function(e){if(this.voicePath){4==this.begin&&(u.stop(),c.offTimeUpdate((function(t){console.log("取消监听进度条",t)})),clearInterval(this.timer)),this.timecount="00:00:00",this.hour=0,this.minute=0,this.second=0,this.getTimeInterval(),this.begin=5,this.schedule=0,this.stop=1,this.radio=!1;var o=this;console.log("播放"),console.log(this.voicePath),c.src=this.voicePath,c.play(),setTimeout((function(){console.log("总时长",c.duration),c.onTimeUpdate((function(t){console.log("总时长",c.duration),console.log("当前播放进度",c.currentTime);var e=parseInt(c.duration),n=parseInt(c.currentTime),i=n/e*1e3;o.schedule=parseInt(i),o.totalDuration=o.format(e);var s=(.5*o.width-.5*o.width*.07)*i/100;0==o.stop||(o.movable_x=s,o.duration=c.duration,console.log(c.duration/c.currentTime)),c.onEnded((function(t){console.log("结束",t),o.radio=!0,o.movable_x=.5*o.width,o.schedule=0,o.stop=0,c.stop(),c.offTimeUpdate((function(t){console.log("取消监听进度条",t)})),o.begin=4,o.schedule=0,o.timecount="00:00:00",o.hour=0,o.minute=0,o.second=0,clearInterval(o.timer)}))}))}),200)}else t.showToast({title:"请先完成录音",mask:!0,icon:"none"})},audioStop:function(t){this.timecount="00:00:00",this.hour=0,this.minute=0,this.second=0,this.begin=4,this.schedule=0,this.stop=0,this.click=0,clearInterval(this.timer),c.stop(),c.offTimeUpdate((function(t){console.log("取消监听进度条",t)}))},audioPause:function(t){this.stop=0,this.click=0,console.log("暂停"),c.pause(),c.offTimeUpdate((function(t){console.log("取消监听进度条",t)}))},scroll:function(t){console.log(t),this.distance=t.detail.x},star:function(t){this.stop=0,this.click=0,console.log("暂停"),c.pause(),c.offTimeUpdate((function(t){console.log("取消监听进度条",t)}))},to:function(t){var e=this,o=this.distance,n=o/(.57*e.width-.57*e.width*.07)*100;console.log("跳转位置",this.duration*n/100),c.seek(this.duration*n/100),this.schedule=n,this.movable_x=o,this.stop=0},videoPlay:function(){this.zhufu_mp4&&(this.innerVideoContext.play(),this.showvideoPlayBtn=!1,this.statusVideo=!0)},videoClick:function(){this.statusVideo?(this.showvideoPlayBtn=!0,this.innerVideoContext.pause(),this.statusVideo=!1):(this.innerVideoContext.play(),this.showvideoPlayBtn=!1,this.statusVideo=!0)},videoPlay1:function(){this.isfirstClickVideo=!1},videoTimeUpdateEvent:function(t){var e=Number(t.detail.currentTime);console.log("播放进度条改变",e),e>=this.videoTime&&(this.innerVideoContext.exitFullScreen(),this.innerVideoContext.pause(),this.innerVideoContext.seek(0),this.showvideoPlayBtn=!0,this.statusVideo=!1)},alt:function(t){this.zhufu_msg=t.detail.value},onClickItem:function(t){this.current!==t.currentIndex&&(this.current=t.currentIndex)},radioChange:function(t){console.log("type:"+t.detail.value),this.sex=t.detail.value},vide:function(e){console.log(e);var o=this;t.chooseVideo({count:1,sourceType:["camera","album"],success:function(e){console.log("视频",e),o.videoTime=Math.floor(e.duration);var n=e.tempFilePath;t.showLoading({title:"上传中"}),t.uploadFile({url:"https://zhijianlw.com/api.php/index/upload_file",filePath:n,name:"file",formData:{user:"test"},success:function(e){if(console.log(e),200==e.statusCode){var n=JSON.parse(e.data);t.hideLoading(),o.zhufu_mp4=o.$utils.imageUrl(n.filename),console.log(n),t.showToast({title:"上传成功",icon:"none",mask:"true"}),o.innerVideoContext=t.createVideoContext("video1",o),o.videoShow=!0,o.showvideoPlayBtn=!1,o.statusVideo=!1}else 413==e.statusCode?(t.hideLoading(),t.showToast({title:"视频过大",icon:"none",mask:"true"})):(t.hideLoading(),t.showToast({title:"上传失败",icon:"none",mask:"true"}))},fail:function(t){console.log(t)}})},fail:function(t){console.log("失败",t)}})},radiofun:function(t){console.log(545435454),this.value=t.detail.value,this.val=t.detail.value,this.showvideoPlayBtn=!0,this.innerVideoContext.pause(),this.statusVideo=!1},wish:function(e){var o=this,n=t.getStorageSync("id"),i={memberid:n,zhufu_type:0};0==this.Inv?(i["zhufu_type"]=0,i["zhufu_msg"]=this.zhufu_msg):1==this.Inv?(i["zhufu_type"]=1,i["zhufu_mp3"]=this.zhufu_mp3):(i["zhufu_type"]=2,i["zhufu_mp4"]=this.zhufu_mp4),console.log(i);var s="save_custom_zhufu_theme",u="zhufu";this.$utils.postNew(s,JSON.stringify(i),u).then((function(e){console.log("修改祝福模板",e),0==e.sta?(t.showToast({title:e.msg,icon:"none",mask:"true",success:function(t){}}),o.send_talk_msg=send_talk_msg):t.showToast({title:"设置成功",icon:"success",mask:"true",success:function(e){t.setStorageSync("setwishessuccess","1"),setTimeout((function(e){t.navigateBack({url:1})}),1e3)}})}))}}};e.default=a}).call(this,o(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},475:
/*!********************************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/shopping/wishes.vue?vue&type=style&index=0&lang=css& ***!
  \********************************************************************************************************************/
/*! no static exports found */function(t,e,o){"use strict";o.r(e);var n=o(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./wishes.vue?vue&type=style&index=0&lang=css& */476),i=o.n(n);for(var s in n)"default"!==s&&function(t){o.d(e,t,(function(){return n[t]}))}(s);e["default"]=i.a},476:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/shopping/wishes.vue?vue&type=style&index=0&lang=css& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,o){}},[[469,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/shopping/wishes.js.map