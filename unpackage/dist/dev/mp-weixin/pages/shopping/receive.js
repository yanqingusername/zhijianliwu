(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shopping/receive"],{453:
/*!*******************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/main.js?{"page":"pages%2Fshopping%2Freceive"} ***!
  \*******************************************************************************************************/
/*! no static exports found */function(e,a,t){"use strict";(function(e){t(/*! uni-pages */4);n(t(/*! vue */2));var a=n(t(/*! ./pages/shopping/receive.vue */454));function n(e){return e&&e.__esModule?e:{default:e}}e(a.default)}).call(this,t(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},454:
/*!************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/shopping/receive.vue ***!
  \************************************************************************************/
/*! no static exports found */function(e,a,t){"use strict";t.r(a);var n=t(/*! ./receive.vue?vue&type=template&id=4d449096& */455),r=t(/*! ./receive.vue?vue&type=script&lang=js& */457);for(var i in r)"default"!==i&&function(e){t.d(a,e,(function(){return r[e]}))}(i);t(/*! ./receive.vue?vue&type=style&index=0&lang=css& */459);var s,d=t(/*! ../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */16),c=Object(d["default"])(r["default"],n["render"],n["staticRenderFns"],!1,null,null,null,!1,n["components"],s);c.options.__file="pages/shopping/receive.vue",a["default"]=c.exports},455:
/*!*******************************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/shopping/receive.vue?vue&type=template&id=4d449096& ***!
  \*******************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,a,t){"use strict";t.r(a);var n=t(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./receive.vue?vue&type=template&id=4d449096& */456);t.d(a,"render",(function(){return n["render"]})),t.d(a,"staticRenderFns",(function(){return n["staticRenderFns"]})),t.d(a,"recyclableRender",(function(){return n["recyclableRender"]})),t.d(a,"components",(function(){return n["components"]}))},456:
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/shopping/receive.vue?vue&type=template&id=4d449096& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,a,t){"use strict";var n;t.r(a),t.d(a,"render",(function(){return r})),t.d(a,"staticRenderFns",(function(){return s})),t.d(a,"recyclableRender",(function(){return i})),t.d(a,"components",(function(){return n}));var r=function(){var e=this,a=e.$createElement,t=(e._self._c,0==e.isShowCheck&&"0"===e.gift?e.$utils.imageUrl(e.head_img):null),n=0==e.isShowCheck&&"1"===e.gift?e.$utils.osspath_url("/xcx-static/wishes/cd.png"):null,r=0==e.isShowCheck&&"1"===e.gift&&e.radio?e.$utils.osspath_url("/xcx-static/wishes/piay_icon1.png"):null,i=0!=e.isShowCheck||"1"!==e.gift||e.radio?null:e.$utils.osspath_url("/xcx-static/wishes/piay_icon.png"),s=0==e.isShowCheck&&"1"===e.gift?e.$utils.osspath_url("/xcx-static/wishes/on.png"):null,d=0!=e.isShowCheck?e.$utils.imageUrl(e.head_img):null;e.$mp.data=Object.assign({},{$root:{g0:t,g1:n,g2:r,g3:i,g4:s,g5:d}})},i=!1,s=[];r._withStripped=!0},457:
/*!*************************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/shopping/receive.vue?vue&type=script&lang=js& ***!
  \*************************************************************************************************************/
/*! no static exports found */function(e,a,t){"use strict";t.r(a);var n=t(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./receive.vue?vue&type=script&lang=js& */458),r=t.n(n);for(var i in n)"default"!==i&&function(e){t.d(a,e,(function(){return n[e]}))}(i);a["default"]=r.a},458:
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/shopping/receive.vue?vue&type=script&lang=js& ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,a,t){"use strict";(function(e){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=r(t(/*! ../../common/config.js */13));function r(e){return e&&e.__esModule?e:{default:e}}e.getRecorderManager();var i=e.createInnerAudioContext();e.createAudioContext("");i.autoplay=!0;e.getRecorderManager();var s=e.createInnerAudioContext(),d={data:function(){return{gift:"0",send_talk_msg:"",zhufu_msg:"",name:"",w:"",schedule:"0",movable_x:"0",distance:"0",duration:"",stop:"0",width:"",zhufu_mp4:"",zhufu_mp3:"",radio:!0,present_memberid_headimg:"",present_memberid_name:"",isShowCheck:0}},onLoad:function(a){var t=this;s.src="https://zhijianlw.com/static/web/img/kai_li_bao.wav",this.url=n.default.URL;var r=this,i=e.getStorageSync("id");this.sign=e.getStorageSync("sign");var d=e.getStorageSync("send_talk_msg");this.send_talk_msg=d,a.cardbag_number?this.cardbag_number=a.cardbag_number:this.cardbag_number=a.scene;var c=JSON.stringify({cardbag_number:this.cardbag_number,cardbag_detail_id:"0",merberid:i}),o="get_cardbag_detail";this.$utils.post(o,c).then((function(a){if(console.log("礼包详情",a),t.zhufu_msg=a.cardbag_theme.zhufu_msg,t.zhufu_mp3=a.cardbag_theme.zhufu_mp3,t.zhufu_mp4=a.cardbag_theme.zhufu_mp4,t.send_talk_msg=d,t.present_memberid_headimg=a.cardbag.present_memberid_headimg,t.present_memberid_name=a.cardbag.present_memberid_name,3==a.cardbag.type)var n=Date.parse(new Date)/1e3,s=a.cardbag.fixed_time;"1"==a.cardbag_theme.zhufu_type?t.gift="1":"0"==a.cardbag_theme.zhufu_type?t.gift="0":t.gift="2";var c='{"cardbag_number":"'+t.cardbag_number+'","memberid":"'+i+'"}',o="check_receive_cardbag";t.$utils.post(o,c).then((function(i){console.log("判断礼包是否领取",i),1==i.sta?n>s?(t.display="0",e.reLaunch({url:"../redEnvelopes/redEnvelopes?cardbag="+r.cardbag_number+"&cardbag_detail_id=0&cardbag_number="+r.cardbag_number})):t.display="1":0==i.sta?(t.display="1",i.cardbag_number?(t.number=i.cardbag_number,t.cardbag_detail_id=i.cardbag_detail_id,t.display="0",e.reLaunch({url:"../redEnvelopes/redEnvelopes?cardbag_number="+i.cardbag_number+"&cardbag_detail_id="+i.cardbag_detail_id+"&cardbag="+r.cardbag_number+"&head_img="+a.cardbag.present_memberid_headimg+"&all_details_num="+a.cardbag.all_details_num+"&present_memberid_name="+a.cardbag.present_memberid_name})):n<s||(t.isShowCheck=1,t.zhufu_msg=i.msg)):101==i.sta?e.reLaunch({url:"../redEnvelopes/redEnvelopes?cardbag="+r.cardbag_number+"&cardbag_detail_id=0&cardbag_number="+r.cardbag_number}):t.display="1"})),t.template=a.cardbag_theme,t.type=a.cardbag.type,t.cardbag=a.cardbag,t.head_img=a.cardbag.present_memberid_headimg,t.name=a.cardbag.present_memberid_name,t.all_details_num=a.cardbag.all_details_num,t.id=a.cardbag.present_memberid})),e.getSystemInfo({success:function(e){r.width=e.screenWidth,r.w=.57*e.screenWidth}});var u=e.getStorageSync("id");u?(this.idd=u,this.sign="200"):this.sign="0"},onUnload:function(){s.pause()},methods:{audioPlay:function(){var e=this;this.schedule=0,this.stop=1,this.radio=!1;var a=this;console.log("播放");var t=this.zhufu_mp3;i.src=t,i.play(),setTimeout((function(){i.onTimeUpdate((function(t){console.log("总时长",i.duration),console.log("当前播放进度",i.currentTime);var n=i.currentTime/i.duration*100,r=(.57*a.width-.57*a.width*.07)*n/100;0==e.stop||(e.movable_x=r,e.schedule=n,e.duration=i.duration,console.log(i.duration/i.currentTime)),i.onEnded((function(e){console.log("结束",e),a.radio=!0,a.movable_x=.5*a.width,a.schedule=0,a.stop=0,i.stop()}))}))}),500)},scroll:function(e){console.log(e),this.distance=e.detail.x},star:function(e){this.stop=0,this.click=0,console.log("暂停"),i.pause(),i.offTimeUpdate((function(e){console.log("取消监听进度条",e)}))},to:function(e){var a=this,t=this.distance,n=t/(.57*a.width-.57*a.width*.07)*100;console.log("跳转位置",this.duration*n/100),i.seek(this.duration*n/100),this.schedule=n,this.movable_x=t,this.stop=0},open:function(a){var t=this,n=this;if("200"==this.sign){e.showLoading({title:"正在领取"});var r='{"cardbag_number":"'+this.cardbag_number+'","memberid":"'+this.idd+'"}',d="receive_cardbag";this.$utils.post(d,r).then((function(a){console.log("领取卡包",a),1==a.sta?(s.play(),setTimeout((function(e){s.stop()}),1e3),e.setStorageSync("new_cardbag_number",a),3==t.type?(e.hideLoading(),e.showToast({title:"成功参与",icon:"none",mask:!0}),e.requestSubscribeMessage({tmplIds:["K7Go9Ex49p5hfB8qm3LhggEDJoZ1p2mKu2lyspAsqM0"],success:function(e){n.dingyue()},fail:function(e){wx.showToast({title:e.errMsg,icon:"none",mask:!0})}})):4==t.type?(i.src=n.auto,i.play(),setTimeout((function(t){e.navigateTo({url:"../redEnvelopes/redEnvelopes?cardbag_number="+a.cardbag_number+"&cardbag_detail_id="+a.cardbag_detail_id+"&head_img="+n.head_img+"&all_details_num="+n.all_details_num+"&present_memberid_name="+n.name+"&old_cardbag_number="+n.cardbag_number}),e.hideLoading()}),500),setTimeout((function(e){i.stop()}),2200)):(i.src=n.auto,i.play(),setTimeout((function(t){e.reLaunch({url:"../redEnvelopes/redEnvelopes?cardbag_number="+a.cardbag_number+"&cardbag_detail_id="+a.cardbag_detail_id+"&head_img="+n.head_img+"&all_details_num="+n.all_details_num+"&present_memberid_name="+n.name+"&old_cardbag_number="+n.cardbag_number}),e.hideLoading()}),500),setTimeout((function(e){i.stop()}),2200))):(e.hideLoading(),e.showToast({title:a.msg,icon:"none"}))}))}else e.showToast({title:"请先登录",icon:"none",mask:"true",success:function(a){setTimeout((function(a){e.reLaunch({url:"../signin/signin?receive=on&cardbag_number="+n.cardbag_number})}),1500)}})}}};a.default=d}).call(this,t(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},459:
/*!*********************************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/shopping/receive.vue?vue&type=style&index=0&lang=css& ***!
  \*********************************************************************************************************************/
/*! no static exports found */function(e,a,t){"use strict";t.r(a);var n=t(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./receive.vue?vue&type=style&index=0&lang=css& */460),r=t.n(n);for(var i in n)"default"!==i&&function(e){t.d(a,e,(function(){return n[e]}))}(i);a["default"]=r.a},460:
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/shopping/receive.vue?vue&type=style&index=0&lang=css& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,a,t){}},[[453,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/shopping/receive.js.map