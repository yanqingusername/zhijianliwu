(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shopping/receive"],{495:
/*!*******************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/main.js?{"page":"pages%2Fshopping%2Freceive"} ***!
  \*******************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";(function(e){n(/*! uni-pages */5);i(n(/*! vue */3));var t=i(n(/*! ./pages/shopping/receive.vue */496));function i(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},496:
/*!************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/shopping/receive.vue ***!
  \************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var i=n(/*! ./receive.vue?vue&type=template&id=4d449096& */497),a=n(/*! ./receive.vue?vue&type=script&lang=js& */499);for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n(/*! ./receive.vue?vue&type=style&index=0&lang=css& */501);var s,o=n(/*! ../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */20),c=Object(o["default"])(a["default"],i["render"],i["staticRenderFns"],!1,null,null,null,!1,i["components"],s);c.options.__file="pages/shopping/receive.vue",t["default"]=c.exports},497:
/*!*******************************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/shopping/receive.vue?vue&type=template&id=4d449096& ***!
  \*******************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,n){"use strict";n.r(t);var i=n(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./receive.vue?vue&type=template&id=4d449096& */498);n.d(t,"render",(function(){return i["render"]})),n.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return i["recyclableRender"]})),n.d(t,"components",(function(){return i["components"]}))},498:
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/shopping/receive.vue?vue&type=template&id=4d449096& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,n){"use strict";var i;n.r(t),n.d(t,"render",(function(){return a})),n.d(t,"staticRenderFns",(function(){return s})),n.d(t,"recyclableRender",(function(){return r})),n.d(t,"components",(function(){return i}));var a=function(){var e=this,t=e.$createElement,n=(e._self._c,0==e.isShowCheck&&"0"===e.gift?e.$utils.imageUrl(e.head_img):null),i=0!=e.isShowCheck&&1==e.isShowCheck?e.$utils.imageUrl(e.head_img):null,a=0!=e.isShowCheck&&1!=e.isShowCheck&&2==e.isShowCheck?e.$utils.imageUrl(e.head_img):null,r=0!=e.isShowCheck&&1!=e.isShowCheck&&2!=e.isShowCheck&&4==e.isShowCheck?e.$utils.imageUrl(e.head_img):null;e.$mp.data=Object.assign({},{$root:{g0:n,g1:i,g2:a,g3:r}})},r=!1,s=[];a._withStripped=!0},499:
/*!*************************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/shopping/receive.vue?vue&type=script&lang=js& ***!
  \*************************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var i=n(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./receive.vue?vue&type=script&lang=js& */500),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},500:
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/shopping/receive.vue?vue&type=script&lang=js& ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(/*! ../../common/config.js */14));function a(e){return e&&e.__esModule?e:{default:e}}var r=function(){n.e(/*! require.ensure | components/ar-circle-progress/ar-circle-progress */"components/ar-circle-progress/ar-circle-progress").then(function(){return resolve(n(/*! @/components/ar-circle-progress/ar-circle-progress.vue */975))}.bind(null,n)).catch(n.oe)},s=(e.getRecorderManager(),e.createInnerAudioContext());e.createAudioContext("");s.autoplay=!0;e.getRecorderManager();var o=e.createInnerAudioContext(),c={components:{arprogress:r},data:function(){return{gift:"0",send_talk_msg:"",zhufu_msg:"",name:"",w:"",schedule:0,movable_x:"0",distance:"0",duration:"",stop:"0",width:"",zhufu_mp4:"",zhufu_mp3:"",radio:!0,present_memberid_headimg:"",present_memberid_name:"",isShowCheck:0,timecount:"00:00:00",hour:0,minute:0,second:0,timer:"",totalDuration:"00:00:00",order_zhufu_msg:""}},onShow:function(){var t=this,n=this,i=e.getStorageSync("id"),a=e.getStorageSync("send_talk_msg");this.send_talk_msg=a;var r=JSON.stringify({cardbag_number:this.cardbag_number,cardbag_detail_id:"0",merberid:i}),s="get_cardbag_detail";this.$utils.post(s,r).then((function(r){if(console.log("礼包详情",r),t.order_zhufu_msg=r.order_zhufu_msg,t.zhufu_msg=r.cardbag_theme.zhufu_msg,t.zhufu_mp3=r.cardbag_theme.zhufu_mp3,t.zhufu_mp4=r.cardbag_theme.zhufu_mp4,t.send_talk_msg=a,t.present_memberid_headimg=r.cardbag.present_memberid_headimg,t.present_memberid_name=r.cardbag.present_memberid_name,3==r.cardbag.type)var s=Date.parse(new Date)/1e3,o=r.cardbag.fixed_time;"1"==r.cardbag_theme.zhufu_type?t.gift="1":"0"==r.cardbag_theme.zhufu_type?t.gift="0":t.gift="2";var c='{"cardbag_number":"'+t.cardbag_number+'","memberid":"'+i+'"}',u="check_receive_cardbag";t.$utils.post(u,c).then((function(i){console.log("判断礼包是否领取",i),1==i.sta?s>o?(t.display="0",e.reLaunch({url:"../redEnvelopes/redEnvelopes?cardbag="+n.cardbag_number+"&cardbag_detail_id=0&cardbag_number="+n.cardbag_number})):t.display="1":0==i.sta?(t.display="1",i.cardbag_number?(t.number=i.cardbag_number,t.cardbag_detail_id=i.cardbag_detail_id,t.display="0",t.isShowCheck=4):s<o||(t.isShowCheck=1,t.zhufu_msg=i.msg)):101==i.sta?t.isShowCheck=2:t.display="1"})),t.template=r.cardbag_theme,t.type=r.cardbag.type,t.cardbag=r.cardbag,t.head_img=r.cardbag.present_memberid_headimg,t.name=r.cardbag.present_memberid_name,t.all_details_num=r.cardbag.all_details_num,t.id=r.cardbag.present_memberid}))},onLoad:function(t){var n=this;o.src="https://zhijianlw.com/static/web/img/kai_li_bao.wav",this.url=i.default.URL,this.sign=e.getStorageSync("sign"),t.cardbag_number?this.cardbag_number=t.cardbag_number:this.cardbag_number=t.scene,e.getSystemInfo({success:function(e){n.width=e.screenWidth,n.w=.57*e.screenWidth}});var a=e.getStorageSync("id");a?(this.idd=a,this.sign="200"):this.sign="0"},onUnload:function(){o.pause()},methods:{getTimeInterval:function(){var e=this;clearInterval(this.timer),this.timer=setInterval((function(){e.second+=1,e.second>=60&&(e.minute+=1,e.second=0),e.minute>=60&&e.second>=60&&(e.minute+=0,e.hour+=1),e.timecount=e.showNum(e.hour)+":"+e.showNum(e.minute)+":"+e.showNum(e.second),console.log("this.timecount",e.timecount)}),1e3)},showNum:function(e){return e<10?"0"+e:e},format:function(e){var t=Math.floor(e/3600)>=10?Math.floor(e/3600):"0"+Math.floor(e/3600);e-=3600*t;var n=Math.floor(e/60)>=10?Math.floor(e/60):"0"+Math.floor(e/60);e-=60*n;var i=e>=10?e:"0"+e;return t+":"+n+":"+i},audioPlay:function(){var e=this;this.timecount="00:00:00",this.hour=0,this.minute=0,this.second=0,this.getTimeInterval(),this.schedule=0,this.stop=1,this.radio=!1;var t=this;console.log("播放");var n=this.zhufu_mp3;s.src=n,s.play(),setTimeout((function(){s.onTimeUpdate((function(n){console.log("总时长",s.duration),console.log("当前播放进度",s.currentTime);var i=parseInt(s.duration),a=parseInt(s.currentTime),r=a/i*1e3;t.schedule=parseInt(r),t.totalDuration=t.format(i);var o=(.57*t.width-.57*t.width*.07)*schedule/100;0==e.stop||(e.movable_x=o,e.duration=s.duration,console.log(s.duration/s.currentTime)),s.onEnded((function(e){console.log("结束",e),t.radio=!0,t.movable_x=.5*t.width,t.schedule=0,t.stop=0,s.stop(),t.schedule=0,t.timecount="00:00:00",t.hour=0,t.minute=0,t.second=0,clearInterval(t.timer)}))}))}),500)},audioStop:function(e){this.radio=!0,this.schedule=0,this.stop=0,this.click=0,clearInterval(this.timer),s.stop(),s.offTimeUpdate((function(e){console.log("取消监听进度条",e)}))},scroll:function(e){console.log(e),this.distance=e.detail.x},star:function(e){this.stop=0,this.click=0,console.log("暂停"),s.pause(),s.offTimeUpdate((function(e){console.log("取消监听进度条",e)}))},to:function(e){var t=this,n=this.distance,i=n/(.57*t.width-.57*t.width*.07)*100;console.log("跳转位置",this.duration*i/100),s.seek(this.duration*i/100),this.schedule=i,this.movable_x=n,this.stop=0},toredEnvelopes:function(){e.reLaunch({url:"../redEnvelopes/redEnvelopes?cardbag_number="+this.number+"&cardbag_detail_id="+this.cardbag_detail_id+"&cardbag="+this.cardbag_number+"&head_img="+this.present_memberid_headimg+"&all_details_num="+this.all_details_num+"&present_memberid_name="+this.present_memberid_name})},toConversionDetails:function(){1==this.isShowCheck?e.reLaunch({url:"../index-coupon/ConversionDetails?cardbag="+this.cardbag_number+"&cardbag_detail_id=0&cardbag_number="+this.cardbag_number+"&isShowCheck=1"}):2==this.isShowCheck&&e.reLaunch({url:"../index-coupon/ConversionDetails?cardbag="+this.cardbag_number+"&cardbag_detail_id=0&cardbag_number="+this.cardbag_number+"&isShowCheck=2"})},dingyue:function(t,n){var i=this;e.getSetting({withSubscriptions:!0,success:function(a){if(a.subscriptionsSetting&&a.subscriptionsSetting.mainSwitch)if(a.subscriptionsSetting.itemSettings&&a.subscriptionsSetting.itemSettings[t]&&a.subscriptionsSetting.itemSettings[n]){var r=a.subscriptionsSetting.itemSettings[t],s=a.subscriptionsSetting.itemSettings[n];if("reject"==r&&"reject"==s)i.dingyueComfirm(t,n);else if("accept"==r&&"accept"==s){var o="add_wx_subscribe_log",c="subscribe",u=e.getStorageSync("id"),d=t+","+n,l=JSON.stringify({memberid:u,template_id:d});i.$utils.postNew(o,l,c).then((function(e){e.sta})),i.getHpptFunc()}else"ban"==item?(console.log("提示：您已经被后台封禁"),i.getHpptFunc()):i.dingyueComfirm(t,n)}else i.dingyueComfirm(t,n);else i.dingyueComfirm(t,n)}})},dingyueComfirm:function(t,n){var i=this;e.requestSubscribeMessage({tmplIds:[t,n],success:function(a){if("accept"==a[t]&&"accept"==a[n]){var r="add_wx_subscribe_log",s="subscribe",o=e.getStorageSync("id"),c=t+","+n,u=JSON.stringify({memberid:o,template_id:c});i.$utils.postNew(r,u,s).then((function(e){e.sta})),i.getHpptFunc()}else i.getHpptFunc()},fail:function(e){i.getHpptFunc(),console.error(e)}})},getHpptFunc:function(){var t=this,n=this,i='{"cardbag_number":"'+this.cardbag_number+'","memberid":"'+this.idd+'"}',a="receive_cardbag";this.$utils.post(a,i).then((function(i){console.log("领取卡包",i),1==i.sta?(o.play(),setTimeout((function(e){o.stop()}),1e3),e.setStorageSync("new_cardbag_number",i),3==t.type?(e.hideLoading(),e.showToast({title:"成功参与",icon:"none",mask:!0})):4==t.type?(s.src=n.auto,s.play(),setTimeout((function(t){e.navigateTo({url:"../redEnvelopes/redEnvelopes?cardbag_number="+i.cardbag_number+"&cardbag_detail_id="+i.cardbag_detail_id+"&head_img="+n.head_img+"&all_details_num="+n.all_details_num+"&present_memberid_name="+n.name+"&old_cardbag_number="+n.cardbag_number}),e.hideLoading()}),500),setTimeout((function(e){s.stop()}),2200)):(s.src=n.auto,s.play(),setTimeout((function(t){e.reLaunch({url:"../redEnvelopes/redEnvelopes?cardbag_number="+i.cardbag_number+"&cardbag_detail_id="+i.cardbag_detail_id+"&head_img="+n.head_img+"&all_details_num="+n.all_details_num+"&present_memberid_name="+n.name+"&old_cardbag_number="+n.cardbag_number}),e.hideLoading()}),500),setTimeout((function(e){s.stop()}),2200))):e.hideLoading()}))},open:function(t){var n=this;if("200"==this.sign){var i="t8n_2-QRJn5md7MI7eauHnj_hMvGRc3mC7lDy3ccQJ8",a="MnEl7igggF5odfal9HhcTKl99RsEK_CGwk0wpRDwPZk";this.dingyue(i,a)}else e.showToast({title:"请先登录",icon:"none",mask:"true",success:function(t){setTimeout((function(t){e.reLaunch({url:"../signin/signin?receive=on&cardbag_number="+n.cardbag_number})}),1500)}})}}};t.default=c}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},501:
/*!*********************************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/shopping/receive.vue?vue&type=style&index=0&lang=css& ***!
  \*********************************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var i=n(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./receive.vue?vue&type=style&index=0&lang=css& */502),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},502:
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/shopping/receive.vue?vue&type=style&index=0&lang=css& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,n){}},[[495,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/shopping/receive.js.map