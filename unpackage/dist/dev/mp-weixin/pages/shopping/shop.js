(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shopping/shop"],{584:
/*!****************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/main.js?{"page":"pages%2Fshopping%2Fshop"} ***!
  \****************************************************************************************************/
/*! no static exports found */function(e,t,s){"use strict";(function(e){s(/*! uni-pages */5);o(s(/*! vue */3));var t=o(s(/*! ./pages/shopping/shop.vue */585));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,s(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},585:
/*!*********************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/shopping/shop.vue ***!
  \*********************************************************************************/
/*! no static exports found */function(e,t,s){"use strict";s.r(t);var o=s(/*! ./shop.vue?vue&type=template&id=78699114& */586),i=s(/*! ./shop.vue?vue&type=script&lang=js& */588);for(var n in i)"default"!==n&&function(e){s.d(t,e,(function(){return i[e]}))}(n);s(/*! ./shop.vue?vue&type=style&index=0&lang=css& */590);var r,u=s(/*! ../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */20),a=Object(u["default"])(i["default"],o["render"],o["staticRenderFns"],!1,null,null,null,!1,o["components"],r);a.options.__file="pages/shopping/shop.vue",t["default"]=a.exports},586:
/*!****************************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/shopping/shop.vue?vue&type=template&id=78699114& ***!
  \****************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,s){"use strict";s.r(t);var o=s(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./shop.vue?vue&type=template&id=78699114& */587);s.d(t,"render",(function(){return o["render"]})),s.d(t,"staticRenderFns",(function(){return o["staticRenderFns"]})),s.d(t,"recyclableRender",(function(){return o["recyclableRender"]})),s.d(t,"components",(function(){return o["components"]}))},587:
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/shopping/shop.vue?vue&type=template&id=78699114& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,s){"use strict";var o;s.r(t),s.d(t,"render",(function(){return i})),s.d(t,"staticRenderFns",(function(){return r})),s.d(t,"recyclableRender",(function(){return n})),s.d(t,"components",(function(){return o}));try{o={uniPopup:function(){return s.e(/*! import() | uni_modules/uni-popup/components/uni-popup/uni-popup */"uni_modules/uni-popup/components/uni-popup/uni-popup").then(s.bind(null,/*! @/uni_modules/uni-popup/components/uni-popup/uni-popup.vue */872))}}}catch(u){if(-1===u.message.indexOf("Cannot find module")||-1===u.message.indexOf(".vue"))throw u;console.error(u.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var i=function(){var e=this,t=e.$createElement,s=(e._self._c,"exchange"==e.statutype&&1==e.is_exchange_type?e.$utils.cut_str(e.orderInfo.card_name,16):null),o="exchange"==e.statutype&&1==e.is_exchange_type||!(e.goodsinfo.length>0||e.undercarriage_list.length>0)?null:e.__map(e.goodsinfo,(function(t,s){var o=e.__get_orig(t),i=e.$utils.imageUrl(t.goodsinfo.head_img),n=e.$utils.imageUrl(t.goodsinfo.head_img),r=e.$utils.cut_str(t.goodsinfo.goodsname,16);return{$orig:o,g1:i,g2:n,g3:r}})),i="exchange"==e.statutype&&1==e.is_exchange_type||!(e.goodsinfo.length>0||e.undercarriage_list.length>0)?null:e.__map(e.undercarriage_list,(function(t,s){var o=e.__get_orig(t),i=e.$utils.imageUrl(t.goodsinfo.head_img),n=e.$utils.cut_str(t.goodsinfo.goodsname,16);return{$orig:o,g4:i,g5:n}})),n="exchange"==e.statutype&&1==e.is_exchange_type||e.goodsinfo.length>0||e.undercarriage_list.length>0?null:e.$utils.osspath_url("/xcx-static/xiong.png"),r=e.isShowPop&&e.unShopList.length>0&&1==e.unShopList.length?e.__map(e.unShopList,(function(t,s){var o=e.__get_orig(t),i=e.$utils.cut_str(t.goodsname,16);return{$orig:o,g7:i}})):null;e.$mp.data=Object.assign({},{$root:{g0:s,l0:o,l1:i,g6:n,l2:r}})},n=!1,r=[];i._withStripped=!0},588:
/*!**********************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/shopping/shop.vue?vue&type=script&lang=js& ***!
  \**********************************************************************************************************/
/*! no static exports found */function(e,t,s){"use strict";s.r(t);var o=s(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./shop.vue?vue&type=script&lang=js& */589),i=s.n(o);for(var n in o)"default"!==n&&function(e){s.d(t,e,(function(){return o[e]}))}(n);t["default"]=i.a},589:
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/shopping/shop.vue?vue&type=script&lang=js& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,s){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={data:function(){return{price_zhe:"0.00",goodsinfo:[],undercarriage_list:[],goodsid:"",checknum:"1",flag:!0,type:"",show:"2",gift:!0,zhufu_type:0,chooses:1,length:0,fenshu:1,setgiftssuccess:"2",setwishessuccess:"2",statutype:"",ordernumber:"",orderInfo:"",is_exchange_type:0,numberss:0,remark:"大吉大利，恭喜发财！",remarkNumber:0,isShowPop:!1,unShopList:[],cart_goods_id:""}},onLoad:function(e){var t=e.type;this.type=t,e&&e.statutype&&e.ordernumber&&(this.statutype=e.statutype,this.ordernumber=e.ordernumber,this.is_exchange_type=e.is_exchange_type)},onShow:function(){var t=this;if(this.setgiftssuccess=e.getStorageSync("setgiftssuccess"),this.setwishessuccess=e.getStorageSync("setwishessuccess"),"exchange"==this.statutype&&1==this.is_exchange_type){var s=this,o="get_exchange_order_info",i="order",n=e.getStorageSync("id"),r=JSON.stringify({ordernumber:this.ordernumber,memberid:n});this.$utils.postNew(o,r,i).then((function(e){1==e.sta&&(s.orderInfo=e.rs,s.numberss=1)}))}else{var u=this.type,a=e.getStorageSync("id");this.memberid=a;var c='{"memberid":"'+a+'","buy_type":"'+u+'"}',g="get_giftbag_list";this.$utils.post(g,c).then((function(s){console.log("商品信息",s),1===s.sta&&e.showToast({icon:"success",title:s.msg,duration:1e3}),t.goodsinfo=s.rs.giftbag,t.undercarriage_list=s.rs.undercarriage_list,t.price_zhe=s.rs.price_zhe,t.cart_goods_id=s.rs.cart_goods_id;var o=0;for(var i in s.rs.giftbag)o+=Number(s.rs.giftbag[i].goodsnum);t.numberss=o})),this.caltotalmoney()}var h=e.getStorageSync("zhufu_type");this.zhufu_type=h,console.log("this.zhufu_type11"),console.log(this.zhufu_type),0==this.zhufu_type?this.zhufu_type="福语":1==this.zhufu_type?this.zhufu_type="语音":2==this.zhufu_type&&(this.zhufu_type="视频")},methods:{goDel:function(t){var s=this,o=e.getStorageSync("id"),i="del_shopping_cart",n="goods",r=JSON.stringify({goodsid:t,memberid:o,buy_type:this.type});this.$utils.postNew(i,r,n).then((function(t){if(1==t.sta){s.isShowPop=!1;var o=s.type,i=e.getStorageSync("id");s.memberid=i;var n='{"memberid":"'+i+'","buy_type":"'+o+'"}',r="get_giftbag_list";s.$utils.post(r,n).then((function(t){console.log("商品信息",t),1===t.sta&&e.showToast({icon:"success",title:t.msg,duration:1e3}),s.goodsinfo=t.rs.giftbag,s.undercarriage_list=t.rs.undercarriage_list,s.price_zhe=t.rs.price_zhe,s.cart_goods_id=t.rs.cart_goods_id;var o=0;for(var i in t.rs.giftbag)o+=Number(t.rs.giftbag[i].goodsnum);s.numberss=o})),s.caltotalmoney()}}))},inputRemark:function(e){this.remark=e.detail.value,this.remarkNumber=e.detail.value.length},goToDetails:function(t){e.navigateTo({url:"../details/details?keynum="+t})},backbutton:function(t){e.navigateBack({delta:1})},caltotalmoney:function(t){var s=this,o=this.fenshu;console.log("show"),console.log(this.show);var i=e.getStorageSync("id");1!=this.show&&0!=this.show||(o=1);var n="get_fenshu_price",r=JSON.stringify({memberid:i,fenshu:o,buy_type:1});this.$utils.post(n,r).then((function(t){console.log(t);var o="success";if(1!=t.sta)return o="none",void e.showToast({icon:o,title:t.msg,duration:2e3});s.price_zhe=t.rs.price_zhe}))},changefenshu:function(e){console.log("获取价格接口"),this.caltotalmoney()},add:function(t){e.redirectTo({url:"./shoppingList"})},box_gift:function(){e.redirectTo({url:"./shoppingList"})},increase:function(e){console.log(e);var t=e.goodsid;this.goodsid=t;var s=e.goodsnum+1;this.numberss+=1,this.give(e,s)},reduce:function(e){var t=e.goodsid,s=e.goodsnum-1;this.goodsid=t,this.numberss-=1,this.give(e,s)},give:function(t,s){var o=this,i=e.getStorageSync("id");this.memberid=i;var n=this.type,r='{"memberid":"'+this.memberid+'","goodsid":"'+this.goodsid+'","num":"'+s+'","buy_type":"'+n+'","goods_model":"'+t.goods_model+'","goods_spec":"'+t.goods_spec+'","goods_item":"'+t.goods_spec_item+'"}',u="op_buy_shopping_cart";console.log(r),this.$utils.post(u,r).then((function(e){console.log("添加购物车",e);var t='{"memberid":"'+o.memberid+'","buy_type":"'+n+'"}',s="get_giftbag_list";o.$utils.post(s,t).then((function(e){console.log("更改价格",e),o.goodsinfo=e.rs.giftbag,o.undercarriage_list=e.rs.undercarriage_list,o.price_zhe=e.rs.price_zhe,o.cart_goods_id=e.rs.cart_goods_id;var t=0;for(var s in e.rs.giftbag)t+=Number(e.rs.giftbag[s].goodsnum);o.numberss=t,o.caltotalmoney()}))}))},open:function(){this.$refs.popup.open()},toggle:function(e){"exchange"==this.statutype||this.$refs.popup.open()},close:function(e){this.$refs.popup.close()},chooseGift:function(t){e.navigateTo({url:"../shopping/CBlessingCard"})},wishes:function(t){var s=e.getStorageSync("zhufu_type");this.zhufu_type=s;var o=e.getStorageSync("id");if(this.memberid=o,this.zhufu_type==this.zhufu_type){var i="get_giftbag_list",n=JSON.stringify({memberid:this.memberid,buy_type:1});this.$utils.post(i,n).then((function(t){console.log("直接赠送"),console.log(t);var s="success";1!=t.sta&&(s="none",e.showToast({icon:s,title:t.msg,duration:2e3})),e.navigateTo({url:"../shopping/wishes?type=1"})}))}},box1:function(){this.show="2",this.$refs.popup.close(),this.caltotalmoney()},box2:function(){this.show="1",this.$refs.popup.close(),this.caltotalmoney()},packages:function(t){var s=this;if("exchange"==this.statutype&&1==this.is_exchange_type)e.navigateTo({url:"../index-coupon/ExchangePackages?ordernumber="+this.ordernumber});else if("2"===this.show){if(this.setgiftssuccess=e.getStorageSync("setgiftssuccess")||2,2==this.setgiftssuccess)return void e.showToast({icon:"none",title:"请先定制祝福卡！"});var o=this.type,i=e.getStorageSync("id");this.memberid=i;var n='{"memberid":"'+i+'","buy_type":"'+o+'","cart_goods_id":"'+this.cart_goods_id+'"}',r="get_buy_shopping_cart";this.$utils.post(r,n).then((function(t){console.log(t),1==t.sta?null!=s.zhufu_type&&null!=s.chooses&&e.navigateTo({url:"../shopping/packages?type=1&fenshu="+s.fenshu+"&wanfa=1"}):2==t.sta&&(s.isShowPop=!0,s.unShopList=t.rs.undercarriage_list)}))}else if("1"===this.show){var u=this.type,a=e.getStorageSync("id");this.memberid=a;n='{"memberid":"'+a+'","buy_type":"'+u+'","cart_goods_id":"'+this.cart_goods_id+'"}',r="get_buy_shopping_cart";this.$utils.post(r,n).then((function(t){console.log(t),1==t.sta?null!=s.zhufu_type&&null!=s.chooses&&e.navigateTo({url:"../shopping/packages?type=1&fenshu=1&wanfa=4&remark="+s.remark}):2==t.sta&&(s.isShowPop=!0,s.unShopList=t.rs.undercarriage_list)}))}}}};t.default=s}).call(this,s(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},590:
/*!******************************************************************************************************************!*\
  !*** /Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/shopping/shop.vue?vue&type=style&index=0&lang=css& ***!
  \******************************************************************************************************************/
/*! no static exports found */function(e,t,s){"use strict";s.r(t);var o=s(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./shop.vue?vue&type=style&index=0&lang=css& */591),i=s.n(o);for(var n in o)"default"!==n&&function(e){s.d(t,e,(function(){return o[e]}))}(n);t["default"]=i.a},591:
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/user/zhjian20210728/devzhijian/zhijianliwu/pages/shopping/shop.vue?vue&type=style&index=0&lang=css& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,s){}},[[584,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/shopping/shop.js.map