(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["pages/settlement/settlement"],{

/***/ 446:
/*!******************************************************************************************************!*\
  !*** C:/Users/HI BOY/Desktop/zhijianliwu20210716/main.js?{"page":"pages%2Fsettlement%2Fsettlement"} ***!
  \******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(createPage) {__webpack_require__(/*! uni-pages */ 4);
var _vue = _interopRequireDefault(__webpack_require__(/*! vue */ 2));
var _settlement = _interopRequireDefault(__webpack_require__(/*! ./pages/settlement/settlement.vue */ 447));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}
createPage(_settlement.default);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["createPage"]))

/***/ }),

/***/ 447:
/*!***********************************************************************************!*\
  !*** C:/Users/HI BOY/Desktop/zhijianliwu20210716/pages/settlement/settlement.vue ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _settlement_vue_vue_type_template_id_00659ba6___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./settlement.vue?vue&type=template&id=00659ba6& */ 448);
/* harmony import */ var _settlement_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./settlement.vue?vue&type=script&lang=js& */ 450);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _settlement_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _settlement_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _settlement_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./settlement.vue?vue&type=style&index=0&lang=css& */ 452);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */ 16);

var renderjs





/* normalize component */

var component = Object(_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _settlement_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _settlement_vue_vue_type_template_id_00659ba6___WEBPACK_IMPORTED_MODULE_0__["render"],
  _settlement_vue_vue_type_template_id_00659ba6___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null,
  false,
  _settlement_vue_vue_type_template_id_00659ba6___WEBPACK_IMPORTED_MODULE_0__["components"],
  renderjs
)

component.options.__file = "pages/settlement/settlement.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 448:
/*!******************************************************************************************************************!*\
  !*** C:/Users/HI BOY/Desktop/zhijianliwu20210716/pages/settlement/settlement.vue?vue&type=template&id=00659ba6& ***!
  \******************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_settlement_vue_vue_type_template_id_00659ba6___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./settlement.vue?vue&type=template&id=00659ba6& */ 449);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_settlement_vue_vue_type_template_id_00659ba6___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_settlement_vue_vue_type_template_id_00659ba6___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_settlement_vue_vue_type_template_id_00659ba6___WEBPACK_IMPORTED_MODULE_0__["recyclableRender"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "components", function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_settlement_vue_vue_type_template_id_00659ba6___WEBPACK_IMPORTED_MODULE_0__["components"]; });



/***/ }),

/***/ 449:
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/HI BOY/Desktop/zhijianliwu20210716/pages/settlement/settlement.vue?vue&type=template&id=00659ba6& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return recyclableRender; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "components", function() { return components; });
var components
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  var l0 =
    _vm.com != false
      ? _vm.__map(_vm.commodity, function(item, index) {
          var $orig = _vm.__get_orig(item)

          var g0 =
            item.checked == 1 && item.head_img
              ? _vm.$utils.imageUrl(item.head_img)
              : null
          return {
            $orig: $orig,
            g0: g0
          }
        })
      : null
  _vm.$mp.data = Object.assign(
    {},
    {
      $root: {
        l0: l0
      }
    }
  )
}
var recyclableRender = false
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ 450:
/*!************************************************************************************************************!*\
  !*** C:/Users/HI BOY/Desktop/zhijianliwu20210716/pages/settlement/settlement.vue?vue&type=script&lang=js& ***!
  \************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_settlement_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./settlement.vue?vue&type=script&lang=js& */ 451);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_settlement_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_settlement_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_settlement_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_settlement_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_settlement_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 451:
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/HI BOY/Desktop/zhijianliwu20210716/pages/settlement/settlement.vue?vue&type=script&lang=js& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;




























































































































var _md = _interopRequireDefault(__webpack_require__(/*! ../../common/md5.js */ 12));
var _weappQrcodeMin = _interopRequireDefault(__webpack_require__(/*! ../../common/weapp.qrcode.min.js */ 81));
var _config = _interopRequireDefault(__webpack_require__(/*! ../../common/config.js */ 13));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}function _defineProperty(obj, key, value) {if (key in obj) {Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });} else {obj[key] = value;}return obj;}var _default =
{
  data: function data() {var _ref;
    var date = new Date();
    var years = [];
    var year = date.getFullYear();
    var months = [];
    var month = date.getMonth() + 1;
    var days = [];
    var day = date.getDate();
    for (var i = 1990; i <= date.getFullYear(); i++) {
      years.push(i);
    }
    for (var _i = 1; _i <= 31; _i++) {
      days.push(_i);
    }
    return _ref = {
      ip: '',
      // 头像
      head_img: '',
      input: '',
      sta: '',
      array: [],
      nul: [],
      years: years,
      year: year,
      month: month,
      days: days,
      day: day,
      display: false,
      zjb: 0,
      rmb: 0,
      numbers: '1',
      delivery_mode: '快递',
      delivery_mode_arr: ["快递", "同城", "自提"],
      delivery_mode_index: 0,
      address: {},
      value: [9999, month - 1, day - 1],
      visible: true,
      indicatorStyle: "height: ".concat(Math.round(uni.getSystemInfoSync().screenWidth / (750 / 100)), "px;"),
      height: '',
      commodity: [],
      choose: 'false',
      id: '',
      // 玩法  0  1  2  3
      number: '0',
      level_name: '',
      com: '',
      num: '',
      num0: '',
      num1: '',
      num2: '',
      num3: '',
      num4: '',
      share: '1',
      times: '',
      key: '',
      merchantCode: '',
      openid: '',
      notifyUrl: "",
      cardbag_numbe: '',
      length: '',
      price_zhe: '0',
      price_zhekou: '0',
      nav: '',
      price_yuanshi: '',
      switch1: '',
      switch2: '',
      zj_balance: '',
      balance: '',
      coupon_id: '',
      coupon_number: '',
      coupon_name: '',
      coupon_money: '',
      zhufu_msg: '恭喜发财,大吉大利',
      // 当前时间
      nowtime: '' }, _defineProperty(_ref, "month",

    ''), _defineProperty(_ref, "date",

    ''), _defineProperty(_ref, "hours",

    ''), _defineProperty(_ref, "minutes",

    ''), _defineProperty(_ref, "months",

    []), _defineProperty(_ref, "dates",

    []), _defineProperty(_ref, "hour",

    []), _defineProperty(_ref, "minute",

    []), _defineProperty(_ref, "topback",

    ''), _defineProperty(_ref, "templateimg",

    ''), _defineProperty(_ref, "cardbag_number",
    ''), _defineProperty(_ref, "numberss",
    ''), _defineProperty(_ref, "showa",
    ''), _defineProperty(_ref, "openid",
    ''), _defineProperty(_ref, "Data",
    ''), _defineProperty(_ref, "timeStamp",
    ''), _defineProperty(_ref, "outTradeNo",
    ''), _defineProperty(_ref, "url",
    ""), _defineProperty(_ref, "use_zj_balance",
    1), _defineProperty(_ref, "use_balance",
    1), _ref;

  },
  onShow: function onShow(e) {var _this = this;
    this.url = _config.default.URL;
    var data = '{}';
    var action = 'get_webconfig_songli';
    this.$set(this.address, 'id', uni.getStorageSync('member_area_id'));
    this.$set(this.address, 'name', uni.getStorageSync('member_area_linkman'));
    this.$set(this.address, 'phone', uni.getStorageSync('member_area_linktel'));
    this.$set(this.address, 'address', uni.getStorageSync('member_area_address'));
    this.$utils.post(action, data).then(function (res) {
      console.log('送礼页面配置', res);
      if (res.sta == 1) {
        // 八个字
        _this.topback = res.rs.background;
        // 模板图
        _this.templateimg = res.rs.moban_img;
      }
    });



    if (this.showa == 1) {

      // this.chaxun();
      // 送礼页面基本配置

      // 指间币
      this.zj_balance = uni.getStorageSync('zj_balance');
      // 余额
      this.balance = uni.getStorageSync('balance');

      var data = '{"memberid":"' + this.memberid + '"}';
      var action = 'get_buy_shopping_cart';

      this.$utils.post(action, data).then(function (res) {
        console.log('商品', res);
        var numberss = 0;
        if (res.sta == 1) {

          for (var i in res.rs.goodslist) {
            numberss += Number(res.rs.goodslist[i].goodsnum);
          }
          _this.numberss = numberss;


          _this.length = res.rs.goodslist.length;
          if (res.rs.goodslist.length >= 1) {


            _this.price_yuanshi = res.rs.price_yuanshi;
            _this.price_zhe = res.rs.price_zhe;
            var zhekou = res.rs.price_yuanshi - res.rs.price_zhe;
            if (zhekou == 0) {
              _this.price_zhekou = '0';
            } else {
              _this.price_zhekou = zhekou.toFixed(2);
            }
            console.log(_this.price_yuanshi);

            _this.commodity = res.rs.goodslist;

            _this.com = true;
          } else {
            _this.com = false;
          }
        } else {
          _this.length = 0;
        }

      });
    }

    this.coupon_id = uni.getStorageSync('coupon_id');
    this.coupon_keynum = uni.getStorageSync('coupon_keynum');
    this.coupon_money = uni.getStorageSync('coupon_money');
    this.coupon_number = uni.getStorageSync('coupon_number');
  },
  onLoad: function onLoad(e) {var _this2 = this;
    uni.showToast({
      icon: "loading",
      title: "加载中" });

    this.use_balance = 1;
    this.use_zj_balance = 1;
    this.openid = uni.getStorageSync('openid');
    this.id = uni.getStorageSync('id');


    // 送礼页面基本配置
    var data = '{}';
    var action = 'get_webconfig_songli';

    this.$utils.post(action, data).then(function (res) {
      console.log('送礼页面配置', res);
      if (res.sta == 1) {
        // 八个字
        _this2.topback = res.rs.background;
        // 模板图
        _this2.templateimg = res.rs.moban_img;
      }
    });


    // 1.判断当前登录状态    200已登录   0未登录
    var sign = uni.getStorageSync('sign');
    this.head_img = sign.head_img;
    if (sign) {
      this.level_name = sign.level_name;
      var that = this;
      var time = setTimeout(function (e) {
        that.showa = 1;
        clearTimeout(time);
      }, 100);

      this.sta = '200';
    } else {
      this.open();
      this.sta = '0';
      // 供浏览使用 
      this.level = 1;
      this.level_name = '普通会员';
      uni.setStorageSync('level', 1);
      uni.setStorageSync('level_name', '普通会员');
    }

    // 时间选择器 

    // 当前时间戳
    var myData = new Date();

    // 当前年份
    var year = myData.getFullYear();
    // 当前月份
    var month = myData.getMonth() + 1;
    // 当前天数
    var date = myData.getDate();
    // 当前星期几
    var day = myData.getDay();
    // 当前小时
    var hours = myData.getHours();
    // 当前分钟
    var minutes = myData.getMinutes();

    // 当前月份天数
    var nowDate = new Date(year, month, 0).getDate();


    // 月份数组
    var months = [];
    // 天数数组
    var dates = [];
    // 小时数组
    var hour = [];
    // 分钟数组
    var minute = [];



    console.log('年', year);
    console.log('月', month);
    console.log('日', date);
    console.log('星期', day);
    console.log('小时', hours);
    console.log('分钟', minutes);

    if (day == 0) {
      day = '天';
    } else if (day == 1) {
      day = '一';
    } else if (day == 2) {
      day = '二';
    } else if (day == 3) {
      day = '三';
    } else if (day == 4) {
      day = '四';
    } else if (day == 5) {
      day = '五';
    } else if (day == 6) {
      day = '六';
    }
    this.nowtime = month + '月' + date + '日星期' + day + '  ' + hours + ':' + minutes;
    this.times = year + '-' + month + '-' + date + '  ' + hours + ':' + minutes;

    // 月份
    for (var _i2 = month; _i2 < 13; _i2++) {
      months.push(_i2);

    }
    this.months = months;

    console.log(new Date(year, 7, 13).getDay());
    // 当前月份+天数
    for (var _i3 in months) {

      // 遍历剩下月份天数
      var _nowDate = new Date(year, months[_i3], 0).getDate();

      for (var j = 1; j < _nowDate + 1; j++) {

        var _day = new Date(year, months[_i3] - 1, j).getDay();

        if (_day == 0) {
          _day = '天';
        } else if (_day == 1) {
          _day = '一';
        } else if (_day == 2) {
          _day = '二';
        } else if (_day == 3) {
          _day = '三';
        } else if (_day == 4) {
          _day = '四';
        } else if (_day == 5) {
          _day = '五';
        } else if (_day == 6) {
          _day = '六';
        }


        dates.push(months[_i3] + '月' + j + '日' + '星期' + _day);
      }
    }

    // 删除当前已过天数
    dates.splice(0, date - 1);
    this.dates = dates;

    // 当前小时
    for (var _i4 = hours; _i4 < 24; _i4++) {
      if (_i4 < 10) {
        this.hour.push('0' + _i4);
      } else {
        this.hour.push(_i4);
      }
    }
    // 当前分钟
    for (var _i5 = minutes; _i5 < 60; _i5++) {
      if (_i5 < 10) {
        this.minute.push('0' + _i5);
      } else {
        this.minute.push(_i5);
      }
    }
    var memberid = uni.getStorageSync('id');
    // 祝福模板
    var data = '{"memberid":"' + memberid + '"}';
    var action = 'get_zhufu_theme';

    this.$utils.post(action, data).then(function (res) {
      console.log('当前祝福模板', res);
      if (res.sta == 1) {
        if (res.rs.zhufu_type == 0) {
          _this2.zhufu_msg = res.rs.zhufu_msg;
        }
      }

    });

    for (var _i6 = 1; _i6 < 101; _i6++) {
      this.array.push(_i6);
    }
    for (var _i7 = 1; _i7 < 10; _i7++) {
      this.nul.push(_i7);
    }

    uni.getSystemInfo({
      success: function success(res) {
        // 导航高度
        _this2.nav = res.statusBarHeight;

      } });


    this.level_name = uni.getStorageSync('level_name');

    uni.getSystemInfo({
      success: function success(res) {
        _this2.height = res.windowHeight;
      } });


    this.memberid = memberid;
    var data = '{"memberid":"' + memberid + '"}';
    var action = 'get_buy_shopping_cart';

    this.$utils.post(action, data).then(function (res) {
      console.log('商品', res);
      uni.hideLoading();

      if (res.sta == 1) {


        var numberss = 0;

        for (var _i8 in res.rs.goodslist) {
          numberss += Number(res.rs.goodslist[_i8].goodsnum);
        }
        _this2.numberss = numberss;

        _this2.length = res.rs.goodslist.length;
        if (res.rs.goodslist.length >= 1) {

          _this2.price_yuanshi = res.rs.price_yuanshi;
          _this2.price_zhe = res.rs.price_zhe;
          var zhekou = res.rs.price_yuanshi - res.rs.price_zhe;

          if (zhekou == 0) {
            _this2.price_zhekou = '0';
          } else {
            _this2.price_zhekou = zhekou.toFixed(2);
          }
          console.log(_this2.price_yuanshi);

          _this2.commodity = res.rs.goodslist;
          console.log("：", res.rs.goodslist);
          _this2.com = true;
        } else {
          _this2.com = false;
        }
      } else {
        _this2.length = 0;
      }

      if (e.fenshu) {
        console.log('页面加载', e);
        // 玩法
        var number = e.type - 1;
        _this2.number = number;
        // 批量
        if (number == 1) {
          _this2.numbers = Number(e.fenshu);
        } else if (number == 3) {
          _this2.numbers = '1 : ' + Number(e.fenshu);
        }
        // 其他
        else {
            _this2.numbers = Number(e.fenshu);
          }
        // 份数
        _this2.share = e.fenshu;

        _this2.calculation();
      } else {
        console.log('页面加载不存在', e);
      }

    });


    // 指间币
    this.zj_balance = uni.getStorageSync('zj_balance');
    // 余额
    this.balance = uni.getStorageSync('balance');


    var chars = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J',
    'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', 'a', 'b', 'c', 'd', 'e', 'f', 'g',
    'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'];


    var nums = "";

    for (var i = 0; i < 32; i++) {
      0.;


      var id = parseInt(Math.random() * 61);

      nums += chars[id];

    }

    this.nums = nums;

    this.timeStamp = new Date().getTime();

    var data = '{}';
    var action = 'get_payconfig';

    this.$utils.post(action, data).then(function (res) {
      console.log('第三方参数', res);
      _this2.appid = res.rs.appid;
      _this2.key = res.rs.key;
      _this2.merchantCode = res.rs.merchantCode;
    });
    // 是否有优惠券
    if (e.coupon_number) {
      this.coupon_number = e.coupon_number;
      this.coupon_name = '-￥' + e.coupon_name;
    }
    console.log(this.commodity);
  },
  methods: {
    tabbar: function tabbar(e) {
      var index = e.currentTarget.dataset.index;
      if (index == 0) {
        uni.switchTab({
          url: '../index/index' });

      } else if (index == 1) {
        uni.switchTab({
          url: '../shopping/shopping' });

      } else if (index == 2) {
        uni.switchTab({
          url: '../classification/classification' });

      } else if (index == 3) {
        uni.switchTab({
          url: '../order/order' });

      } else if (index == 4) {
        uni.switchTab({
          url: '../personal/personal' });

      }
    },
    details: function details(e) {
      var index = e.currentTarget.dataset.index;

      uni.navigateTo({
        url: '/pages/details/details?keynum=' + index });

    },

    // 余额选中
    switch2Change: function switch2Change(e) {
      // console.log(e.detail.value)
      this.switch2 = e.detail.value;
      this.use_balance = e.detail.value ? 1 : 0;
      console.log("余额", this.use_balance);
    },
    // 选择优惠券
    coupon: function coupon(e) {
      if (this.sta == 200) {
        uni.navigateTo({
          url: '../Coupon/Coupon?choose=' + '2' });

      } else if (this.sta == 0) {
        wx.showToast({
          title: '请先登录',
          icon: 'none' });

      }

    },

    forsubmit: function forsubmit(e) {var _this3 = this;
      var that = this;
      if (this.length == 0) {
        if (this.sta == 0) {
          wx.showToast({
            title: '请先登录',
            icon: 'none' });

        }
      } else if (this.length > 0) {

        // 玩法  wanfa
        var wanfa = Number(this.number) + 1;
        // 优惠券
        // let coupon_number = "202007281146152159913922";
        var coupon_number = this.coupon_number;
        console.log("coupon_number");
        console.log(coupon_number);
        var data = JSON.stringify({
          memberid: this.memberid,
          member_area_id: this.address.id,
          delivery_type: this.delivery_mode_arr[this.delivery_mode_index],
          coupon_number: this.coupon_number,
          use_balance: this.use_balance,
          use_zj_balance: this.use_zj_balance });

        console.log(data);
        var action = 'create_buy_order';

        this.$utils.post(action, data).then(function (res) {
          console.log(res);
          if (res.pay_status == 1) {
            uni.showToast({
              title: "支付成功" });

            uni.redirectTo({
              url: '../orderList/orderList' });

            uni.setStorageSync('coupon', '');
            uni.setStorageSync('coupon_keynum', '');
            uni.setStorageSync('coupon_number', '');
            uni.setStorageSync('coupon_money', '');
          } else
          if (res.pay_status == 0) {
            // 获取流水单号
            var _action = 'get_buy_order_pay_info';
            var _data = JSON.stringify({
              ordernumber: res.ordernumber });

            _this3.$utils.post(_action, _data).then(function (res) {
              console.log("获取流水号", res);
              var serial_number = res.rs.serial_number;
              // 获取ip
              uni.request({
                url: 'https://zhijianlw.com/api.php/index/getip',
                success: function success(res) {
                  console.log(res.data);
                  var action = 'add_paylog_to_wx';
                  var data = JSON.stringify({
                    serial_number: serial_number,
                    ip: res.data.ip,
                    openid: _this3.openid,
                    type: 'buy_order' });

                  _this3.$utils.post(action, data).then(function (res) {
                    console.log('获取参数', res);
                    var serial_number = res.rs.serial_number;
                    var arr = [];

                    var date = {
                      // 合作方标识
                      appId: 'appId=wx9c53a99b078435f5',
                      timeStamp: 'timeStamp=' + _this3.timeStamp,
                      nonceStr: 'nonceStr=' + _this3.nums,
                      package: 'package=prepay_id=' + res.rs.prepay_id,
                      signType: 'signType=MD5' };


                    console.log('拼接前', date);

                    for (var i in date) {
                      arr.push(date[i]);
                    }

                    arr.sort();

                    var stringA = '';

                    // 拼接字符串
                    for (var _i9 in arr) {
                      if (_i9 == arr.length - 1) {
                        stringA += arr[_i9];
                      } else {
                        stringA += arr[_i9] + '&';
                      }
                    }
                    // let stringSignTemp = stringA + '&key='  + '730ed24645b1a54e82a3d2bcff63db37';
                    var stringSignTemp = stringA + '&key=dEEHizJM4cZtBy3Dlj4gVKwHMlM32IPv';

                    console.log('拼接后', stringSignTemp);
                    var sign = _md.default.hexMD5(stringSignTemp);
                    console.log(sign);


                    uni.hideLoading();

                    uni.requestPayment({
                      timeStamp: String(_this3.timeStamp),
                      nonceStr: _this3.nums,
                      package: 'prepay_id=' + res.rs.prepay_id,
                      signType: 'MD5',
                      paySign: sign.toUpperCase(),
                      success: function success(res) {
                        uni.hideLoading();
                        uni.request({
                          url: 'https://zhijianlw.com/api.php/index/set_agent_cardbag',
                          data: {
                            serial_number: that.outTradeNo },

                          header: {
                            'content-type': "application/x-www-form-urlencoded" //自定义请求头信息
                          },
                          method: 'GET',
                          // 成功回调
                          success: function success(res) {
                            console.log('微信成功回调', res);
                            uni.showToast({
                              title: '支付成功',
                              icon: 'none' });

                            uni.setStorageSync('coupon', '');
                            uni.setStorageSync('coupon_keynum', '');
                            uni.setStorageSync('coupon_number', '');
                            uni.setStorageSync('coupon_money', '');
                            uni.redirectTo({
                              url: '../orderList/orderList' });

                          } });

                      },
                      fail: function fail(res) {
                        uni.hideLoading();
                        console.log(res);
                        uni.showToast({
                          title: '支付失败',
                          icon: 'none' });

                        that.commodity = '',
                        uni.redirectTo({
                          url: '../orderList/orderList' });

                      } });

                  });
                } });

            });
          } else
          {
            uni.showToast({
              icon: "none",
              title: res.msg ? res.msg : "支付错误" });

          }
        });
      }


    },
    // 微信支付
    wx: function wx(e) {var _this4 = this;
      var that = this;
      var cardbag_number = this.cardbag_number;
      // let  cardbag_number = "202009251006539216673724"
      var ip = this.ip;
      var openid = this.openid;
      var data = '{"serial_number":"' + that.outTradeNo + '","ip":"' + ip + '","openid":"' + openid +
      '","type":"cardbag"}';
      var action = 'add_paylog_to_wx';
      console.log(data);
      this.$utils.post(action, data).then(function (res) {
        console.log('获取参数', res);
        var serial_number = res.rs.serial_number;
        var arr = [];

        var date = {
          // 合作方标识
          appId: 'appId=wx9c53a99b078435f5',
          timeStamp: 'timeStamp=' + _this4.timeStamp,
          nonceStr: 'nonceStr=' + _this4.nums,
          package: 'package=prepay_id=' + res.rs.prepay_id,
          signType: 'signType=MD5' };




        console.log('拼接前', date);

        for (var i in date) {
          arr.push(date[i]);
        }

        arr.sort();

        var stringA = '';

        // 拼接字符串
        for (var _i10 in arr) {
          if (_i10 == arr.length - 1) {
            stringA += arr[_i10];
          } else {
            stringA += arr[_i10] + '&';
          }

        }
        // let stringSignTemp = stringA + '&key='  + '730ed24645b1a54e82a3d2bcff63db37';
        var stringSignTemp = stringA + '&key=dEEHizJM4cZtBy3Dlj4gVKwHMlM32IPv';

        console.log('拼接后', stringSignTemp);
        var sign = _md.default.hexMD5(stringSignTemp);
        console.log(sign);


        uni.hideLoading();

        uni.requestPayment({
          timeStamp: String(_this4.timeStamp),
          nonceStr: _this4.nums,
          package: 'prepay_id=' + res.rs.prepay_id,
          signType: 'MD5',
          paySign: sign.toUpperCase(),
          success: function success(res) {
            uni.hideLoading();
            uni.request({
              url: 'https://zhijianlw.com/api.php/index/set_agent_cardbag',
              data: {
                serial_number: that.outTradeNo },

              header: {
                'content-type': "application/x-www-form-urlencoded" //自定义请求头信息
              },
              method: 'GET',
              // 成功回调
              success: function success(res) {
                console.log('微信成功回调', res);
              } });

            uni.showModal({
              title: '微信支付',
              content: '支付成功',
              cancelText: '查看订单',
              confirmText: '立即赠送',
              success: function success(res) {
                if (res.confirm) {
                  console.log('点击立即赠送');
                  that.zengsong();
                } else if (res.cancel) {
                  console.log('点击查看详情');
                  var _cardbag_number = that.cardbag_number;
                  uni.switchTab({
                    url: '../order/order' });

                }
              } });


          },
          fail: function fail(res) {
            uni.hideLoading();
            console.log(res);
            uni.showToast({
              title: '支付失败',
              icon: 'none' });

            that.commodity = '';
          } });



      });
    },
    ipp: function ipp(e) {
      var that = this;
      // 获取IP地址
      uni.request({
        url: 'https://pv.sohu.com/cityjson?ie=utf-8',
        success: function success(e) {
          console.log(e);
          var aaa = e.data.split(' ');
          var bbb = aaa[4];
          var ccc = bbb.replace('"', '');
          var ddd = ccc.replace('"', '');
          var eee = ddd.replace(',', '');
          that.ip = eee;
          that.wx();
        } });


    },
    // 二维码
    code: function code(e) {
      this.display = false;
    },
    // 操作指南
    operation: function operation(e) {
      uni.navigateTo({
        url: '' });

    },
    signIn: function signIn(e) {
      uni.navigateTo({
        url: '../signin/signin' });

    },
    // 立即开通
    now: function now(e) {
      if (this.sta == 200) {
        uni.navigateTo({
          url: '../Member/Member' });

      } else if (this.sta == 0) {
        uni.navigateTo({
          url: '../signin/signin' });

      }

    },
    inputChoose: function inputChoose(e) {
      this.numbers = e.target.value;
      this.share = 1 + Number(e.detail.value);
      this.calculation();
    },
    // 份数选择
    bindPickerChange: function bindPickerChange(e) {
      if (this.number == 1) {
        this.numbers = 1 + Number(e.detail.value);
      } else {
        this.numbers = 1 + Number(e.detail.value);
      }
      this.share = 1 + Number(e.detail.value);

      this.calculation();
    },
    // 空包选择
    EmptyPacket: function EmptyPacket(e) {
      this.numbers = '1 : ' + (1 + Number(e.detail.value));
      this.share = 1 + Number(e.detail.value);
    },
    // 时间选择
    bindChange: function bindChange(e) {
      console.log(e);

      var val = e.detail.value;

      var myData = new Date();
      var hour = [];
      var minute = [];
      // 重置时间
      if (val[0] > 0) {
        console.log('更换日');
        this.hour = [];
        this.minute = [];

        // 当前小时
        for (var i = 0; i < 24; i++) {
          if (i < 10) {
            hour.push('0' + i);
          } else {
            hour.push(i);
          }
        }

        // 当前分钟
        for (var _i11 = 0; _i11 < 60; _i11++) {
          if (_i11 < 10) {
            minute.push('0' + _i11);
          } else {
            minute.push(_i11);
          }
        }
      } else {



        // 当前小时
        var _hours = myData.getHours();
        // 当前分钟
        var _minutes = myData.getMinutes();
        // 当前小时
        for (var _i12 = _hours; _i12 < 24; _i12++) {
          if (_i12 < 10) {
            hour.push('0' + _i12);
          } else {
            hour.push(_i12);
          }
        }


        if (val[1] > 0) {
          // 当前分钟
          for (var _i13 = 0; _i13 < 60; _i13++) {
            if (_i13 < 10) {
              minute.push('0' + _i13);
            } else {
              minute.push(_i13);
            }
          }
        } else {
          // 当前分钟
          for (var _i14 = _minutes; _i14 < 60; _i14++) {
            if (_i14 < 10) {
              minute.push('0' + _i14);
            } else {
              minute.push(_i14);
            }
          }
        }




      }
      this.hour = hour;
      this.minute = minute;

      this.nowtime = this.dates[val[0]] + '' + this.hour[val[1]] + ':' + this.minute[val[2]];



      // 正则提取数字
      var time = this.dates[val[0]].match(/\d+/g);

      var year = myData.getFullYear();
      var month = time[0];
      var date = time[1];
      var hours = this.hour[val[1]];
      var minutes = this.minute[val[2]];

      this.times = year + '-' + month + '-' + date + '  ' + hours + ':' + minutes;


    },
    // 加法
    increase: function increase(e) {

      var goodsid = e.currentTarget.dataset.goodsid;
      var index = e.currentTarget.dataset.index;
      this.commodity[index].goodsnum++;
      this.goodsid = goodsid;
      this.goodsnum = 1;
      this.give();


    },
    // 减法
    reduce: function reduce(e) {
      var goodsid = e.currentTarget.dataset.goodsid;
      var index = e.currentTarget.dataset.index;


      if (this.commodity[index].goodsnum == 1) {
        this.commodity.splice(index, 1);
        console.log("删除");
      } else {
        console.log('不删除');
        this.commodity[index].goodsnum--;

      }

      this.goodsnum = -1;
      this.goodsid = goodsid;
      this.give();

    },
    // 加减数量
    give: function give(e) {var _this5 = this;

      var data = '{"memberid":"' + this.id + '","goodsid":"' + this.goodsid + '","goodsnum":"' + this.goodsnum + '"}';
      var action = 'add_goods_to_giftbag';
      console.log(data);
      this.$utils.post(action, data).then(function (res) {
        console.log('添加购物车', res);

        var data = '{"memberid":"' + _this5.memberid + '"}';
        var action = 'get_buy_shopping_cart';

        _this5.$utils.post(action, data).then(function (res) {
          console.log('更改价格', res);


          var numberss = 0;

          for (var i in res.rs.goodslist) {
            numberss += Number(res.rs.goodslist[i].goodsnum);
          }
          _this5.numberss = numberss;

          _this5.price_zhe = res.rs.price_zhe;
          _this5.price_yuanshi = res.rs.price_yuanshi;
          var zhekou = res.rs.price_yuanshi - res.rs.price_zhe;

          if (zhekou == 0) {
            _this5.price_zhekou = '0';
          } else {
            _this5.price_zhekou = zhekou.toFixed(2);
          }



        });
      });

      console.log(this.commodity);
      if (this.commodity.length == 0) {
        this.com = false;
      }
    },
    // 选择份数
    calculation: function calculation(e) {var _this6 = this;

      var data = '{"memberid":"' + this.id + '","fenshu":"' + this.share + '"}';
      console.log('选择份数参数', data);
      var action = 'get_fenshu_price';

      this.$utils.post(action, data).then(function (res) {
        console.log('选择份数', res.rs);

        _this6.price_zhe = res.rs.price_zhe;
        var zhekou = res.rs.price_yuanshi - res.rs.price_zhe;
        _this6.price_yuanshi = res.rs.price_yuanshi;
        if (zhekou == 0) {
          _this6.price_zhekou = '0';
        } else {
          _this6.price_zhekou = zhekou.toFixed(2);
        }

      });

    },
    // 更多玩法 显示
    choosebtn: function choosebtn(e) {
      this.choose = true;
    },
    // 选择玩法
    btn: function btn(e) {
      var index = e.currentTarget.dataset.index;

      if (index == 4) {

      } else if (index == 1) {
        this.number = index;
        this.numbers = '1';
      } else if (index == 3) {
        this.number = index;
        this.numbers = '1:1';
      } else {
        this.number = index;
        this.numbers = '1';
      }
      this.choose = false;
    },

    // 选择模板
    template: function template(e) {

      var fenshu = 0;
      if (this.number == 0) {
        fenshu = this.share;
      } else if (this.number == 1) {
        fenshu = 1;
      } else {
        for (var i in this.commodity) {
          fenshu += this.commodity[i].goodsnum;
        }
      }
      uni.navigateTo({
        url: "../template/template?fenshu=" + fenshu });


    },

    chaxun: function chaxun(e) {
      var arr = [];


      var date = {
        // 合作方标识
        appId: 'appId=' + this.appid,
        // 随机数
        random: 'random=' + this.nums,
        // 门店编号
        merchantCode: 'merchantCode=' + this.merchantCode,
        // 商户订单号
        outTradeNo: 'outTradeNo=' + this.outTradeNo };


      console.log(date);

      for (var i in date) {
        arr.push(date[i]);
      }

      arr.sort();

      var stringA = '';

      // 拼接字符串
      for (var _i15 in arr) {
        if (_i15 == arr.length - 1) {
          stringA += arr[_i15];
        } else {
          stringA += arr[_i15] + '&';
        }

      }
      var stringSignTemp = stringA + '&key=' + this.key;


      console.log(stringSignTemp);
      // 小写
      var sign = _md.default.hexMD5(stringSignTemp);
      console.log(sign);

      var datt = {
        // 合作方标识
        appId: 'appId=' + this.appid,
        //  签名
        sign: 'sign=' + sign,
        // 随机数
        random: 'random=' + this.nums,
        // 门店编号
        merchantCode: 'merchantCode=' + this.merchantCode,
        // 商户订单号
        outTradeNo: 'outTradeNo=' + this.outTradeNo };

      console.log(datt);
      var arrr = [];

      for (var _i16 in datt) {
        arrr.push(datt[_i16]);
      }

      arrr.sort();

      var string = '';

      // 拼接字符串
      for (var _i17 in arrr) {
        if (_i17 == arrr.length - 1) {
          string += arrr[_i17];
        } else {
          string += arrr[_i17] + '&';
        }

      }
      console.log('字符串', string);


      uni.request({
        url: 'https://api.liantuofu.com/open/pay/query',
        data: string,
        header: {
          'content-type': "application/x-www-form-urlencoded" //自定义请求头信息
        },
        method: 'POST',
        // 成功回调
        success: function success(res) {
          console.log('订单状态', res.data);

          if (res.data.msg == "订单已支付") {
            wx.showToast({
              title: '支付成功',
              mask: true,
              success: function success(res) {
                setTimeout(function (e) {
                  uni.reLaunch({
                    url: '../order/order' });

                }, 1500);
              } });

          }
        } });

    },
    xiaochengxu: function xiaochengxu(e) {
      var that = this;
      var arr = [];

      var date = {
        // 合作方标识
        // appId: 'appId=' + 'EW_N3213842400',
        appId: 'appId=' + this.appid,
        // 随机数
        random: 'random=' + this.nums,
        // 门店编号
        // merchantCode:'merchantCode=' + 'EW_N5247492162',
        merchantCode: 'merchantCode=' + this.merchantCode,
        // 商户订单号
        outTradeNo: 'outTradeNo=' + this.outTradeNo,
        // 订单总金额
        totalAmount: 'totalAmount=' + this.totalAmount,
        // 支付渠道  活的
        channel: 'channel=' + 'WXPAY',
        // 支付交易类型
        tradeType: 'tradeType=' + 'MINIAPP',
        // 消费者用户标识
        openId: 'openId=' + this.openid,
        // 小程序appid
        subAppId: 'subAppId=' + 'wx9c53a99b078435f5',
        notifyUrl: 'notifyUrl=' + this.notifyUrl };


      console.log(date);

      for (var i in date) {
        arr.push(date[i]);
      }

      arr.sort();

      var stringA = '';

      // 拼接字符串
      for (var _i18 in arr) {
        if (_i18 == arr.length - 1) {
          stringA += arr[_i18];
        } else {
          stringA += arr[_i18] + '&';
        }

      }
      // let stringSignTemp = stringA + '&key='  + '730ed24645b1a54e82a3d2bcff63db37';
      var stringSignTemp = stringA + '&key=' + this.key;

      console.log(stringSignTemp);
      // 小写
      var sign = _md.default.hexMD5(stringSignTemp);
      console.log(sign);

      var datt = {
        // 合作方标识
        // appId:'appId=' + 'EW_N3213842400',
        appId: 'appId=' + this.appid,
        //  签名
        sign: 'sign=' + sign,
        // 随机数
        random: 'random=' + this.nums,
        // 门店编号   
        // merchantCode:'merchantCode=' + 'EW_N5247492162',
        merchantCode: 'merchantCode=' + this.merchantCode,
        // 商户订单号
        outTradeNo: 'outTradeNo=' + this.outTradeNo,
        // 订单总金额
        totalAmount: 'totalAmount=' + this.totalAmount,
        // 支付渠道  活的
        channel: 'channel=' + 'WXPAY',
        // 支付交易类型
        tradeType: 'tradeType=' + 'MINIAPP',
        // 消费者用户标识
        openId: 'openId=' + this.openid,
        // 小程序appid
        subAppId: 'subAppId=' + 'wx9c53a99b078435f5',
        notifyUrl: 'notifyUrl=' + this.notifyUrl };

      console.log(datt);
      var arrr = [];

      for (var _i19 in datt) {
        arrr.push(datt[_i19]);
      }
      arrr.sort();
      var string = '';

      // 拼接字符串
      for (var _i20 in arrr) {
        if (_i20 == arrr.length - 1) {
          string += arrr[_i20];
        } else {
          string += arrr[_i20] + '&';
        }
      }
      console.log('字符串', string);
      uni.request({
        url: 'https://api.liantuofu.com/open/precreate',
        data: string,
        header: {
          'content-type': "application/x-www-form-urlencoded" //自定义请求头信息
        },
        method: 'POST',
        // 成功回调
        success: function success(res) {
          console.log(res.data);
          console.log('判断一下', res);
          uni.hideLoading();

          if (res.statusCode == 200) {
            wx.requestPayment({
              timeStamp: res.data.timeStamp,
              nonceStr: res.data.nonceStr,
              package: res.data.payPackage,
              signType: res.data.signType,
              paySign: res.data.paySign,
              success: function success(res) {
                // 一级页面用switchTab   二级页面用redirectTo
                wx.showModal({
                  title: '微信支付',
                  content: '支付成功',
                  cancelText: '查看订单',
                  confirmText: '立即赠送',
                  success: function success(res) {
                    if (res.confirm) {
                      console.log('点击立即赠送');
                      that.zengsong();
                    } else if (res.cancel) {

                      console.log('点击查看详情');
                      var cardbag_number = that.cardbag_number;
                      uni.switchTab({
                        url: '../order/order' });


                    }
                  } });

              },
              fail: function fail(res) {
                console.log(res);
                uni.showToast({
                  title: '支付失败',
                  icon: 'none' });

              } });

          } else {
            uni.showToast({
              title: res.subMsg,
              icon: 'none' });

          }
        } });

    },
    zengsong: function zengsong(e) {
      var that = this;
      console.log('赠送');
      var cardbag_number = that.cardbag_number;
      var price = that.price_zhe;
      console.log(that.price_zhe);
      this.price_yuanshi = 0;
      this.price_zhe = 0;
      var data = '{"cardbag_number":"' + cardbag_number + '"}';
      var action = 'share_cardbag';
      this.$utils.post(action, data).then(function (res) {
        console.log('赠送好友', res);
        if (res.sta == 1) {
          uni.showToast({
            title: res.msg,
            icon: 'success',
            mask: true,
            success: function success(res) {
              setTimeout(function (e) {
                uni.navigateTo({
                  url: '../success/success?cardbag_number=' + cardbag_number + '&price=' + price });

              }, 1500);
            } });

        }
      });
    },
    // 获取openid
    open: function open() {var _this7 = this;
      var openid = uni.getStorageSync('openid');

      // 判断是否获取
      if (openid) {
        this.openid = openid;
        console.log('已获取openid');
      } else {
        // 获取openid
        uni.login({
          success: function success(res) {
            var data = '{"wx_code":"' + res.code + '"}';
            var action = 'get_openid';
            _this7.$utils.post(action, data).then(function (res) {
              console.log('openid', res);
              uni.setStorageSync('openid', res.openid);
              _this7.openid = res.openid;
            });
          } });

      }
    },
    bindGetUserInfo: function bindGetUserInfo(e) {
      // 用户信息
      if (e.detail.rawData) {
        this.Data = JSON.parse(e.detail.rawData);
        this.zhu();
        uni.showLoading({
          title: '登录中',
          mask: 'true' });

      }

    },
    zhu: function zhu() {var _this8 = this;
      // 基本信息
      var rawdata = this.Data;
      // openid
      var openid = this.openid;
      uni.setStorageSync('rawdata', rawdata);
      // 推荐人id parent_member  
      // 手机号  Phone
      var data = '{"wx_openid":"' + openid + '","name":"' + rawdata.nickName + '","sex":"' + rawdata.gender +
      '","head_img":"' + rawdata.avatarUrl + '"}';
      console.log(data);
      // 注册接口
      var action = 'member_register';

      this.$utils.post(action, data).then(function (res) {
        console.log('注册', res);
        uni.hideLoading();
        if (res.msg === "操作成功！" || res.msg === '该用户已经注册,请勿重复注册！') {
          //登录 
          var data = '{"wx_openid":"' + openid + '"}';
          var action = 'member_login';
          _this8.$utils.post(action, data).then(function (res) {
            uni.setStorageSync('NO', res.rs.NO);
            console.log('基本信息', res.rs);
            // 全部
            uni.setStorageSync('sign', res.rs);
            // 会员id
            uni.setStorageSync('id', res.rs.id);
            // 会员昵称
            uni.setStorageSync('name', res.rs.name);
            // 会员唯一标识
            uni.setStorageSync('keynum', res.rs.keynum);
            // 会员性别
            uni.setStorageSync('sex', res.rs.sex);
            // 会员头像
            uni.setStorageSync('head_img', res.rs.head_img);
            // 会员级别
            uni.setStorageSync('level_name', res.rs.level_name);
            uni.setStorageSync('level', res.rs.lmevemml);
            // 会员余额
            uni.setStorageSync('balance', res.rs.balance);
            // 会员指尖币余额
            uni.setStorageSync('zj_balance', res.rs.zj_balance);
            // 会员手机号
            uni.setStorageSync('phone', res.rs.phone);
            // 折扣
            if (res.rs.discount_name == null || res.rs.discount_name == '') {} else {
              uni.setStorageSync('discount_name', res.rs.discount_name);
            }
            _this8.head_img = res.rs.head_img;

            // 为了下次进行数据回刷
            _this8.showa = 1;
            _this8.sta = 200;

            // 指间币
            _this8.zj_balance = uni.getStorageSync('zj_balance');
            // 余额
            _this8.balance = uni.getStorageSync('balance');

            var data = '{"memberid":"' + _this8.memberid + '"}';
            var action = 'get_buy_shopping_cart';

            _this8.$utils.post(action, data).then(function (res) {
              console.log('商品', res);
              var numberss = 0;
              if (res.sta == 1) {

                for (var i in res.rs.goodslist) {
                  numberss += Number(res.rs.goodslist[i].goodsnum);
                }
                _this8.numberss = numberss;
                _this8.length = res.rs.goodslist.length;
                if (res.rs.goodslist.length >= 1) {

                  _this8.price_yuanshi = res.rs.price_yuanshi;
                  _this8.price_zhe = res.rs.price_zhe;
                  var zhekou = res.rs.price_yuanshi - res.rs.price_zhe;
                  if (zhekou == 0) {
                    _this8.price_zhekou = '0';
                  } else {
                    _this8.price_zhekou = zhekou.toFixed(2);
                  }
                  console.log(_this8.price_yuanshi);

                  _this8.commodity = res.rs.goodslist;

                  _this8.com = true;
                } else {
                  _this8.com = false;
                }
              } else {
                _this8.length = 0;
              }

            });

          });
        }
      });

    },
    choiceAddress: function choiceAddress() {
      uni.navigateTo({
        url: '../Add/Add?cardbag_number=5' });

    },
    deliveryModeChange: function deliveryModeChange(e) {
      console.log('picker发送选择改变，携带值为', e.target.value);
      this.delivery_mode_index = e.target.value;
    } },

  computed: {
    cache: false,
    total_price: function total_price() {

      // 只有优惠券对合计有影响
      return this.price_zhe - this.coupon_money > 0 ? this.price_zhe - this.coupon_money : 0;
    },
    save_money: function save_money() {
      return this.price_zhe - this.total_price;
    } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),

/***/ 452:
/*!********************************************************************************************************************!*\
  !*** C:/Users/HI BOY/Desktop/zhijianliwu20210716/pages/settlement/settlement.vue?vue&type=style&index=0&lang=css& ***!
  \********************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_D_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_settlement_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./settlement.vue?vue&type=style&index=0&lang=css& */ 453);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_D_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_settlement_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_D_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_D_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_settlement_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _D_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_D_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_settlement_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_D_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_settlement_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_D_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_D_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_settlement_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 453:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/HI BOY/Desktop/zhijianliwu20210716/pages/settlement/settlement.vue?vue&type=style&index=0&lang=css& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(false) { var cssReload; }
  

/***/ })

},[[446,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/settlement/settlement.js.map